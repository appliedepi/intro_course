<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.10.1.9019" />

<title>Transforming and restructuring data</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->

<link rel="stylesheet" href="css\css_custom.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- NOTES: To edit images, edit them in the "images" folder that lives NEXT TO THE RMD FILE -->
<!-- Add JavaScript code for making the exercise code larger -->
<script language="JavaScript" src="js/exercise-font-size.js"></script>
<div id="section-in-summary" class="section level2">
<h2>In summary</h2>
<div id="section-take-home-messages" class="section level3">
<h3>Take home messages</h3>
<ul>
<li><p><strong>Mutating joins</strong>: add new variables to a
dataframe</p></li>
<li><p><strong>Left join</strong>: keep all rows from the first
dataframe, and import lines with a correspondence from the second
dataframe.</p></li>
<li><p><strong>Right join</strong>: keep all rows from the second
dataframe, and import lines with a correspondence from the first
dataframe.</p></li>
<li><p><strong>Full join</strong>: combine two full dataframes, keeps
all rows.</p></li>
<li><p><strong>Inner join</strong>: take the intersection of two
dataframes, keeps only rows present in both dataframes</p></li>
<li><p><strong>Filtering joins</strong>: filter a dataframe based on
another one</p></li>
<li><p><strong>Anti join</strong>: keep all lines from first dataframe
without matches in the second dataframe</p></li>
<li><p><strong>semi join</strong>: keep all lines from first dataframe
with matches in the second dataframe</p></li>
</ul>
<p><img src="../../../images/summary_joins.png" width="100%" /></p>
</div>
<div id="section-some-resources" class="section level3">
<h3>Some resources</h3>
<ul>
<li><p>Tidyverse site presentation of <a
href="https://dplyr.tidyverse.org/articles/two-table.html#mutating-joins">mutating
joins</a> and <a
href="https://dplyr.tidyverse.org/articles/two-table.html#filtering-joins">filtering
joins</a>: some explanations + exemples</p></li>
<li><p>Tydiverse <em>reference page</em> on <a
href="https://dplyr.tidyverse.org/reference/mutate-joins.html">mutating
joins</a>: here you will find the full list of arguments for the joins
functions</p></li>
<li><p>Epirhandbook page <a
href="https://epirhandbook.com/en/joining-data.html#joining-data">on
joins</a></p></li>
</ul>
</div>
</div>
<div id="section-understanding-the-different-types-of-joins"
class="section level2">
<h2>Understanding the different types of joins</h2>
<p>First we will use small and clean dataframes to understand which
function to use and how, and in later steps we will try our hands on
linelist data.</p>
<p>Consider these two mini dataframes containing patient data and lab
results for patients.</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
sexe
</th>
<th style="text-align:right;">
age
</th>
<th style="text-align:left;">
age_unit
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Year
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_2
</td>
<td style="text-align:left;">
M
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
Year
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_3
</td>
<td style="text-align:left;">
M
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Year
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_4
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:left;">
Year
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_10
</td>
<td style="text-align:left;">
F
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:left;">
Year
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
test_result
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
positive
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_2
</td>
<td style="text-align:left;">
negative
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_4
</td>
<td style="text-align:left;">
negative
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_5
</td>
<td style="text-align:left;">
positive
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_6
</td>
<td style="text-align:left;">
positive
</td>
</tr>
</tbody>
</table>
<p>Which join would you use to…</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz-joins-1-1" class="tutorial-question panel-body">
<div id="quiz-joins-1-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-1-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-2" class="tutorial-question panel-body">
<div id="quiz-joins-1-2-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-2-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-3" class="tutorial-question panel-body">
<div id="quiz-joins-1-3-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-3-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-4" class="tutorial-question panel-body">
<div id="quiz-joins-1-4-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-4-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-4-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-5" class="tutorial-question panel-body">
<div id="quiz-joins-1-5-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-5-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-5-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-6" class="tutorial-question panel-body">
<div id="quiz-joins-1-6-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-6-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-6-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-joins-1-7" class="tutorial-question panel-body">
<div id="quiz-joins-1-7-answer_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-7-message_container" class="shiny-html-output"></div>
<div id="quiz-joins-1-7-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-using-joins-on-simple-datasets" class="section level2">
<h2>Using joins on simple datasets</h2>
<div id="section-syntax" class="section level3">
<h3>Syntax</h3>
<p>The syntax of the join functions is always the same:</p>
<pre class="r"><code>XXX_join(dataframe1,   # &quot;left&quot; dataframe
         dataframe2,   #  &quot;right&quot; dataframe
         by = c(&quot;identifier1&quot;, &quot;identifier2&quot;))   # Columns used to match the two dataframes


# Or, with a pipe:
dataframe1 %&gt;%             # &quot;left&quot; dataframe
     XXX_join(dataframe2,  # &quot;right&quot; dataframe
              by = c(&quot;identifier1&quot;, &quot;identifier2&quot;))   # Columns used to match the two dataframes</code></pre>
</div>
<div id="section-left-join" class="section level3">
<h3>Left join</h3>
<p>How would you perform a <em>left join</em> of <code>df_patient</code>
with <code>df_lab</code> (where <code>df_patient</code> is used as
reference/baseline)?</p>
<div class="tutorial-exercise" data-label="left_join_syntax"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="left_join_syntax-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Because we want `df_patient` as the baseline, it should be listed first.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="left_join_syntax-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>df_patient %&gt;% 
     left_join(df_lab, by = &quot;ID&quot;)</code></pre>
</div>
</div>
<div id="section-anti-join" class="section level3">
<h3>Anti-join</h3>
<p>Write the command that returns <em>all lines from the lab database
for which we are missing age and sex</em>.</p>
<div class="tutorial-exercise" data-label="anti_join_syntax"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support"
data-label="anti_join_syntax-hint" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>Because we want `df_lab` as the baseline, it should be listed first.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="anti_join_syntax-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>df_lab %&gt;% 
     anti_join(df_patient, by = &quot;ID&quot;)</code></pre>
</div>
</div>
<div id="section-troubleshooting-line-duplication"
class="section level3">
<h3>Troubleshooting line duplication</h3>
<p>When one dataframe has <strong>several lines for some of the
patients</strong>, duplications may occur (depending on the join).</p>
<p>Let us consider these small dataframes:</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
sexe
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
F
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_2
</td>
<td style="text-align:left;">
M
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_3
</td>
<td style="text-align:left;">
M
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ID
</th>
<th style="text-align:left;">
date_test
</th>
<th style="text-align:left;">
test_result
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
2021-12-01
</td>
<td style="text-align:left;">
positive
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
2021-12-26
</td>
<td style="text-align:left;">
negative
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_1
</td>
<td style="text-align:left;">
2022-01-05
</td>
<td style="text-align:left;">
negative
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_2
</td>
<td style="text-align:left;">
2021-12-18
</td>
<td style="text-align:left;">
positive
</td>
</tr>
<tr>
<td style="text-align:left;">
patient_4
</td>
<td style="text-align:left;">
2022-01-01
</td>
<td style="text-align:left;">
positive
</td>
</tr>
</tbody>
</table>
<p>How would you <em>count the number of lines for each patient</em>?
Try it for the <code>df2</code> dataframe:</p>
<div class="tutorial-exercise" data-label="nb_lines" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="nb_lines-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>There are several ways, but a very quick way is to use the ``count` function.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="nb_lines-solution"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>count(df2, ID)</code></pre>
</div>
<p>And if we do this for the <code>df1</code> dataframe:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["ID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"patient_1","2":"1"},{"1":"patient_2","2":"1"},{"1":"patient_3","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>So we see that in the lab dataframes, some patients have several
lines (they were tested more than once). This will affect our joins.</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz-duplication-1-1" class="tutorial-question panel-body">
<div id="quiz-duplication-1-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-1-message_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-duplication-1-2" class="tutorial-question panel-body">
<div id="quiz-duplication-1-2-answer_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-2-message_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-duplication-1-3" class="tutorial-question panel-body">
<div id="quiz-duplication-1-3-answer_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-3-message_container" class="shiny-html-output"></div>
<div id="quiz-duplication-1-3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
</div>
<div id="section-using-joins-on-linelist-data" class="section level2">
<h2>Using joins on linelist data</h2>
<div id="section-add-hospital-data" class="section level3">
<h3>Add hospital data</h3>
<p>Now we will try to use these functions with linelist data. We will
first guide you through joining of a subset of the linelist data with a
subset of hospital patient data.</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
case_id
</th>
<th style="text-align:left;">
hospital
</th>
<th style="text-align:right;">
age_years
</th>
<th style="text-align:right;">
wt_kg
</th>
<th style="text-align:right;">
ht_cm
</th>
<th style="text-align:left;">
date_onset
</th>
<th style="text-align:left;">
admin3pcod
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
86340d
</td>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:left;">
2014-10-30
</td>
<td style="text-align:left;">
SL040102
</td>
</tr>
<tr>
<td style="text-align:left;">
92d002
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
59
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:left;">
2014-08-16
</td>
<td style="text-align:left;">
SL040102
</td>
</tr>
<tr>
<td style="text-align:left;">
544bd1
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
39
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:left;">
2014-08-29
</td>
<td style="text-align:left;">
SL040204
</td>
</tr>
<tr>
<td style="text-align:left;">
6056ba
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:left;">
2014-10-20
</td>
<td style="text-align:left;">
SL040208
</td>
</tr>
<tr>
<td style="text-align:left;">
eb5aeb
</td>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
104
</td>
<td style="text-align:left;">
2014-10-28
</td>
<td style="text-align:left;">
SL040208
</td>
</tr>
<tr>
<td style="text-align:left;">
e64e04
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:left;">
2014-10-06
</td>
<td style="text-align:left;">
SL040102
</td>
</tr>
<tr>
<td style="text-align:left;">
5a65bb
</td>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
41
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:left;">
2014-09-21
</td>
<td style="text-align:left;">
SL040102
</td>
</tr>
<tr>
<td style="text-align:left;">
2ae019
</td>
<td style="text-align:left;">
Other
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
167
</td>
<td style="text-align:left;">
2014-05-06
</td>
<td style="text-align:left;">
SL040208
</td>
</tr>
<tr>
<td style="text-align:left;">
7ca4c0
</td>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
56
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:left;">
2014-09-29
</td>
<td style="text-align:left;">
SL040208
</td>
</tr>
<tr>
<td style="text-align:left;">
699d82
</td>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
178
</td>
<td style="text-align:left;">
2014-11-27
</td>
<td style="text-align:left;">
SL040102
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
hospital
</th>
<th style="text-align:left;">
id_case
</th>
<th style="text-align:left;">
hospitalisation_date
</th>
<th style="text-align:left;">
outcome
</th>
<th style="text-align:left;">
outcome_date
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
86340d
</td>
<td style="text-align:left;">
2014-10-31
</td>
<td style="text-align:left;">
Recover
</td>
<td style="text-align:left;">
2014-11-15
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
eb5aeb
</td>
<td style="text-align:left;">
2014-11-01
</td>
<td style="text-align:left;">
Recover
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
5a65bb
</td>
<td style="text-align:left;">
2014-09-22
</td>
<td style="text-align:left;">
Recover
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
7ca4c0
</td>
<td style="text-align:left;">
2014-09-30
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
2014-10-08
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
699d82
</td>
<td style="text-align:left;">
2014-11-28
</td>
<td style="text-align:left;">
Death
</td>
<td style="text-align:left;">
2014-12-05
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
30af4f
</td>
<td style="text-align:left;">
2014-11-10
</td>
<td style="text-align:left;">
Death
</td>
<td style="text-align:left;">
2014-11-14
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
f8cd8f
</td>
<td style="text-align:left;">
2014-10-19
</td>
<td style="text-align:left;">
Death
</td>
<td style="text-align:left;">
2014-10-25
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
212254
</td>
<td style="text-align:left;">
2014-08-31
</td>
<td style="text-align:left;">
Death
</td>
<td style="text-align:left;">
2014-09-06
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
cb8f4e
</td>
<td style="text-align:left;">
2014-10-29
</td>
<td style="text-align:left;">
Death
</td>
<td style="text-align:left;">
2014-11-05
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Hospital
</td>
<td style="text-align:left;">
890de4
</td>
<td style="text-align:left;">
2014-08-21
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
2014-08-23
</td>
</tr>
</tbody>
</table>
<p>Fill in the blank to <em>check the dimensions (number of lines and
columns) of the two dataframe</em>.</p>
<div class="tutorial-exercise" data-label="join_dim_1"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>____(linelist)
____(hospitals)</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="join_dim_1-solution"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>dim(linelist)
dim(hospitals)</code></pre>
</div>
<p>The first question to ask is which column should be used for the
matching.</p>
<div class="panel panel-default">
<div data-label="join_which_ID_1" class="tutorial-question panel-body">
<div id="join_which_ID_1-answer_container" class="shiny-html-output"></div>
<div id="join_which_ID_1-message_container" class="shiny-html-output"></div>
<div id="join_which_ID_1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Before joining, it is extremely important to consider whether the
column(s) used to match the two dataframes are clean. The
<code>join</code> functions from <strong>dplyr</strong> are using
<em>exact matching</em>: the values need to be <em>exactly the same</em>
in both dataframes to be matched.</p>
<p>Note: There are packages that perform probabilistic
(“<em>fuzzy</em>”) matching, but we will not see them today (refer to
the <a
href="https://epirhandbook.com/en/joining-data.html#probabalistic-matching">chapter
on joining in the epirhandbook</a>).</p>
<p>In our case, do we know if patient ID were entered in the same way in
both dataframe? If data comes from a clean SQL database and is a primary
key, probably. With excel data entered by many different people in
emergency settings, maybe not. <strong>In general, it is a good rule to
scrutinize the columns you want to use as identifer/keys to join your
dataframes</strong>.</p>
<p>Spend a bit of time looking at the structure of ID. Do they follow
the same pattern? Are some ID common between the two databases?</p>
<p>Let’s look at a sample of IDs from both dataframes:</p>
<pre class="r"><code>linelist %&gt;% arrange(case_id) %&gt;% pull(case_id) %&gt;% head(10)</code></pre>
<pre><code>##  [1] &quot;00612b&quot; &quot;008ea7&quot; &quot;00c3c7&quot; &quot;00da2b&quot; &quot;012ea3&quot; &quot;013ff1&quot; &quot;017b46&quot; &quot;0197b6&quot;
##  [9] &quot;01b1fd&quot; &quot;01dad0&quot;</code></pre>
<pre class="r"><code>hospitals %&gt;% arrange(id_case) %&gt;% pull(id_case) %&gt;% head(10)</code></pre>
<pre><code>##  [1] &quot;008ea7&quot; &quot;00c3c7&quot; &quot;0197b6&quot; &quot;050eca&quot; &quot;0563d7&quot; &quot;059b73&quot; &quot;062638&quot; &quot;098ddf&quot;
##  [9] &quot;09f73e&quot; &quot;0afd15&quot;</code></pre>
<p>They seem similar. Is there IDs in common between the two dataframes?
The <code>intersect()</code> function let you know which elements are in
common between two vectors.</p>
<pre class="r"><code>intersect(linelist$case_id,
          hospitals$id_case) %&gt;% head(10)</code></pre>
<pre><code>##  [1] &quot;86340d&quot; &quot;eb5aeb&quot; &quot;5a65bb&quot; &quot;7ca4c0&quot; &quot;699d82&quot; &quot;30af4f&quot; &quot;dc1730&quot; &quot;f8cd8f&quot;
##  [9] &quot;7bb784&quot; &quot;6f8014&quot;</code></pre>
<p>There are definitely IDs in common.</p>
<p>With very dirty data, you would want to inspect your IDs more,
especially the ones who don’t match, in case several patterns of IDs
were used within the same file.</p>
<p>Now, it would be good to understand better who are the patients in
which dataframes. Are there duplicated lines?</p>
<p>Show the <em>IDs from the linelist dataframe with more than one row
per patient</em>:</p>
<div class="tutorial-exercise" data-label="nb_lines2"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;% </code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="nb_lines2-hint-1"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>There are several ways, but a very quick way is to use the `count()` function.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="nb_lines2-hint-2"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>To only keep lines with that satisfy a condition in one or several columns you can use the `filter()` function. </code></pre>
</div>
<div class="tutorial-exercise-support" data-label="nb_lines2-solution"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>linelist %&gt;% 
     count(case_id) %&gt;% 
     filter(n &gt; 1)</code></pre>
</div>
<p>Now, do the same for the hospital dataframe:</p>
<div class="tutorial-exercise" data-label="nb_lines3"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":false,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<p>So we know that there some patients have several rows in the linelist
file. Ideally we would go and investigate these duplicates to see if
they correspond to different visits, or if some patients were wrongly
entered twice, but since our focus is on joining, let’s keep them all
for now.</p>
<p>Now, to understand how the two datasets relate to each other, you can
perform an <code>anti_join()</code> in both directions.</p>
<div class="tutorial-exercise" data-label="anti_join_exo1"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code># Perform an anti-join to see the rows from the linelist dataframe that have no match in the hospitals dataframe</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="anti_join_exo1-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>anti_join(df1, df2, by = &quot;ID&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="anti_join_exo1-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>anti_join(linelist, hospitals, by = c(&quot;case_id&quot; = &quot;id_case&quot;))</code></pre>
</div>
<p>Now in the other direction:</p>
<div class="tutorial-exercise" data-label="anti_join_exo2"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code># Perform an anti-join to see the rows from the hospital dataframe that have no match in the linelist dataframe</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="anti_join_exo2-hint"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>anti_join(df1, df2, by = &quot;ID&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="anti_join_exo2-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>anti_join(hospitals, linelist, by = c(&quot;id_case&quot; = &quot;case_id&quot;))</code></pre>
</div>
<p>So we see that the <code>linelist</code> dataframe has many patients
that are not in the <code>hospitals</code> dataframe, and that the
<code>hospitals</code> dataframe is mostly a subset of the linelist
patients (except for three rows).</p>
<p>Now, we feel safe in joining the <code>linelist</code> to the
<code>hospitals</code> data. <em>Perform a full join of both
datasets</em>.</p>
<div class="tutorial-exercise" data-label="full_join"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code># Perform a full join of hospitals unto linelist</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="full_join-solution"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>full_join(linelist, hospitals, by = c(&quot;case_id&quot; = &quot;id_case&quot;))</code></pre>
</div>
<p>Now let’s check the size of the output:</p>
<pre><code>## [1] 670  11</code></pre>
<p>We can see that the output dataset is slightly longer than the
original <code>linelist</code> dataset, which is normal since a couple
of rows from the <code>hospitals</code> dataframe had no matches in the
<code>linelist</code> dataframe.</p>
</div>
<div id="section-add-geo-data" class="section level3">
<h3>Add geo data</h3>
<p>We now want to add administrative data to patient data in the
linelist, using the <code>geo_data</code> dataframe. Here is the ten
first lines of this new dataframe:</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
ADM0_EN
</th>
<th style="text-align:left;">
ADM0_PCODE
</th>
<th style="text-align:left;">
ADM1_EN
</th>
<th style="text-align:left;">
ADM1_PCODE
</th>
<th style="text-align:left;">
ADM2_EN
</th>
<th style="text-align:left;">
ADM2_PCODE
</th>
<th style="text-align:left;">
ADM3_EN
</th>
<th style="text-align:left;">
ADM3_PCODE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Badjia
</td>
<td style="text-align:left;">
SL030101
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Bagbo
</td>
<td style="text-align:left;">
SL030102
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Bagbwe(Bagbe)
</td>
<td style="text-align:left;">
SL030103
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Bo Town
</td>
<td style="text-align:left;">
SL030191
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Boama
</td>
<td style="text-align:left;">
SL030104
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Bumpe Ngao
</td>
<td style="text-align:left;">
SL030105
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Gbo
</td>
<td style="text-align:left;">
SL030106
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Jaiama Bongor
</td>
<td style="text-align:left;">
SL030107
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Kakua
</td>
<td style="text-align:left;">
SL030108
</td>
</tr>
<tr>
<td style="text-align:left;">
Sierra Leone
</td>
<td style="text-align:left;">
SL
</td>
<td style="text-align:left;">
Southern
</td>
<td style="text-align:left;">
SL03
</td>
<td style="text-align:left;">
Bo
</td>
<td style="text-align:left;">
SL0301
</td>
<td style="text-align:left;">
Komboya
</td>
<td style="text-align:left;">
SL030109
</td>
</tr>
</tbody>
</table>
<p>Exercice: <em>add administrative data to each patient of the
linelist</em>.</p>
<div class="tutorial-exercise" data-label="join_geo" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Add administrative data to each patient of the linelist.</code></pre>
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="join_geo-hint-1"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Unsure of what to do? Which sort of join would fit most the wording of the question?</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="join_geo-hint-2"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Have you picked one or several identifier columns? Do they have the same name in both datasets? Inspect the content of the columns, will the match work?</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="join_geo-hint-3"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Have you picked one or several identifier columns? Do they have the same name in both datasets? Inspect the content of the columns, will the match work?</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="join_geo-solution"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code># Solution
left_join(linelist, geo_data, by = c(&quot;admin3pcod&quot; = &quot;ADM3_PCODE&quot;))</code></pre>
</div>
</div>
</div>
<div id="section-extra-dirty-identifiers" class="section level2">
<h2>Extra : dirty identifiers</h2>
<p>What happen when the identifiers columns are dirty?</p>
<p>Well, it depends on how many different values there are, and how much
they differ between the two datasets. Sometimes you may be able to clean
one of the columns by hand quickly. If that is not a viable solution,
you can try <a
href="https://epirhandbook.com/en/joining-data.html#probabilistic-matching">probabilistic/fuzzy</a>
matching with packages such as <a
href="https://github.com/kosukeimai/fastLink">fastLink</a> or <a
href="https://varianceexplained.org/fuzzyjoin/index.html">fuzzyjoin</a>.</p>
<p>Here you want to add some hospital data to the <code>linelist</code>
dataframe. Here is what the dataframe looks like:</p>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
hosp_name
</th>
<th style="text-align:right;">
catchment_pop
</th>
<th style="text-align:left;">
level
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
central hospital
</td>
<td style="text-align:right;">
1950280
</td>
<td style="text-align:left;">
Tertiary
</td>
</tr>
<tr>
<td style="text-align:left;">
military
</td>
<td style="text-align:right;">
40500
</td>
<td style="text-align:left;">
Secondary
</td>
</tr>
<tr>
<td style="text-align:left;">
military
</td>
<td style="text-align:right;">
10000
</td>
<td style="text-align:left;">
Primary
</td>
</tr>
<tr>
<td style="text-align:left;">
port
</td>
<td style="text-align:right;">
50280
</td>
<td style="text-align:left;">
Secondary
</td>
</tr>
<tr>
<td style="text-align:left;">
St. Mark’s
</td>
<td style="text-align:right;">
12000
</td>
<td style="text-align:left;">
Secondary
</td>
</tr>
<tr>
<td style="text-align:left;">
ignace
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:left;">
Primary
</td>
</tr>
<tr>
<td style="text-align:left;">
sisters
</td>
<td style="text-align:right;">
4200
</td>
<td style="text-align:left;">
Primary
</td>
</tr>
</tbody>
</table>
<p>Now, join the hospital data to the linelist data.</p>
<div class="tutorial-exercise" data-label="dirty_hospit"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<script type="application/json" data-ui-opts="1">{"engine":"r","has_checker":true,"caption":"<span data-i18n=\"text.enginecap\" data-i18n-opts=\"{&quot;engine&quot;:&quot;R&quot;}\">R Code<\/span>"}</script>
</div>
<div class="tutorial-exercise-support" data-label="dirty_hospit-hint-1"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>You can use the `unique()` or `distinct()` functions to identify differences in the columns to match</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dirty_hospit-hint-2"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>How can you clean the hospital_dirty hospital names?</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dirty_hospit-hint-3"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>You can use such functions as `replace()` and `case_when()` to rename values within a column using `mutate()`.</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="dirty_hospit-hint-4"
data-completion="1" data-diagnostics="1" data-startover="1"
data-lines="0">
<pre class="text"><code>Sometimes it can easiest to convert a column to all lowercase or all uppercase. If you need to convert all values in a column to UPPER or lower case, use `mutate()` and wrap the column with one of these functions from stringr such as `str_to_upper()`, `str_to_lower()`, `str_to_title()`.</code></pre>
</div>
<div class="tutorial-exercise-support"
data-label="dirty_hospit-solution" data-completion="1"
data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>left_join(linelist, hospital_clean, by = c(&quot;hospital&quot; = &quot;hosp_name&quot;))</code></pre>
</div>

<script type="application/shiny-prerendered" data-context="server-start">
# load packages ----------------------------------------------------------------
library(learnr)
# remotes::install_github("rstudio/gradethis")
# remotes::install_github("dtkaplan/etude")
library(gradethis)
library(etude)      # help functions for gradethis

pacman::p_load(
     here,
     rio,
     janitor,
     lubridate,
     tidyverse,
     kableExtra)

# set options for exercises and checking ---------------------------------------
gradethis::gradethis_setup()

# learnr::tutorial_options(exercise.timelimit = 60)
# exercise.checker = gradethis::grade_learnr) 
# alternatively, submitr::null_code_checker

# event recorder ---------------------------------------------------------------
# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R

# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises
# 
# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {
#      cat(
#           tutorial_id, 
#           " (v", tutorial_version, "); ",
#           format(Sys.time(), "%Y-%M%-%D %H:%M:%S %Z"), "; ",
#           user_id, "; ",
#           event, "; ",
#           data$label, "; ",
#           data$answers, "; ",
#           data$code, "; ",
#           data$correct, "\n", sep = "",
#           
#           file = here::here("event_records", "learnr_basics.txt"),
#           append = TRUE)
# }
# 
# options(tutorial.event_recorder = new_recorder)
# 


# Data prep --------------------------------------------------------------------
# Import
linelist_surv <- rio::import(here::here("data", "surveillance_linelist_clean.rds"))
hospitals <- bind_rows(rio::import(here::here("data", "Port Hospital 12012014.csv")),
                    rio::import(here::here("data", "Central Hospital 12012014.csv")))
geo_data <- rio::import(here::here("data", "sle_admpop_adm3_2020.csv"))


# Make more manageable files
linelist <- linelist_surv %>% 
     select(case_id, hospital, case_id, age_years,  wt_kg, 
            ht_cm,  date_onset, admin3pcod)

hospitals <- hospitals %>%  select(hospital, id_case = case_id, 
                                   `hospitalisation date`, outcome, `outcome date`) %>% 
     janitor::clean_names()

geo_data <- geo_data %>% select(-c(Female, Male), 
                                -starts_with("T"))

# Make the hospital information dataframe
hospital_dirty = data.frame(
  hosp_name     = c("central hospital", "military", "military", "port", "St. Mark's", "ignace", "sisters"),
  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),
  level         = c("Tertiary", "Secondary", "Primary", "Secondary", "Secondary", "Primary", "Primary")
)

hospital_clean <- hospital_dirty %>% 
  mutate(
    hosp_name = case_when(
      # criteria                         # new value
      hosp_name == "military"          ~ "Military Hospital",
      hosp_name == "port"              ~ "Port Hospital",
      hosp_name == "St. Mark's"        ~ "St. Mark's Maternity Hospital (SMMH)",
      hosp_name == "central hospital"  ~ "Central Hospital",
      TRUE                             ~ hosp_name
      )
    )

# Create smaller linelists for the easier exemples
df_patient <- tibble(ID = c("patient_1", "patient_2", "patient_3", 
                            "patient_4", "patient_10"), 
                     sexe = c("F", "M", "M", "F", "F"), 
                     age = c(5, 10, 2, 15, 14), 
                     age_unit = c("Year", "Year", "Year", "Year", "Year"))

df_lab <- tibble(ID = c("patient_1", "patient_2", "patient_4", 
                        "patient_5", "patient_6"), 
                 test_result = c("positive", "negative", 
                                 "negative", "positive", "positive"))


df1 <- tibble(ID = c("patient_1", "patient_2", "patient_3"),
              sexe = c("F", "M", "M"))
              
df2 <- tibble(ID = c("patient_1", "patient_1", "patient_1", "patient_2", "patient_4"),
              date_test = as.Date(c("2021-12-01", "2021-12-26", "2022-01-05", "2021-12-18", "2022-01-01")),
                 test_result = c("positive", "negative", "negative", "positive", "positive"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>


<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-joins-1-1", 
    question = structure("Which join would you use to add the age and sex for all patients in the lab database, if available", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_4a5cade", 
        option = "left_join(df_patient, df_lab, by = 'ID')", 
        value = "left_join(df_patient, df_lab, by = 'ID')", label = structure("left_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f1ad05d", 
        option = "right_join(df_patient, df_lab, by = 'ID')", 
        value = "right_join(df_patient, df_lab, by = 'ID')", 
        label = structure("right_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5bd5ecd", 
        option = "inner_join(df_patient, df_lab, by = 'ID')", 
        value = "inner_join(df_patient, df_lab, by = 'ID')", 
        label = structure("inner_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("An inner join would not include patients from the lab database without a match in the patient database. Rows for patient 5 and 6 would be lost", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_a67edf3", 
        option = "full_join(df_patient, df_lab, by = 'ID')", 
        value = "full_join(df_patient, df_lab, by = 'ID')", label = structure("full_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("An full join would bring in rows with no lab test from the patient database and add unwanted NA. Here we want to use the lab dataframe as the reference.", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7f11384", 
        option = "anti_join(df_patient, df_lab, by = 'ID')", 
        value = "anti_join(df_patient, df_lab, by = 'ID')", label = structure("anti_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9ba100d", 
        option = "semi_join(df_patient, df_lab, by = 'ID')", 
        value = "semi_join(df_patient, df_lab, by = 'ID')", label = structure("semi_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-1-answer", question = "quiz-joins-1-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich join would you use to add the age and sex for all patients in the lab database, if available\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1942930636.59525, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-joins-1-2", 
    question = structure("Which join would you use to get a dataframe with patients for wich we both have data for age, sex and test result", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_16c18a1", 
        option = "left_join(df_patient, df_lab, by = 'ID')", 
        value = "left_join(df_patient, df_lab, by = 'ID')", label = structure("left_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_3da3779", 
        option = "right_join(df_patient, df_lab, by = 'ID')", 
        value = "right_join(df_patient, df_lab, by = 'ID')", 
        label = structure("right_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8c0094", 
        option = "inner_join(df_patient, df_lab, by = 'ID')", 
        value = "inner_join(df_patient, df_lab, by = 'ID')", 
        label = structure("inner_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f5874b0", 
        option = "full_join(df_patient, df_lab, by = 'ID')", 
        value = "full_join(df_patient, df_lab, by = 'ID')", label = structure("full_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The full join would include all lines from the two dataframes, even if they do not have a match in the other dataframe", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8c993c0", 
        option = "anti_join(df_patient, df_lab, by = 'ID')", 
        value = "anti_join(df_patient, df_lab, by = 'ID')", label = structure("anti_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8932321", 
        option = "semi_join(df_patient, df_lab, by = 'ID')", 
        value = "semi_join(df_patient, df_lab, by = 'ID')", label = structure("semi_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-2-answer", question = "quiz-joins-1-2"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich join would you use to get a dataframe with patients for wich we both have data for age, sex and test result\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1299664861.8948, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-joins-1-3", 
    question = structure("Which join would you use to keep all the patients from the lab database for which we have personnal data (but do not import columns from the patient dataframe", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_d6f802", 
        option = "left_join(df_lab, df_patient, by = 'ID')", 
        value = "left_join(df_lab, df_patient, by = 'ID')", label = structure("left_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4467827", 
        option = "right_join(df_patient, df_lab, by = 'ID')", 
        value = "right_join(df_patient, df_lab, by = 'ID')", 
        label = structure("right_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_b351b2d", 
        option = "inner_join(df_lab, df_patient, by = 'ID')", 
        value = "inner_join(df_lab, df_patient, by = 'ID')", 
        label = structure("inner_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("You are close. But an inner join in this case would import the columns from the df_patient dataframe, which we do not want", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7072e83", 
        option = "full_join(df_lab, df_patient,  by = 'ID')", 
        value = "full_join(df_lab, df_patient,  by = 'ID')", 
        label = structure("full_join(df_lab, df_patient,  by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_1b9a09b", 
        option = "anti_join(df_patient, df_lab, by = 'ID')", 
        value = "anti_join(df_patient, df_lab, by = 'ID')", label = structure("anti_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ccd8e44", 
        option = "semi_join(df_lab, df_patient, by = 'ID')", 
        value = "semi_join(df_lab, df_patient, by = 'ID')", label = structure("semi_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-3-answer", question = "quiz-joins-1-3"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich join would you use to keep all the patients from the lab database for which we have personnal data (but do not import columns from the patient dataframe\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 162975393.424109, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-joins-1-4", 
    question = structure("Which join would you use to get the list of patients for whom we have personnal data (age and sex) but no test result", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_718b65a", 
        option = "left_join(df_patient, df_lab, by = 'ID')", 
        value = "left_join(df_patient, df_lab, by = 'ID')", label = structure("left_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9267c7", 
        option = "right_join(df_patient, df_lab, by = 'ID')", 
        value = "right_join(df_patient, df_lab, by = 'ID')", 
        label = structure("right_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_1d9af2a", 
        option = "inner_join(df_patient, df_lab, by = 'ID')", 
        value = "inner_join(df_patient, df_lab, by = 'ID')", 
        label = structure("inner_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_191f986", 
        option = "full_join(df_patient, df_lab, by = 'ID')", 
        value = "full_join(df_patient, df_lab, by = 'ID')", label = structure("full_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4e03fce", 
        option = "anti_join(df_patient, df_lab, by = 'ID')", 
        value = "anti_join(df_patient, df_lab, by = 'ID')", label = structure("anti_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_828beaf", 
        option = "semi_join(df_lab, df_patient, by = 'ID')", 
        value = "semi_join(df_lab, df_patient, by = 'ID')", label = structure("semi_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-4-answer", question = "quiz-joins-1-4"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich join would you use to get the list of patients for whom we have personnal data (age and sex) but no test result\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1316391493.38701, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz-joins-1-5", 
    question = structure("Which of these joins would class df_patient as the baseline?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_b91fe65", 
        option = "left_join(df_patient, df_lab, by = 'ID')", 
        value = "left_join(df_patient, df_lab, by = 'ID')", label = structure("left_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_3e6e261", 
        option = "right_join(df_lab, df_patient, by = 'ID')", 
        value = "right_join(df_lab, df_patient, by = 'ID')", 
        label = structure("right_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_427da0a", 
        option = "left_join(df_lab, df_patient, by = 'ID')", 
        value = "left_join(df_lab, df_patient, by = 'ID')", label = structure("left_join(df_lab, df_patient, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("FALSE", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-5-answer", question = "quiz-joins-1-5"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these joins would class df_patient as the baseline?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1101286014.48717, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz-joins-1-6", 
    question = structure("Which of these would return only the rows found in df_patient?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_4038eb7", 
        option = "inner_join(df_patient, df_lab, by = 'ID')", 
        value = "inner_join(df_patient, df_lab, by = 'ID')", 
        label = structure("inner_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_2824ac7", 
        option = "full_join(df_patient, df_lab, by = 'ID')", 
        value = "full_join(df_patient, df_lab, by = 'ID')", label = structure("full_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4075cb1", 
        option = "left_join(df_patient, df_lab, by = 'ID')", 
        value = "left_join(df_patient, df_lab, by = 'ID')", label = structure("left_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-6-answer", question = "quiz-joins-1-6"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would return only the rows found in df_patient?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1907692814.61166, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-joins-1-7", 
    question = structure("Which of these would fill in columns that didn&#39;t match with NA values?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_cddf06e", 
        option = "full_join(df_patient, df_lab, by = 'ID')", 
        value = "full_join(df_patient, df_lab, by = 'ID')", label = structure("full_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_a833263", 
        option = "semi_join(df_patient, df_lab, by = 'ID')", 
        value = "semi_join(df_patient, df_lab, by = 'ID')", label = structure("semi_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_dbba109", 
        option = "anti_join(df_patient, df_lab, by = 'ID')", 
        value = "anti_join(df_patient, df_lab, by = 'ID')", label = structure("anti_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9fbaf7", 
        option = "inner_join(df_patient, df_lab, by = 'ID')", 
        value = "inner_join(df_patient, df_lab, by = 'ID')", 
        label = structure("inner_join(df_patient, df_lab, by = &#39;ID&#39;)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-joins-1-7-answer", question = "quiz-joins-1-7"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich of these would fill in columns that didn&#39;t match with NA values?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1229683436.42738, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-left_join_syntax-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-left_join_syntax-code-editor`)), session)
output$`tutorial-exercise-left_join_syntax-output` <- renderUI({
  `tutorial-exercise-left_join_syntax-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "left_join_syntax", code = "", 
        opts = list(label = "\"left_join_syntax\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "left_join_syntax-check")), 
    solution = structure(c("df_patient %>% ", "     left_join(df_lab, by = \"ID\")"
    ), chunk_opts = list(label = "left_join_syntax-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "left_join_syntax", exercise = TRUE, code = "", 
        out.width.px = 624, out.height.px = 384, params.src = "left_join_syntax, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-anti_join_syntax-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-anti_join_syntax-code-editor`)), session)
output$`tutorial-exercise-anti_join_syntax-output` <- renderUI({
  `tutorial-exercise-anti_join_syntax-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "anti_join_syntax", code = "", 
        opts = list(label = "\"anti_join_syntax\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "anti_join_syntax-check")), 
    solution = structure(c("df_lab %>% ", "     anti_join(df_patient, by = \"ID\")"
    ), chunk_opts = list(label = "anti_join_syntax-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "anti_join_syntax", exercise = TRUE, code = "", 
        out.width.px = 624, out.height.px = 384, params.src = "anti_join_syntax, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-nb_lines-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-nb_lines-code-editor`)), session)
output$`tutorial-exercise-nb_lines-output` <- renderUI({
  `tutorial-exercise-nb_lines-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "nb_lines", code = "", opts = list(
        label = "\"nb_lines\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure(c("grade_this({", 
    "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "nb_lines-check")), 
    solution = structure("count(df2, ID)", chunk_opts = list(
        label = "nb_lines-solution")), test_cases = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "exercice_joins_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "nb_lines", exercise = TRUE, code = "", out.width.px = 624, 
        out.height.px = 384, params.src = "nb_lines, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-duplication-1-1", 
    question = structure("When runing the command left_join(df1, df2, by = &#39;ID&#39;), how many lines will be returned for patient 1?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_a36131d", 
        option = "0", value = "0", label = structure("0", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The left dataframe has a row for patient 1. This row could be duplicated if the right dataframe had more than one, but it cannot be dropped when using a left join.", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7f0b1e7", 
        option = "1", value = "1", label = structure("1", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The lab dataframe has three rows for patient 1, what do you think will happen to them?", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_3879a4d", 
        option = "2", value = "2", label = structure("2", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ccb7344", 
        option = "3", value = "3", label = structure("3", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_185ae75", 
        option = "4", value = "4", label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-duplication-1-1-answer", question = "quiz-duplication-1-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhen runing the command left_join(df1, df2, by = &#39;ID&#39;), how many lines will be returned for patient 1?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1533452273.28593, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-duplication-1-2", 
    question = structure("What about patient 2?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_a3a0e75", 
        option = "0", value = "0", label = structure("0", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The left dataframe has a row for patient 2. This row could be duplicated if the right dataframe had more than one, but it cannot be dropped when using a left join.", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_354b54", 
        option = "1", value = "1", label = structure("1", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f378633", 
        option = "2", value = "2", label = structure("2", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The right dataframe has only one row for patient 2, so it&#39;s a parfect one-on-one match", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_bc2aff5", 
        option = "3", value = "3", label = structure("3", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The right dataframe has only one row for patient 2, so it&#39;s a parfect one-on-one match", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5114d53", 
        option = "4", value = "4", label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The right dataframe has only one row for patient 2, so it&#39;s a parfect one-on-one match", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-duplication-1-2-answer", question = "quiz-duplication-1-2"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhat about patient 2?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 454003793.788588, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-duplication-1-3", 
    question = structure("When runing the command right_join(df1, df2, by = &#39;ID&#39;), what do you think the values in the sexe column will be for patient 4?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_1ae6064", 
        option = "F", value = "F", label = structure("F", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("What is the value of sexe for patient 4 in the df1 dataframe?", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_14bd087", 
        option = "M", value = "M", label = structure("M", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("What is the value of sexe for patient 4 in the df1 dataframe?", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_dcb7458", 
        option = "There won't be a patient_4 row, it will be dropped", 
        value = "There won't be a patient_4 row, it will be dropped", 
        label = structure("There won&#39;t be a patient_4 row, it will be dropped", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("This is a right join, so df2 is used as a reference dataframe, none of its rows will be dropped, even if no match is found in the df1 dataframe", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_974c3de", 
        option = "NA", value = "NA", label = structure("NA", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-duplication-1-3-answer", question = "quiz-duplication-1-3"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhen runing the command right_join(df1, df2, by = &#39;ID&#39;), what do you think the values in the sexe column will be for patient 4?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 163964909.423648, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-join_dim_1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-join_dim_1-code-editor`)), session)
output$`tutorial-exercise-join_dim_1-output` <- renderUI({
  `tutorial-exercise-join_dim_1-result`()
})
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "join_dim_1", code = "____(linelist)\n____(hospitals)", 
        opts = list(label = "\"join_dim_1\"", exercise = "TRUE", 
            exercise.blanks = "\"___+\""), engine = "r")), code_check = NULL, 
    error_check = NULL, check = NULL, solution = structure(c("dim(linelist)", 
    "dim(hospitals)"), chunk_opts = list(label = "join_dim_1-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "join_dim_1", exercise = TRUE, exercise.blanks = "___+", 
        code = c("____(linelist)", "____(hospitals)"), out.width.px = 624, 
        out.height.px = 384, params.src = "join_dim_1, exercise = TRUE, exercise.blanks = \"___+\"", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "join_which_ID_1", 
    question = structure("Which column(s) should we use as a primary key", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_c99d53c", 
        option = "case_id", value = "case_id", label = structure("case_id", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e428171", 
        option = "hospital", value = "hospital", label = structure("hospital", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_34ce360", 
        option = "age_years", value = "age_years", label = structure("age_years", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e084fc", 
        option = "date_onset", value = "date_onset", label = structure("date_onset", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_c902877", 
        option = "id_case", value = "id_case", label = structure("id_case", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5f8d8d1", 
        option = "hospitalisation_date", value = "hospitalisation_date", 
        label = structure("hospitalisation_date", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_aa4235e", 
        option = "outcome", value = "outcome", label = structure("outcome", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e14537e", 
        option = "outcome_date", value = "outcome_date", label = structure("outcome_date", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "join_which_ID_1-answer", question = "join_which_ID_1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich column(s) should we use as a primary key\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 914635416.07409, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-nb_lines2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-nb_lines2-code-editor`)), session)
output$`tutorial-exercise-nb_lines2-output` <- renderUI({
  `tutorial-exercise-nb_lines2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "nb_lines2", code = "linelist %>% ", 
        opts = list(label = "\"nb_lines2\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "nb_lines2-check")), 
    solution = structure(c("linelist %>% ", "     count(case_id) %>% ", 
    "     filter(n > 1)"), chunk_opts = list(label = "nb_lines2-solution")), 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "nb_lines2", exercise = TRUE, code = "linelist %>% ", 
        out.width.px = 624, out.height.px = 384, params.src = "nb_lines2, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-nb_lines3-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-nb_lines3-code-editor`)), session)
output$`tutorial-exercise-nb_lines3-output` <- renderUI({
  `tutorial-exercise-nb_lines3-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "nb_lines3", code = "", opts = list(
        label = "\"nb_lines3\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = NULL, solution = NULL, 
    test_cases = NULL, options = list(eval = FALSE, echo = TRUE, 
        results = "markup", tidy = FALSE, tidy.opts = NULL, collapse = FALSE, 
        prompt = FALSE, comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "nb_lines3", exercise = TRUE, code = "", out.width.px = 624, 
        out.height.px = 384, params.src = "nb_lines3, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-anti_join_exo1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-anti_join_exo1-code-editor`)), session)
output$`tutorial-exercise-anti_join_exo1-output` <- renderUI({
  `tutorial-exercise-anti_join_exo1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "anti_join_exo1", code = "# Perform an anti-join to see the rows from the linelist dataframe that have no match in the hospitals dataframe\n\n", 
        opts = list(label = "\"anti_join_exo1\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "anti_join_exo1-check")), 
    solution = structure("anti_join(linelist, hospitals, by = c(\"case_id\" = \"id_case\"))", chunk_opts = list(
        label = "anti_join_exo1-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "anti_join_exo1", exercise = TRUE, code = c("# Perform an anti-join to see the rows from the linelist dataframe that have no match in the hospitals dataframe", 
        "", ""), out.width.px = 624, out.height.px = 384, params.src = "anti_join_exo1, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-anti_join_exo2-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-anti_join_exo2-code-editor`)), session)
output$`tutorial-exercise-anti_join_exo2-output` <- renderUI({
  `tutorial-exercise-anti_join_exo2-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "anti_join_exo2", code = "# Perform an anti-join to see the rows from the hospital dataframe that have no match in the linelist dataframe\n\n", 
        opts = list(label = "\"anti_join_exo2\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "anti_join_exo2-check")), 
    solution = structure("anti_join(hospitals, linelist, by = c(\"id_case\" = \"case_id\"))", chunk_opts = list(
        label = "anti_join_exo2-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "anti_join_exo2", exercise = TRUE, code = c("# Perform an anti-join to see the rows from the hospital dataframe that have no match in the linelist dataframe", 
        "", ""), out.width.px = 624, out.height.px = 384, params.src = "anti_join_exo2, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-full_join-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-full_join-code-editor`)), session)
output$`tutorial-exercise-full_join-output` <- renderUI({
  `tutorial-exercise-full_join-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "full_join", code = "# Perform a full join of hospitals unto linelist\n\n", 
        opts = list(label = "\"full_join\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "full_join-check")), 
    solution = structure("full_join(linelist, hospitals, by = c(\"case_id\" = \"id_case\"))", chunk_opts = list(
        label = "full_join-solution")), test_cases = NULL, options = list(
        eval = FALSE, echo = TRUE, results = "markup", tidy = FALSE, 
        tidy.opts = NULL, collapse = FALSE, prompt = FALSE, comment = NA, 
        highlight = FALSE, size = "normalsize", background = "#F7F7F7", 
        strip.white = TRUE, cache = 0, cache.path = "exercice_joins_cache/html/", 
        cache.vars = NULL, cache.lazy = TRUE, dependson = NULL, 
        autodep = FALSE, cache.rebuild = FALSE, fig.keep = "high", 
        fig.show = "asis", fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "full_join", exercise = TRUE, code = c("# Perform a full join of hospitals unto linelist", 
        "", ""), out.width.px = 624, out.height.px = 384, params.src = "full_join, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-join_geo-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-join_geo-code-editor`)), session)
output$`tutorial-exercise-join_geo-output` <- renderUI({
  `tutorial-exercise-join_geo-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "join_geo", code = "# Add administrative data to each patient of the linelist.\n", 
        opts = list(label = "\"join_geo\"", exercise = "TRUE"), 
        engine = "r")), code_check = NULL, error_check = NULL, 
    check = structure(c("grade_this({", "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "join_geo-check")), 
    solution = structure(c("# Solution", "left_join(linelist, geo_data, by = c(\"admin3pcod\" = \"ADM3_PCODE\"))"
    ), chunk_opts = list(label = "join_geo-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "join_geo", exercise = TRUE, code = c("# Add administrative data to each patient of the linelist.", 
        ""), out.width.px = 624, out.height.px = 384, params.src = "join_geo, exercise = TRUE", 
        fig.num = 0, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>


<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-dirty_hospit-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-dirty_hospit-code-editor`)), session)
output$`tutorial-exercise-dirty_hospit-output` <- renderUI({
  `tutorial-exercise-dirty_hospit-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::store_exercise_cache(structure(list(global_setup = structure(c("# load packages ----------------------------------------------------------------", 
"library(learnr)", "# remotes::install_github(\"rstudio/gradethis\")", 
"# remotes::install_github(\"dtkaplan/etude\")", "library(gradethis)", 
"library(etude)      # help functions for gradethis", "", "pacman::p_load(", 
"     here,", "     rio,", "     janitor,", "     lubridate,", 
"     tidyverse,", "     kableExtra)", "", "# set options for exercises and checking ---------------------------------------", 
"gradethis::gradethis_setup()", "", "# learnr::tutorial_options(exercise.timelimit = 60)", 
"# exercise.checker = gradethis::grade_learnr) ", "# alternatively, submitr::null_code_checker", 
"", "# event recorder ---------------------------------------------------------------", 
"# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R", 
"", "# tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises", 
"# ", "# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {", 
"#      cat(", "#           tutorial_id, ", "#           \" (v\", tutorial_version, \"); \",", 
"#           format(Sys.time(), \"%Y-%M%-%D %H:%M:%S %Z\"), \"; \",", 
"#           user_id, \"; \",", "#           event, \"; \",", 
"#           data$label, \"; \",", "#           data$answers, \"; \",", 
"#           data$code, \"; \",", "#           data$correct, \"\\n\", sep = \"\",", 
"#           ", "#           file = here::here(\"event_records\", \"learnr_basics.txt\"),", 
"#           append = TRUE)", "# }", "# ", "# options(tutorial.event_recorder = new_recorder)", 
"# ", "", "", "# Data prep --------------------------------------------------------------------", 
"# Import", "linelist_surv <- rio::import(here::here(\"data\", \"surveillance_linelist_clean.rds\"))", 
"hospitals <- bind_rows(rio::import(here::here(\"data\", \"Port Hospital 12012014.csv\")),", 
"                    rio::import(here::here(\"data\", \"Central Hospital 12012014.csv\")))", 
"geo_data <- rio::import(here::here(\"data\", \"sle_admpop_adm3_2020.csv\"))", 
"", "", "# Make more manageable files", "linelist <- linelist_surv %>% ", 
"     select(case_id, hospital, case_id, age_years,  wt_kg, ", 
"            ht_cm,  date_onset, admin3pcod)", "", "hospitals <- hospitals %>%  select(hospital, id_case = case_id, ", 
"                                   `hospitalisation date`, outcome, `outcome date`) %>% ", 
"     janitor::clean_names()", "", "geo_data <- geo_data %>% select(-c(Female, Male), ", 
"                                -starts_with(\"T\"))", "", "# Make the hospital information dataframe", 
"hospital_dirty = data.frame(", "  hosp_name     = c(\"central hospital\", \"military\", \"military\", \"port\", \"St. Mark's\", \"ignace\", \"sisters\"),", 
"  catchment_pop = c(1950280, 40500, 10000, 50280, 12000, 5000, 4200),", 
"  level         = c(\"Tertiary\", \"Secondary\", \"Primary\", \"Secondary\", \"Secondary\", \"Primary\", \"Primary\")", 
")", "", "hospital_clean <- hospital_dirty %>% ", "  mutate(", 
"    hosp_name = case_when(", "      # criteria                         # new value", 
"      hosp_name == \"military\"          ~ \"Military Hospital\",", 
"      hosp_name == \"port\"              ~ \"Port Hospital\",", 
"      hosp_name == \"St. Mark's\"        ~ \"St. Mark's Maternity Hospital (SMMH)\",", 
"      hosp_name == \"central hospital\"  ~ \"Central Hospital\",", 
"      TRUE                             ~ hosp_name", "      )", 
"    )", "", "# Create smaller linelists for the easier exemples", 
"df_patient <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\", ", 
"                            \"patient_4\", \"patient_10\"), ", 
"                     sexe = c(\"F\", \"M\", \"M\", \"F\", \"F\"), ", 
"                     age = c(5, 10, 2, 15, 14), ", "                     age_unit = c(\"Year\", \"Year\", \"Year\", \"Year\", \"Year\"))", 
"", "df_lab <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_4\", ", 
"                        \"patient_5\", \"patient_6\"), ", "                 test_result = c(\"positive\", \"negative\", ", 
"                                 \"negative\", \"positive\", \"positive\"))", 
"", "", "df1 <- tibble(ID = c(\"patient_1\", \"patient_2\", \"patient_3\"),", 
"              sexe = c(\"F\", \"M\", \"M\"))", "              ", 
"df2 <- tibble(ID = c(\"patient_1\", \"patient_1\", \"patient_1\", \"patient_2\", \"patient_4\"),", 
"              date_test = as.Date(c(\"2021-12-01\", \"2021-12-26\", \"2022-01-05\", \"2021-12-18\", \"2022-01-01\")),", 
"                 test_result = c(\"positive\", \"negative\", \"negative\", \"positive\", \"positive\"))"
), chunk_opts = list(label = "setup", include = FALSE)), setup = NULL, 
    chunks = list(list(label = "dirty_hospit", code = "", opts = list(
        label = "\"dirty_hospit\"", exercise = "TRUE"), engine = "r")), 
    code_check = NULL, error_check = NULL, check = structure(c("grade_this({", 
    "     # Automatically pass if .result equal to .solution", 
    "     pass_if_equal(message = \"Excellent\")", "     # Default to failing grade with feedback", 
    "     fail()", "})"), chunk_opts = list(label = "dirty_hospit-check")), 
    solution = structure("left_join(linelist, hospital_clean, by = c(\"hospital\" = \"hosp_name\"))", chunk_opts = list(
        label = "dirty_hospit-solution")), test_cases = NULL, 
    options = list(eval = FALSE, echo = TRUE, results = "markup", 
        tidy = FALSE, tidy.opts = NULL, collapse = FALSE, prompt = FALSE, 
        comment = NA, highlight = FALSE, size = "normalsize", 
        background = "#F7F7F7", strip.white = TRUE, cache = 0, 
        cache.path = "exercice_joins_cache/html/", cache.vars = NULL, 
        cache.lazy = TRUE, dependson = NULL, autodep = FALSE, 
        cache.rebuild = FALSE, fig.keep = "high", fig.show = "asis", 
        fig.align = "default", fig.path = "exercice_joins_files/figure-html/", 
        dev = "png", dev.args = NULL, dpi = 192, fig.ext = "png", 
        fig.width = 6.5, fig.height = 4, fig.env = "figure", 
        fig.cap = NULL, fig.scap = NULL, fig.lp = "fig:", fig.subcap = NULL, 
        fig.pos = "", out.width = 624, out.height = NULL, out.extra = NULL, 
        fig.retina = 2, external = TRUE, sanitize = FALSE, interval = 1, 
        aniopts = "controls,loop", warning = TRUE, error = FALSE, 
        message = TRUE, render = NULL, ref.label = NULL, child = NULL, 
        engine = "r", split = FALSE, include = TRUE, purl = TRUE, 
        max.print = 1000, exercise.timelimit = 60, exercise.checker = "function (label = NULL, solution_code = NULL, user_code = NULL, \n    check_code = NULL, envir_result = NULL, evaluate_result = NULL, \n    envir_prep = NULL, last_value = NULL, stage = NULL, ...) \n{\n    (utils::getFromNamespace(\"check_exercise\", \"gradethis\"))(label = label, \n        solution_code = solution_code, user_code = user_code, \n        check_code = check_code, envir_result = envir_result, \n        evaluate_result = evaluate_result, envir_prep = envir_prep, \n        last_value = last_value, stage = stage, ...)\n}", 
        exercise.error.check.code = "gradethis_error_checker()", 
        label = "dirty_hospit", exercise = TRUE, code = "", out.width.px = 624, 
        out.height.px = 384, params.src = "dirty_hospit, exercise = TRUE", 
        fig.num = 0L, exercise.df_print = "paged"), engine = "r"), class = "tutorial_exercise"))
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/paper.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"<U+CF54><U+B4DC> <U+C2E4><U+D589>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+D78C><U+D2B8>\",\"hint_plural\":\"<U+D78C><U+D2B8><U+B4E4>\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"<U+B2E4><U+C74C> <U+D78C><U+D2B8>\",\"hintprev\":\"<U+C774><U+C804> <U+D78C><U+D2B8>\",\"solution\":\"<U+C194><U+B8E8><U+C158>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+D074><U+B9BD><U+BCF4><U+B4DC><U+C5D0> <U+BCF5><U+C0AC>\",\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"<U+B2E4><U+C74C> <U+D559><U+C2B5><U+C73C><U+B85C>\",\"submitanswer\":\"<U+C815><U+B2F5> <U+C81C><U+CD9C>\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"<U+C774><U+C804> <U+D1A0><U+D53D>\",\"nexttopic\":\"<U+B2E4><U+C74C> <U+D1A0><U+D53D>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+C7AC><U+C2DC><U+B3C4>\"},\"text\":{\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"areyousure\":\"<U+B2E4><U+C2DC> <U+C2DC><U+C791> <U+D558><U+C2DC><U+ACA0><U+C2B5><U+B2C8><U+AE4C>? (<U+BAA8><U+B4E0> <U+C608><U+C81C><U+C758> <U+C9C4><U+D589> <U+C815><U+BCF4><U+AC00> <U+C7AC><U+C124><U+C815><U+B429><U+B2C8><U+B2E4>)\",\"youmustcomplete\":\"<U+B2F9><U+C2E0><U+C740> <U+C644><U+B8CC><U+D574><U+C57C> <U+D569><U+B2C8><U+B2E4>\",\"exercise\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C>\",\"exercise_plural\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C><U+B4E4>\",\"inthissection\":\"<U+C774> <U+C139><U+C158><U+C744> <U+C2E4><U+D589><U+D558><U+AE30> <U+C804><U+C5D0>\",\"code\":\"<U+CF54><U+B4DC>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"<U+D034><U+C988>\",\"blank\":\"<U+ACF5><U+BC31>\",\"blank_plural\":\"<U+ACF5><U+BC31><U+B4E4>\",\"exercisecontainsblank\":\"<U+C774> <U+C5F0><U+C2B5><U+BB38><U+C81C><U+C5D0><U+B294> {{count}}<U+AC1C><U+C758> $t(text.blank)<U+C774> <U+D3EC><U+D568><U+B418><U+C5B4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\",\"pleasereplaceblank\":\"{{blank}}<U+B97C> <U+C720><U+D6A8><U+D55C> <U+CF54><U+B4DC><U+B85C> <U+BC14><U+AFB8><U+C2ED><U+C2DC><U+C624>.\",\"unparsable\":\"<U+C774><U+AC83><U+C740> <U+C720><U+D6A8><U+D55C> R <U+CF54><U+B4DC><U+AC00> <U+C544><U+B2D0> <U+C218> <U+C788><U+C2B5><U+B2C8><U+B2E4>. R<U+C740> <U+D14D><U+C2A4><U+D2B8><U+B97C> <U+C644><U+C804><U+D55C> <U+BA85><U+B839><U+C73C><U+B85C> <U+BCC0><U+D658><U+D558><U+B294> <U+BC29><U+BC95><U+C744> <U+ACB0><U+C815><U+D560> <U+C218> <U+C5C6><U+C2B5><U+B2C8><U+B2E4>. <U+B2F9><U+C2E0><U+C740> <U+ACF5><U+BC31><U+C774><U+B098> <U+BC11><U+C904><U+C744> <U+B300><U+CCB4><U+D558><U+C5EC> <U+CC44><U+C6B0><U+AE30>, <U+C778><U+C218><U+B97C> <U+CEF4><U+B9C8><U+B85C> <U+AD6C><U+BD84><U+D558><U+AE30>, <U+B610><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code><U+B85C> <U+C2DC><U+C791><U+D558><U+B294> <U+AD6C><U+BB38><U+C744> <U+B2EB><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code><U+C744> <U+C78A><U+C5C8><U+C744> <U+C218><U+B3C4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\\n\",\"and\":\"<U+ADF8><U+B9AC><U+ACE0>\",\"or\":\"<U+D639><U+C740>\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["kePrint"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["kePrint-0.0.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["kePrint.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["lightable"]},{"type":"character","attributes":{},"value":["0.0.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lightable-0.0.1"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["lightable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["kableExtra"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.3.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","bslib","cellranger","checkmate","cli","colorspace","compiler","crayon","curl","data.table","datasets","DBI","dbplyr","digest","dplyr","ellipsis","etude","evaluate","fansi","fastmap","forcats","foreign","fs","generics","ggplot2","glue","gradethis","graphics","grDevices","grid","gtable","haven","here","highr","hms","htmltools","htmlwidgets","httpuv","httr","janitor","jquerylib","jsonlite","kableExtra","knitr","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","openxlsx","pacman","pillar","pkgconfig","promises","purrr","R6","Rcpp","readr","readxl","reprex","rio","rlang","rmarkdown","rprojroot","rstudioapi","rvest","sass","scales","shiny","snakecase","stats","stringi","stringr","svglite","systemfonts","tibble","tidyr","tidyselect","tidyverse","tools","tzdb","utf8","utils","vctrs","viridisLite","webshot","withr","xfun","xml2","xtable","yaml","zip"]},{"type":"character","attributes":{},"value":["0.2.1","1.4.1","4.1.2","0.7.12","0.3.1","1.1.0","2.0.0","3.2.0","2.0-3","4.1.2","1.5.0","4.3.2","1.14.2","4.1.2","1.1.2","2.1.1","0.6.29","1.0.8","0.3.2","0.3.0.9001","0.15","1.0.2","1.1.0","0.5.1","0.8-81","1.5.2","0.1.2","3.3.5","1.6.2","0.2.5.9000","4.1.2","4.1.2","4.1.2","0.3.0","2.4.3","1.0.1","0.9","1.1.1","0.5.2","1.5.4","1.6.5","1.4.2","2.1.0","0.1.4","1.8.0","1.3.4","1.37","1.3.0","0.10.1.9019","1.0.1","1.8.0","2.0.2","1.1","4.1.2","0.12","0.1.8","0.5.0","4.2.5","0.5.1","1.7.0","2.0.3","1.2.0.1","0.3.4","2.5.1","1.0.8","2.1.2","1.3.1","2.0.1","0.5.29","1.0.1","2.13","2.0.2","0.13","1.0.2","0.4.0","1.1.1","1.7.1","0.11.0","4.1.2","1.7.6","1.4.0","2.1.0","1.0.4","3.1.6","1.2.0","1.1.2","1.3.1","4.1.2","0.2.0","1.2.2","4.1.2","0.3.8","0.4.0","0.5.2","2.5.0","0.30","1.3.3","1.8-4","2.3.5","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Transforming and
restructuring data</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
