<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.10.1.9019" />

<title>Applied Epi - Data cleaning</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->

<link rel="stylesheet" href="css\css_custom.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- NOTES: To edit images, edit them in the "images" folder that lives NEXT TO THE RMD FILE -->
<!-- Add JavaScript code for making the exercise code larger -->
<script language="JavaScript" src="js/exercise-font-size.js"></script>
<div
id="section-introduction-to-r-for-applied-epidemiology-and-public-health"
class="section level2">
<h2>Introduction to R for Applied Epidemiology and Public Health</h2>
<div id="section-welcome" class="section level3">
<h3>Welcome</h3>
<p>Welcome to the live course “Introduction to R for applied
epidemiology”, offered by <a href="www.appliedepi.org">Applied Epi</a> -
a nonprofit organisation that offers open-source tools, training, and
support to frontline public health practitioners.</p>
<p><img src="images/logo.png" width="25%" /></p>
</div>
<div id="section-data-cleaning" class="section level3">
<h3>Data cleaning</h3>
<p>This exercise focuses on <strong>cleaning data, including filter
rows, selecting columns, deduplicating rows, creating new columns,
creating categorical variables, and cleaning dates</strong>.</p>
</div>
<div id="section-format" class="section level3">
<h3>Format</h3>
<p>This exercise will guide you through a set of tasks.<br />
<em>You should perform these tasks in RStudio and on your local
computer</em>.</p>
<div id="section-getting-help" class="section level4">
<h4>Getting Help</h4>
<p>There are several ways to get help:</p>
<ol style="list-style-type: decimal">
<li>Look for the “helpers” (see below)</li>
<li>Ask your live course instructor/facilitator for help<br />
</li>
<li>Ask a colleague or other participant in the course for tips<br />
</li>
<li>Post a question in <a href="www.community.appliedepi.org">Applied
Epi Community</a> in the category for questions about Applied Epi
Training</li>
</ol>
<p>Here is what those “helpers” will look like:</p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Here you will see a helpful hint!</p>
</br>
</details>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>linelist %&gt;% 
  filter(
    age &gt; 25,
    district == &quot;Bolo&quot;
  )</code></pre>
<p>Here is more explanation about why the solution works.</p>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-quiz-questions" class="section level4">
<h4>Quiz questions</h4>
<p>Please complete the quiz questions that you encounter throughout the
tutorial. <strong>Answering will help you</strong> to comprehend the
material, and will also help us to improve the exercises for future
students.</p>
<p>To practice, please answer the following questions:</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz-use-helper-1" class="tutorial-question panel-body">
<div id="quiz-use-helper-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-use-helper-1-message_container" class="shiny-html-output"></div>
<div id="quiz-use-helper-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-anxious" class="tutorial-question panel-body">
<div id="quiz-anxious-answer_container" class="shiny-html-output"></div>
<div id="quiz-anxious-message_container" class="shiny-html-output"></div>
<div id="quiz-anxious-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-icons" class="section level4">
<h4>Icons</h4>
<p>You will see these icons throughout the exercises:</p>
<table>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Icon</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg></td>
<td>Observe</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg></td>
<td>Alert!</td>
</tr>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:brown;overflow:visible;position:relative;"><path d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"/></svg></td>
<td>An informative note</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg></td>
<td>Time for you to code!</td>
</tr>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkgrey;overflow:visible;position:relative;"><path d="M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"/></svg></td>
<td>Change to another window</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:orange;overflow:visible;position:relative;"><path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"/></svg></td>
<td>Remember this for later</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="section-learning-objectives" class="section level2">
<h2>Learning objectives</h2>
<p>In this exercise you will:</p>
<ul>
<li>Import data into R and inspect it<br />
</li>
<li>Apply a series of {dplyr} functions to clean a messy raw
dataset<br />
</li>
<li>Begin writing an R script to clean and prepare data for
analysis<br />
</li>
<li>Communicate the steps of a cleaning pipe by writing clear comments
in an R script</li>
</ul>
</div>
<div id="section-prepare-for-data-cleaning" class="section level2">
<h2>Prepare for data cleaning</h2>
<div id="section-open-your-rstudio-project" class="section level3">
<h3>Open your RStudio project</h3>
<p><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkgrey;overflow:visible;position:relative;"><path d="M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"/></svg>
<strong>Open the “intro_course” R project that you created in the
previous exercise.</strong></p>
<p>You can do this by navigating to the “intro_course” folder, and
double-clicking on the blue “.Rproj” file in the folder. RStudio should
open.</p>
<p><img src="images/new_r_project_explorer.png" width="75%" /></p>
</div>
<div id="section-begin-a-new-r-script" class="section level3">
<h3>Begin a new R script</h3>
<p><strong>Start a new R script</strong></p>
<p>Open a new R script, either by clicking the new script icon in the
upper-left corner of RStudio, or by clicking <em>File -&gt; New File
-&gt; R Script</em>.</p>
<p><strong>Save your script</strong></p>
<p>This will be the primary R script that you work in for the next 2
days. Name it <strong>“ebola_analysis.R”</strong> and <strong>save it
into the “scripts” subfolder</strong> of the R project.</p>
<p><strong>Prepare your script</strong></p>
<p>Write # comment lines in the top to document:</p>
<ul>
<li>The purpose of the script<br />
</li>
<li>The author of the script<br />
</li>
<li>The date the script was last updated</li>
</ul>
</div>
</div>
<div id="section-load-packages" class="section level2">
<h2>Load packages</h2>
<p>The first coding step of any script is to install and/or load the
packages for the entire script. It is best to do this at the very top,
so that any reviewer can see which packages are used.</p>
<p>Write a # comment line that demarcates a section of the script for
loading packages.</p>
<p>Now write a command using {pacman} and its function
<code>p_load()</code> that will install/load the following packages:</p>
<ul>
<li>rio (for importing data)<br />
</li>
<li>here (for relative filepaths)</li>
<li>skimr (for reviewing the data)</li>
<li>janitor (for cleaning data)<br />
</li>
<li>lubridate (for date cleaning)<br />
</li>
<li>epikit (for creating age categories)<br />
</li>
<li>gtsummary (for creating tables)<br />
</li>
<li>tidyverse (for data management and visualization)</li>
</ul>
<p>Write your command vertically so that you can add descriptive
comments for each package.<br />
Try to write this command first, and then check the solution code
below.</p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>pacman::p_load(
  rio,          # for importing data
  here,         # for locating files
  skimr,        # for reviewing the data
  janitor,      # for data cleaning  
  lubridate,    # for date cleaning  
  epikit,       # creating age categories
  tidyverse     # for data management and visualization
)</code></pre>
Don’t forget to write <code>pacman::p_load()</code>, which loads the
{pacman} package, to then be able to load all the other packages.<br />
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-import-data" class="section level2">
<h2>Import data</h2>
<p>The next segment of your script will import the data.</p>
<p><strong>Write a command that imports the
<em>“surveillance_linelist_20141201.csv”</em> from the “data/raw”
subfolder of the R project.</strong> Use <code>import()</code> and
<code>here()</code>, and name the dataset in R as <code>surv_raw</code>
(a shorthand for “surveillance linelist raw”) using the assignment
operator <code>&lt;-</code></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv_raw &lt;- import(here(&quot;data&quot;, &quot;raw&quot;, &quot;surveillance_linelist_20141201.csv&quot;))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-exploratory-analysis" class="section level2">
<h2>Exploratory analysis</h2>
<p>First let’s run some code to look at the different values in the
dataset.</p>
<p>Much of the code below you will learn in upcoming modules. For now,
simply copy-paste the code into your R Console and run it. Then, answer
the questions about the outputs that appear in the Console and Plots
panes.</p>
<p>Any command you run in the section, you should place in a section of
your R script labelled “Exploratory analysis”, which should be below the
data import section.</p>
<p><strong>Create a header for this section of your script, like
below</strong></p>
<div id="section-column-names" class="section level3">
<h3>Column names</h3>
<p>The {base} function <code>names()</code> returns the column names of
a data frame. We can place the name of our dataset inside, and view the
result in the Console.</p>
<pre class="r"><code>names(surv_raw)</code></pre>
<p>Another way to write the same command, is to pipe
<code>surv_raw</code> into <code>names()</code>.</p>
<pre class="r"><code>surv_raw %&gt;% names()</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - column names</div></p>
<div class="panel panel-default">
<div data-label="quiz-column-names-1" class="tutorial-question panel-body">
<div id="quiz-column-names-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-column-names-1-message_container" class="shiny-html-output"></div>
<div id="quiz-column-names-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-missing-values-in-r" class="section level3">
<h3>Missing values in R</h3>
<p>As we conduct our exploratory analysis, we need to be aware of how R
handles missing values.</p>
<p>In R, missing values are represented by a reserved (special) value -
<code>NA</code>. Note that <code>NA</code> is treated differently by
certain functions because having missingness recognized is
important.</p>
<p>Note that <code>NA</code> is typed without quotes. “NA” is different
and is just a normal character value (also a Beatles lyric from the song
Hey Jude).</p>
<p>Your data may have other ways of representing missingness, such as
99, “Missing”, or “Unknown”. Similarly, when you import your datasets
there may be empty cells in a CSV or XLSX that import into R with a
blank space - it will look empty but actually there is a ” ” space!</p>
<p>You may even have an <em>empty character value</em> which will look
blank but would actually be referenced in R as: “” (different than
<code>NA</code>). For example, below we pipe our raw data frame into the
<code>tabyl()</code> function, and tell this function to print the
number of rows for each unique value in the column
<code>fever</code>.</p>
<pre class="r"><code># tabulate gender
surv_raw %&gt;% 
  tabyl(fever)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["fever"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"","2":"33","3":"0.04817518"},{"1":"no","2":"96","3":"0.14014599"},{"1":"yes","2":"556","3":"0.81167883"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Do you see the counts for “no”, “yes”, and the third value is … an
empty space. This is not properly recognized as <code>NA</code>
(missing) by R, so we will need to recode this value in our
cleaning.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg>
Let’s keep an eye out for how missing values have been imported in our
data set, as we begin to clean.</p>
</div>
<div id="section-gender" class="section level3">
<h3>Gender</h3>
<p>The package {janitor} and its function <code>tabyl()</code> can be
used to make a rapid tabulation of values in a specified column.</p>
<p>Below, we again run a command to pipe our dataset into the
<code>tabyl()</code> function, to get the counts for each unique value
in the column <code>gender</code>.</p>
<pre class="r"><code># tabulate gender
surv_raw %&gt;% 
  tabyl(gender)</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - Gender</div></p>
<div class="panel panel-default">
<div data-label="quiz-gender-1" class="tutorial-question panel-body">
<div id="quiz-gender-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-gender-1-message_container" class="shiny-html-output"></div>
<div id="quiz-gender-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>In the previous section we noted that missing values should be listed
as <code>NA</code>. Is that the case here?</p>
<p><strong>No. The missing values have been coded by the dataset owner
as “Unknown”.</strong> This may be sufficient for some analyses in R,
but usually we want to start our analysis workflow with these as
<code>NA</code> so that R correctly handles them as missing data.</p>
<p>We will need to address this in our cleaning steps later.</p>
</div>
<div id="section-age" class="section level3">
<h3>Age</h3>
<p>Let’s review the age distribution using the {ggplot2} package, which
is the most common package for data visualization.</p>
<p>Below, the function <code>ggplot()</code> uses our data frame
<code>surv_raw</code>, the column <code>age</code> is mapped to the
X-axis, and the data are visualized as a histogram. Again, do not worry
about understanding this function now - we will have two entire modules
that cover {ggplot2}.</p>
<pre class="r"><code># a histogram of the case ages 
ggplot(data = surv_raw, mapping = aes(x = age))+
  geom_histogram()</code></pre>
<p>Note that a warning message may appear when you run this command. A
“Warning” message in the Console means that R is able to execute your
command, but there is something you should probably know. In contrast,
an “Error” message means that R was not able to execute your
command.</p>
<p>Below, the command is changed only slightly, to display a boxplot
instead of a histogram.</p>
<pre class="r"><code># a boxplot of the case age distribution
ggplot(data = surv_raw, mapping = aes(x = age))+
  geom_boxplot()</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - age distribution</div></p>
<div class="panel panel-default">
<div data-label="quiz-age-distribution-1" class="tutorial-question panel-body">
<div id="quiz-age-distribution-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-age-distribution-1-message_container" class="shiny-html-output"></div>
<div id="quiz-age-distribution-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Ah! But some of the cases have recorded age in <em>months</em>.</p>
<pre class="r"><code>surv_raw %&gt;% 
  tabyl(`age unit`)</code></pre>
<p>Note that because this column name has a space in it, we had to write
it surrounded by backticks, in order for R to understand that we are
referring to a known column name. Cleaning this column name will be one
of our first actions once we begin our data cleaning steps.</p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - age unit</div></p>
<div class="panel panel-default">
<div data-label="quiz-age-unit-1" class="tutorial-question panel-body">
<div id="quiz-age-unit-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-age-unit-1-message_container" class="shiny-html-output"></div>
<div id="quiz-age-unit-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-date-of-onset" class="section level3">
<h3>Date of onset</h3>
<p>The first concern when “cleaning” a date column in R, is which
“class” the column has been assigned by default.</p>
<p>The <code>class()</code> command is a {base} function that returns
the class of an object.</p>
<p>Note the class of the object <code>surv_raw</code>, our linelist.</p>
<pre class="r"><code>class(surv_raw)</code></pre>
<p>Below, we inspect the class of the column <code>age</code>. Here we
use the <code>$</code> operator to specify that <em>within</em> the data
frame <code>surv_raw</code>, we want to examine the column
<code>age</code>.</p>
<p>Type this command letter-by-letter. When you type the $, you should
see a list appear of all the columns in the data frame (this is an
auto-complete feature, which can be adjusted in <em>RStudio -&gt; Tools
-&gt; Global Options</em>).</p>
<pre class="r"><code>class(surv_raw$age)</code></pre>
<p>Now let’s see what the class of the column <code>onset date</code>
is:</p>
<pre class="r"><code>class(surv_raw$`onset date`)</code></pre>
<p>During the import of the data, R has read this column as character
values (e.g. “11/03/2014”) and did not assume that it was a date. Indeed
- how would R know which digits referred to months, or to days? In CSV
files in particular, these columns are often first imported as character
values. For analysis purposes, it is essential that this column is
properly recognized as class “date” and the days and months correctly
identified. We will address this in the cleaning steps.</p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - column class</div></p>
<div class="panel panel-default">
<div data-label="quiz-col-class-1" class="tutorial-question panel-body">
<div id="quiz-col-class-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-col-class-1-message_container" class="shiny-html-output"></div>
<div id="quiz-col-class-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-numeric-columns" class="section level3">
<h3>Numeric columns</h3>
<p>We can also use histograms to examine other numeric columns like
weight, height, temperature, etc.</p>
<p>Does anything seem amiss? Are there any values to clean? Values that
are impossible?</p>
<p>This code is for the weight column.</p>
<pre class="r"><code>ggplot(data = surv_raw, mapping = aes(x = `wt (kg)`))+
     geom_histogram()</code></pre>
<p>This code is for the height column.</p>
<pre class="r"><code>ggplot(data = surv_raw, mapping = aes(x = `ht (cm)`))+
     geom_histogram()</code></pre>
</div>
<div id="section-location" class="section level3">
<h3>Location</h3>
<p>There are two columns in the dataset that describe the district of
the case:</p>
<ul>
<li><code>adm3_name_res</code> - this is the case’s district of
<em>residence</em><br />
</li>
<li><code>adm3_name_det</code> - this is the case’s district of
<em>detection</em></li>
</ul>
<p>How well do these two align? We can run a cross-tabulation:</p>
<p>The first-listed column (district of residence) will appear in the
rows, and the district of detection will appear as the columns.</p>
<pre class="r"><code>surv_raw %&gt;% 
  tabyl(adm3_name_res, adm3_name_det)</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - residence</div></p>
<div class="panel panel-default">
<div data-label="quiz-residence-1" class="tutorial-question panel-body">
<div id="quiz-residence-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-residence-1-message_container" class="shiny-html-output"></div>
<div id="quiz-residence-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>See the first row and the last column of the tabulation - it appears
that again, missing values were read into R as a blank character space.
This may be a problem in all of the columns that are class “character”.
Don’t worry, we will address this when cleaning the data.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<strong>Have you saved your script lately?</strong></p>
</div>
</div>
<div id="section-cleaning-pipe-chain" class="section level2">
<h2>Cleaning pipe chain</h2>
<p>Now that you have reviewed the data, you can begin to build a “pipe
chain” in your R script that will clean the data.</p>
<p>A pipe chain refers to the use of the “pipe” operator
<code>%&gt;%</code> to chain together operations (such as cleaning,
reordering and manipulating) for altering a dataset.</p>
<p>This operator allows us to carry out several different alterations of
the data frame in a single operation. It can be helpful to think of the
pipe operator <code>%&gt;%</code> as telling the computer “and then”
between your functions.</p>
<p>The order of this pipeline is important as operations occur
sequentially, and so improperly ordered arguments may fail or
(potentially more dangerously!) give incorrect values or unwanted
outcomes.</p>
<p>Remember - it may be tempting to exit and go clean up the dataset in
the external CSV file… but in almost all circumstances it is more
reproducible and more efficient to record the changes in the code. More
than likely, you will receive another version of the “raw” data and all
the cleaning work in the CSV file will be lost. However, if you have
made the changes in the R script then you will have a record of all the
adjustments.</p>
<div id="section-keyboard-shortcut" class="section level3">
<h3>Keyboard shortcut</h3>
<p>R coders use the pipe operator so frequently that there is a keyboard
shortcut! You will want to memorize this:</p>
<p>Windows/Linux: Press Ctrl, Shift, and “m” at the same time<br />
Mac: Press Cmd, Shift, and “m” at the same time</p>
<p>Try it out in your script!</p>
</div>
<div id="section-begin" class="section level3">
<h3>Begin</h3>
<p>Let’s do the following:</p>
<ul>
<li>Begin the command with the “raw” dataset<br />
</li>
<li>Pass it through a series of cleaning functions with the
<code>%&gt;%</code> pipe operator<br />
</li>
<li>Save the result as <strong><code>surv</code></strong> - a new,
clean, data frame</li>
</ul>
<p>Because the command will use the assignment operator
<strong><code>&lt;-</code></strong>, the modified dataset will not be
printed to the R Console. Instead, the changes will be reflected in the
new object <strong><code>surv</code></strong>. To see the data frame you
have two options:</p>
<ol style="list-style-type: decimal">
<li>Click on <code>surv</code> in the Environment pane (upper-right of
RStudio)<br />
</li>
<li>Use the command <code>View()</code> (note the capital “V”)</li>
</ol>
<p>You should view the dataset after each function is applied, so that
you can track the changes.</p>
<p>Here is a simplified example of cleaning code, with only a few
(empty) functions (<strong>do NOT try to run this code</strong> - it is
simply to demonstrate the outline of a cleaning pipe chain). In the
coming sections of this exercise, we will build a chain like this
together.</p>
<pre class="r"><code># Clean surveillance linelist
#############################
# Save a clean dataset &#39;surv&#39; after cleaning the raw dataset

surv &lt;- surv_raw %&gt;% 
  clean_names() %&gt;% 
  rename(___) %&gt;% 
  select(___) %&gt;% 
  distinct(___) %&gt;% 
  mutate(___) %&gt;% 
  mutate(___) %&gt;% 
  filter(___)</code></pre>
<p>Start by adding a new section to your script, below the exploratory
analysis:</p>
</div>
</div>
<div id="section-standardize-column-names" class="section level2">
<h2>Standardize column names</h2>
<p>Often, the first task is to clean the column names. This makes the
rest of the coding easier, as you can reference columns by their clean
syntax.</p>
<p>Let us insert the function <code>clean_names()</code> into the pipe
chain. This is a very easy function to use - you do not need to put
anything in the parentheses! <code>clean_names()</code> will ensure that
all column names are lowercase, that spaces are converted to
underscores, and that any special characters are removed.</p>
<p><strong>Run your pipe chain with <code>clean_names()</code> and save
the result to <em><code>surv</code></em>.</strong></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  clean_names()</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>View <strong><code>surv</code></strong> by clicking on it in RStudio.
<strong>Note that some column names have changed!</strong></p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - clean_names()</div></p>
<div class="panel panel-default">
<div data-label="quiz-clean-names-1" class="tutorial-question panel-body">
<div id="quiz-clean-names-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-clean-names-1-message_container" class="shiny-html-output"></div>
<div id="quiz-clean-names-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-clean-names-2" class="tutorial-question panel-body">
<div id="quiz-clean-names-2-answer_container" class="shiny-html-output"></div>
<div id="quiz-clean-names-2-message_container" class="shiny-html-output"></div>
<div id="quiz-clean-names-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>That was easy! But there is more cleaning to do…</p>
</div>
<div id="section-manually-clean-column-names" class="section level2">
<h2>Manually clean column names</h2>
<p>We still need to make some changes to column names manually:</p>
<ul>
<li>Change <code>onset_date</code> to <code>date_onset</code> (it is
more standard to put “date” at the front, especially if there are
multiple date columns)<br />
</li>
<li>Change <code>date_of_report</code> to <code>date_report</code></li>
</ul>
<p>Simplify the location column names for easier reading (and
typing!)</p>
<ul>
<li>Change <code>adm3_name_res</code> to <code>district_res</code><br />
</li>
<li>Change <code>adm3_name_det</code> to <code>district_det</code></li>
</ul>
<p>The primary mechanism for these manual changes is the {dplyr}
function <code>rename()</code>. Here is the basic syntax:</p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  clean_names() %&gt;% 
  rename(
    NEWname = OLDname,
    NEWname = OLDname
  )</code></pre>
<p>A few things to note:</p>
<ul>
<li>Each change is entered using the pattern NEW = OLD.</li>
<li>If changing multiple column names, separate the pairs with a comma.
Don’t put a comma after the last pair.</li>
</ul>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  clean_names() %&gt;% 
  rename(
    # NEW NAME     # OLD NAME
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det
  )</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>Review <strong><code>surv</code></strong> once you have successfully
run your expanded pipe chain. Verify that the desired changes did take
place.</p>
</div>
<div id="section-select-columns" class="section level2">
<h2>Select columns</h2>
<p>The <code>select()</code> function is versatile and often used
to:</p>
<ul>
<li>Keep certain columns<br />
</li>
<li>Drop certain columns<br />
</li>
<li>Keep and rename certain columns (in one command)</li>
</ul>
<div id="section-select-columns-to-keep" class="section level3">
<h3>Select columns to keep</h3>
<p>The primary purpose of <code>select()</code> is to select columns to
keep in the dataset.</p>
<p>Any column name that is not included in the parentheses will be
dropped. Try the below command in your R console. It takes your
partially-clean data set <code>surv</code> and selects only a few
columns, printing (not saving) the result.</p>
<pre class="r"><code>surv %&gt;% 
  select(case_def, age, gender)</code></pre>
<p>What did you notice about the new ordering of the columns?
<code>select()</code> also <strong>re-orders</strong> columns.</p>
<p>It may be taxing to list every column individually. You can use a
colon ( : ) to keep the two named columns and all those inbetween.</p>
<pre class="r"><code># keeps fever, vomit, and the columns in between them 
surv %&gt;% 
  select(fever:vomit)</code></pre>
<p>You can also list some columns, to move them to the beginning, and
finish with <code>everything()</code> to include all the other columns
(note the empty parentheses at the end of <code>everything()</code>).
There are other such “tidyselect” helpers available to you such as
<code>contains()</code> and <code>starts_with()</code> that you can read
more about in this <a
href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html#clean_tidyselect">Epi
R Handbook chapter</a>.</p>
<pre class="r"><code># use everything()
surv %&gt;% 
  select(fever, gender, date_report, everything())</code></pre>
</div>
<div id="section-drop-columns-by-name" class="section level3">
<h3>Drop columns by name</h3>
<p>Use a minus symbol ( - ) to drop the column <code>case_def</code>.
All other columns are retained.</p>
<pre class="r"><code>surv %&gt;% 
  select(-case_def)</code></pre>
<p>Try dropping multiple columns by wrapping all their names in a vector
with <code>c()</code> - this applies the negative sign to all of them.
We learned about the {base} function <code>c()</code> in the previous
module, which stands for “concatenate”. Here it is used to create a
<em>vector</em> of column names and the - sign is applied to all of
them.</p>
<pre class="r"><code># Removes these three columns
surv %&gt;% 
  select(-c(case_def, district_det, age))

# an equivalent command to above
surv %&gt;% 
  select(-case_def, -district_det, -age)</code></pre>
</div>
<div id="section-re-name-columns" class="section level3">
<h3>Re-name columns</h3>
<p>Yes, you can actually use <code>select()</code> to rename columns! It
uses the same syntax as <code>rename()</code>, but remember that it only
keeps the columns that you write!</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Now time to code! Add to your pipe chain a step that removes the column
<code>row_num</code> from the dataset. This column is not necessary for
our analyses.</p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num)</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
</div>
<div id="section-deduplicate" class="section level2">
<h2>Deduplicate</h2>
<p>At this point, we should check for duplicates in our data. This can
be done with the <code>distinct()</code> function. If run with empty
parentheses, it will remove rows that are 100% duplicates (it will keep
only the first row, of rows for which the value in every column is the
same).</p>
<p><strong>Add <code>distinct()</code> to the pipe chain and run
it.</strong></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct()</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p><strong>Were any rows removed?</strong></p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Compare the number of rows in <code>surv</code> to the number of rows
in <code>surv_raw</code> (in the Environment pane).</p>
</br>
</details>
<p><code>distinct()</code> can be used in more advanced ways, such as
only considering certain columns when evaluation duplicates (e.g. remove
rows that have the same age, gender, and first name). You can read more
about it in the <a
href="https://dplyr.tidyverse.org/reference/distinct.html">function
documentation</a>, and in the <a
href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html#deduplication">Epi
R Handbook cleaning chaper</a>.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<strong>Have you saved your script lately?</strong></p>
</div>
<div id="section-column-classes" class="section level2">
<h2>Column classes</h2>
<p>Each column in the data frame has a specific “class”. Classes reflect
how R understands the values in the column.</p>
<p>You reviewed the classes of each column with the <code>skim()</code>
function from the {skimr} package. You can also view the class of a
single column using this syntax:</p>
<pre class="r"><code># print the class of a column
class(surv$gender)</code></pre>
<p>Common classes include:</p>
<ul>
<li>“Numeric”<br />
</li>
<li>“Integer” (whole numbers only)<br />
</li>
<li>“Character”<br />
</li>
<li>“Logical”<br />
</li>
<li>“Date”</li>
</ul>
<p>An early part of the data cleaning process is ensuring that R
correctly understands the class for each column. R is generally good
about guessing this, but sometimes it needs your help.</p>
<div id="section-date-class" class="section level3">
<h3>Date class</h3>
<p>We recognized that the column <code>date_onset</code> (previously
named “onset date” in the raw dataset) is recognized by R as class
“character”. Often, dates in Excel worksheets arrive in this class, or
in numeric (e.g. 48256), or in an even stranger class called “POSIXct”.
Either way, we want to designate this column as a normal and dependable
class “date”.</p>
<p>First, we need to understand <em>how</em> the date is <em>currently
written</em> in the data <em>before the function is applied</em>.</p>
<p>Use the following command to look at the first six values of
<code>date_onset</code> in the data frame <code>surv</code>:</p>
<pre class="r"><code>head(surv$date_onset)</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - raw date format</div></p>
<div class="panel panel-default">
<div data-label="quiz-date-format-raw-1" class="tutorial-question panel-body">
<div id="quiz-date-format-raw-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-date-format-raw-1-message_container" class="shiny-html-output"></div>
<div id="quiz-date-format-raw-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>{lubridate} has several helper functions designed to convert
character objects to dates in a more intuitive and lenient way. These
three functions correspond to the <em>format of the date prior to use of
the function</em>. The three functions are <code>ymd()</code>,
<code>mdy()</code>, and <code>dmy()</code>. Their names correspond to
the approximate format they expect the date be in <em>before</em> this
function is applied.</p>
<p>Thankfully, they are adaptable in that they allow for a variety of
separators, and synonyms for dates (e.g. 01 vs Jan vs January):</p>
<p>The <code>ymd()</code> function converts values to date class that
are written as: year, month, day.</p>
<ul>
<li><code>ymd("2020-10-11")</code><br />
</li>
<li><code>ymd("20201011")</code></li>
</ul>
<p>The <code>mdy()</code> does the same but for values written as month,
day, year.</p>
<ul>
<li><code>mdy("Oct 11 20")</code></li>
<li><code>mdy("10/11/20")</code></li>
</ul>
<p>and the <code>dmy()</code> for values written as day, month ,
year</p>
<ul>
<li><code>dmy("11 October 2020")</code><br />
</li>
<li><code>dmy("11/10/2020")</code></li>
</ul>
<p><strong>In ALL of the above commands, the <em>outcome</em> is values
in date class that display as YYYY-MM-DD.</strong></p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - date format</div></p>
<div class="panel panel-default">
<div data-label="quiz-date-format-1" class="tutorial-question panel-body">
<div id="quiz-date-format-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-date-format-1-message_container" class="shiny-html-output"></div>
<div id="quiz-date-format-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p><strong>The most important thing to remember is to use the function
that matches the <em>current</em> (raw) date format</strong></p>
</div>
<div id="section-mutate" class="section level3">
<h3><code>mutate()</code></h3>
<p>Changing a column is done with <code>mutate()</code>. This is a
general function for changing a column - that could include:</p>
<ol style="list-style-type: decimal">
<li>Creating a new column<br />
</li>
<li>Changing or re-defining an existing column</li>
</ol>
<blockquote>
<p><strong>column name</strong> = <em>a function</em> to use to
create/modify the column</p>
</blockquote>
<p>Thus, the command to add to our pipe chain to modify the column
<code>date_onset</code> to be converted to class “date” would look like
this:</p>
<pre class="r"><code>mutate(date_onset = mdy(date_onset))</code></pre>
<p>Above, the code is in effect saying: “change (mutate) the
<code>date_onset</code> column, such that it becomes the
<code>date_onset</code> column as modified by the function
<code>mdy()</code>.”</p>
<p><strong>Now add two <code>mutate()</code> commands to the pipe chain,
that convert <code>date_onset</code> and <code>date_report</code> to
class “date”.</strong></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>Now we can inspect the date column, and use it in plotting functions
like a continuous variable. Previously, as class character, a plot like
the one created below would not have been possible.</p>
<p>We give you this code below not to learn plotting, but simply to test
it in RStudio. You will learn how to make plots with {ggplot2} later in
the course.</p>
<pre class="r"><code># plot a histogram of dates using the cleaned dataset and date column
ggplot(data = surv, mapping = aes(x = date_onset))+
  geom_histogram()</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - Date</div></p>
<div class="panel panel-default">
<div data-label="quiz-dates-1" class="tutorial-question panel-body">
<div id="quiz-dates-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-dates-1-message_container" class="shiny-html-output"></div>
<div id="quiz-dates-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-age-as-numeric" class="section level3">
<h3>Age as numeric</h3>
<p>There is another column that we should check the class of:
<code>age</code>. What is the class of this column?</p>
<pre class="r"><code>class(surv$age)</code></pre>
<p>The command above should have returned “integer”. While this is OK
for the moment… we may want to perform calculations with this column
that would result in it needing to accept decimal values. As class
“integer”, this column cannot accept decimals, but as class “numeric” it
can.</p>
<p>Thankfully in {base} R there are functions like
<code>as.numeric()</code>, <code>as.character()</code>, and
<code>as.integer()</code> to easily convert columns from one class to
another. Simply put the column name within the parentheses, and it is
converted.</p>
<p><strong>Write a <code>mutate()</code> command that converts this
column using the <code>as.numeric()</code> function.</strong></p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>In the <code>mutate()</code> function, re-define <code>age</code> as
equal to itself as wrapped within the <code>as.numeric()</code>
function.</p>
</br>
</details>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 
     
  # convert age to numeric class
  mutate(age = as.numeric(age))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<strong>Have you saved your script lately?</strong></p>
</div>
</div>
<div id="section-simple-recoding" class="section level2">
<h2>Simple recoding</h2>
<p>There are a variety of function that can be used to perform simple
recoding of values. We will show you some in the sections below, as you
add them to your pipe chain.</p>
<div id="section-missing-values" class="section level3">
<h3>Missing values</h3>
<p>As identified earlier, in “raw” data there is a value “Unknown” in
the column <code>gender</code>.</p>
<p><strong>Run the code below, which creates a counts table of the
unique values in the column <code>gender</code>.</strong></p>
<pre class="r"><code>surv_raw %&gt;% 
  tabyl(gender)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"f","2":"336","3":"0.4905109"},{"1":"m","2":"323","3":"0.4715328"},{"1":"Unknown","2":"26","3":"0.0379562"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We want to tell R that if the value in <code>gender</code> is
“Unknown” then R should change the value to <code>NA</code>. We may
change this later, but for now, let’s convert it to <code>NA</code>.</p>
<p><strong>Use <code>mutate()</code> on the column <code>gender</code>
and set it equal to the function <code>na_if()</code>.</strong> In the
parentheses of <code>na_if()</code>, again write <code>gender</code>,
then a comma, and then “Unknown” in quote marks:
<code>mutate(gender = na_if(gender, "Unknown"))</code>.</p>
<p>The function <code>na_if()</code> replace a specified value with
<code>NA</code>. This code is saying: “Change <code>gender</code>, such
that its values are equivalent to the column <code>gender</code> as
changed by the function <code>na_if()</code> so that any instances
of”Unknown” are replaced by <code>NA</code>“.</p>
<pre class="r"><code>mutate(gender = na_if(gender, &quot;Unknown&quot;))</code></pre>
<p>Add this command to your pipe chain.</p>
<p>Note: it is also useful to know the opposite function,
<code>replace_na()</code>, which replaces <code>NA</code> with a
specified value.</p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 
     
  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p><strong>Now re-run the <code>tabyl()</code> command on
<code>gender</code>, using the clean dataset <code>surv</code>, and see
how the missing values are represented as <code>NA</code>.</strong></p>
<p>We need to apply this change for <em>all</em> the columns in the
dataset that are class “character” (gender, hospital, gender, wt_kg,
ht_cm, fever, chills, cough…). It is a long list…</p>
</div>
<div id="section-across" class="section level3">
<h3>Across</h3>
<p>As mentioned earlier, when R imports “raw” files from CSV or XLSX
sometimes it records missing values in “character” columns as an empty
character <code>""</code>, instead of as the special symbol
<code>NA</code>.</p>
<p><strong>Run the code below, which creates a counts table of the
unique values in the column <code>gender</code>.</strong></p>
<pre class="r"><code>surv_raw %&gt;% 
  tabyl(fever)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["fever"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]},{"label":["percent"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"","2":"33","3":"0.04817518"},{"1":"no","2":"96","3":"0.14014599"},{"1":"yes","2":"556","3":"0.81167883"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We need to tell R that if the value in <code>fever</code> is empty “”
then R should change the value to <code>NA</code>. Don’t spend the time
to look, but there are many columns in the dataset where missing is
recorded as ““. How can we make all these changes efficiently?</p>
<p>We are going to give you a command that uses <code>across()</code>
within the <code>mutate()</code> to change multiple columns at once.
This is an intermediate R command, so <em>please do not spend time
trying to understand it</em>. Later, you can read more about
<code>across()</code> in the <a
href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html#clean_across">Epi
R Handbook here</a>. <strong>Add this command to your pipe
chain.</strong></p>
<pre class="r"><code>mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;))</code></pre>
<p>Briefly, this command is saying: Mutate all the columns that are
character class, and use the function <code>na_if()</code> to convert
any instances of “” to <code>NA</code>. If should change the columns
<code>fever</code>, <code>vomit</code>, <code>hospital</code>,
<code>district</code>, and any other character columns.</p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 
     
  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-assessing-missingness" class="section level3">
<h3>Assessing missingness</h3>
<p>While we are discussing missing values, let’s introduce you to the
core R functions used to assess missingness.</p>
<p>We have two date columns in the data frame: <code>date_onset</code>
and <code>date_report</code>. The first is the date of symptom onset, as
recorded by the surveillance team. The second is the date the case was
reported to the surveillance team.</p>
<p><strong>Which one should we be primarily using?</strong></p>
<p>There are many factors that go into a decision like this, such as the
purpose of the analysis, the audience, etc. One important factor is data
quality and missingness.</p>
<p>Missingness in R is represented by <code>NA</code> - or at least it
should be - as we discussed above. The function to assess missingness is
<code>is.na()</code> (whereas <code>!is.na()</code> is used to test for
non-missingness - the exclamation point is a negation operator). In both
of these functions, the object you want to assess in placed within the
parentheses.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:orange;overflow:visible;position:relative;"><path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"/></svg>
<strong>Please remember the below commands related to missingness in
R</strong>.</p>
<ul>
<li><code>is.na()</code> is used to assess whether a value is
<code>NA</code><br />
</li>
<li><code>!is.na()</code> is used to assess whether a value is NOT
<code>NA</code></li>
</ul>
<p>To <em>count</em> the number of rows that meet a certain logical
criteria, you can further wrap them in <code>sum()</code>, as below:</p>
<pre class="r"><code>sum(is.na(surv$date_onset))   # number of rows where is.na(surv$date_onset) evaluates to TRUE
sum(is.na(surv$date_report))  # number of rows where is.na(surv$date_report) evaluates to TRUE</code></pre>
<p><strong>Run these two commands above</strong> (not in your pipe
chain, but as stand-alone commands)</p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - Date</div></p>
<div class="panel panel-default">
<div data-label="quiz-dates2-1" class="tutorial-question panel-body">
<div id="quiz-dates2-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-dates2-1-message_container" class="shiny-html-output"></div>
<div id="quiz-dates2-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-dates2-2" class="tutorial-question panel-body">
<div id="quiz-dates2-2-answer_container" class="shiny-html-output"></div>
<div id="quiz-dates2-2-message_container" class="shiny-html-output"></div>
<div id="quiz-dates2-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-re-coding-hospital-names" class="section level3">
<h3>Re-coding hospital names</h3>
<p>Our pipe chain is getting quite long! Each step is important, and
thankfully it is all well-documented in our code. This transparency is
useful for ourselves, anyone reviewing our code later, and for
scientific integrity!</p>
<p>Now we turn to the column <code>hospital</code>. Try this code below.
It will print a tabulation of all the values in this column:</p>
<pre class="r"><code>surv %&gt;% 
  tabyl(hospital)</code></pre>
<p>It seems there is some cleaning to be done! Note the different
spellings of “hospital” and “hopital”, of “Military” and “Mitilary”, and
of “Port” and “Port Hospital”. These need to be syncronized.</p>
<p>An easy option is <code>recode()</code>. The syntax is relatively
simple when we want to simply exchange one value for another:</p>
<pre class="r"><code>surv %&gt;% 
  mutate(hospital = recode(hospital,
    &quot;OLD value&quot; = &quot;NEW value&quot;,
    &quot;OLD value&quot; = &quot;NEW value&quot;,
    &quot;OLD value&quot; = &quot;NEW value&quot;))</code></pre>
<p>The above code can be read as: “Re-define <code>hospital</code> as
<code>hospital</code> with these recodes applied”. <em>Note that this
uses the opposite syntax order from <code>rename()</code>, which was NEW
= OLD.</em></p>
<p><strong>Using the above code as a template, try to write a command at
the end of your pipe chain that aligns all the hospital names to the
following:</strong></p>
<ul>
<li>Military Hospital<br />
</li>
<li>Port Hospital<br />
</li>
<li>Central Hospital</li>
<li>SMMH</li>
<li>Other</li>
</ul>
<p>We will leave <code>NA</code> hospitals as they are.</p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Begin as before by piping to a <code>mutate()</code>. Within the
<code>mutate()</code> parentheses, write the name of the column to
re-define <code>hospital</code> and an equals sign. On the right side of
the equals sign, you write the function <code>recode()</code>. Within
the parentheses of <code>recode()</code>, the first argument is again
the name of the column to re-define.</p>
<p>After a comma, continue with one line per change, with the old value
on the left, and the new value on the right. As these are character
values, put them in quotes. Don’t forget commas between each line, and
to close with the correct number of parentheses.</p>
</br>
</details>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 
     
  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
</div>
<div id="section-logical-recoding" class="section level2">
<h2>Logical recoding</h2>
<p>Sometimes, the recoding we want is not as simple as replacing one
value for another. Instead, we use logical criteria and logical
operators, and often reference values in several columns.</p>
<div id="section-negative-values" class="section level3">
<h3>Negative values</h3>
<p>In the weight column <code>wt_kg</code>, there are some negative
values. Open the data frame in the viewer (e.g. by clicking the data
frame name in the Environment pane) and sort the dataset by clicking on
the <code>wt_kg</code> column. Note the negative values.</p>
<p>Alternatively, run the {base} command <code>summary()</code> on the
column <code>surv$wt_kg</code> to return key summary statistics on this
numeric column:</p>
<pre class="r"><code>summary(surv$wt_kg)</code></pre>
<p>This must be some data entry error. To avoid errors in any future
calculations or plots, convert these values to <code>NA</code>
(missing). Remember, you should make edits like this here in the script.
This is better than editing in CSV file, because here there is a record
of changes performed.</p>
<p>The logic we want to apply is simple: “If <code>wt_kg</code>
negative, convert it to <code>NA</code>, otherwise remain the same.”
Therefore, we can use the <code>if_else()</code> function within
<code>mutate()</code>.</p>
<p>The syntax is:
<code>if_else(CONDITION APPLIED TO ROW, OUTCOME IF TRUE, OUTCOME IF FALSE)</code></p>
<pre class="r"><code>mutate(wt_kg = if_else(wt_kg &lt; 0, NA, wt_kg))</code></pre>
<p><strong>Add this to your pipe chain and verify that it worked
correctly</strong></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 
     
  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg)) </code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>Now re-run your <code>summary()</code> command to check the new range
of the values:</p>
<pre class="r"><code>summary(surv$wt_kg)</code></pre>
</div>
<div id="section-review-logical-operators" class="section level3">
<h3>Review logical operators</h3>
<p>As you clean, it is important to know these logical and relational
operators. There is no need to memorize them (see the <a
href="https://epirhandbook.com/en/r-basics.html">Epi R Handbook basics
chapter</a>), but they are here for you review quickly.</p>
<div id="section-relational-operators" class="section level4">
<h4>Relational operators</h4>
<p>Relational operators compare values and are often used when defining
new variables and subsets of datasets. Here are the common relational
operators in R:</p>
<table>
<colgroup>
<col width="12%" />
<col width="6%" />
<col width="7%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th>Meaning</th>
<th>Operator</th>
<th>Example</th>
<th>Example Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Equal to</td>
<td><code>==</code></td>
<td><code>"A" == "a"</code></td>
<td><code>FALSE</code> (because R is case sensitive) <em>Note that ==
(double equals) is different from = (single equals), which acts like the
assignment operator <code>&lt;-</code></em></td>
</tr>
<tr class="even">
<td>Not equal to</td>
<td><code>!=</code></td>
<td><code>2 != 0</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Greater than</td>
<td><code>&gt;</code></td>
<td><code>4 &gt; 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Less than</td>
<td><code>&lt;</code></td>
<td><code>4 &lt; 2</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Greater than or equal to</td>
<td><code>&gt;=</code></td>
<td><code>6 &gt;= 4</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Less than or equal to</td>
<td><code>&lt;=</code></td>
<td><code>6 &lt;= 4</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Value is missing</td>
<td><code>is.na()</code></td>
<td><code>is.na(7)</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td>Value is not missing</td>
<td><code>!is.na()</code></td>
<td><code>!is.na(7)</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
</div>
<div id="section-logical-operators" class="section level4">
<h4>Logical operators</h4>
<p>Logical operators, such as AND and OR, are often used to connect
relational operators and create more complicated criteria. Complex
statements might require parentheses ( ) for grouping and order of
application.</p>
<table>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Meaning</th>
<th>Operator</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>AND</td>
<td><code>&amp;</code></td>
</tr>
<tr class="even">
<td>OR</td>
<td><code>|</code> (vertical bar)</td>
</tr>
<tr class="odd">
<td>Parentheses</td>
<td><code>( )</code> Used to group criteria together and clarify order
of operations</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="section-case_when-complex-recoding" class="section level3">
<h3><code>case_when()</code> complex recoding</h3>
<p>Our next task is to recode the values in the column
<code>gender</code>: “m” to “male” and “f” to “female”.</p>
<p>This logic is slightly more complex than when we used
<code>ifelse()</code>. Instead, we will use <code>case_when()</code>
within the <code>mutate()</code>. <code>case_when()</code> is a slightly
more complex function, so it is important to understand how exactly it
works:</p>
<ul>
<li><code>case_when()</code> commands consist of statements that have a
Right-Hand Side (RHS) and a Left-Hand Side (LHS), separated by a “tilde”
~.<br />
</li>
<li>The logic criteria are in the left side, and the outcome values are
in the right side of each statement. Statements are separated by
commas.</li>
</ul>
<p><strong>Add this <code>mutate()</code> command to your pipe chain,
and observe the resulting transformation in <code>surv</code> in the
<code>gender</code> column.</strong></p>
<pre class="r"><code># Example of mutate() with case_when() to edit values in gender column
mutate(gender = case_when(     # re-define gender as: 
     gender == &quot;m&quot; ~ &quot;male&quot;,     # when &quot;m&quot;, change to &quot;male&quot;   
     gender == &quot;f&quot; ~ &quot;female&quot;,   # when &quot;f&quot;, change to &quot;female&quot; 
     TRUE          ~ gender))    # any other value, remain as before</code></pre>
<p>Note the use of the double == to ask “<strong>is</strong> gender
equal to ‘m’?</p>
<p>Also note that the criteria are applied to each row in the dataset
<strong>in the order they are written in the <code>case_when()</code>
command (top-to-bottom).</strong> If for a given dataset row the first
criteria is met (e.g., <code>gender</code> == “m”), then the remaining
criteria are not tested. It is therefore important to order your
arguments correctly, from most specific to generic.</p>
<p>Along those lines, in your <em>final statement</em>, it is advised to
place TRUE on the left-side, which will capture any row that did not
meet any of the previous criteria. The right-side of this statement
could be assigned a value like “check me!”, or missing, or as in the
example above to the column name to revert to the original value.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<em>DANGER: All outcome values on the RIGHT-side must all be the same
class - either numeric, integer, character, date, logical, etc.
Sometimes, this requires assigning variations of <code>NA</code> such as
<code>NA_character_</code>, <code>NA_real_</code> (for numeric), and
<code>as.Date(NA)</code>. Read more in the dates chapter of <a
href="https://www.epirhandbook.com/en/working-with-dates.html">the Epi R
Handbook</a>.</em></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender))          # any other value, remain as before</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-create-column-age_years" class="section level3">
<h3>Create column <code>age_years</code></h3>
<p>Now apply your <code>case_when()</code> knowledge to a slightly more
difficult scenario.</p>
<p>Create a new column <code>age_years</code> that converts the value in
<code>age</code> correctly, depending on whether the value in
<code>age_unit</code> is “years” or “months”.</p>
<p>Below we give you the outline of the command - it is your
responsibility to fill in the logic statements on the right, and the
calculations on the right.</p>
<pre class="r"><code>  # create age-in-years
  mutate(age_years = case_when(
    
    # logic for age_unit    # adjustment to make age_years  
    if_months      ~ calculation,    # return: age / 12
    if_years       ~ calculation,    # return: age 
    if_missing     ~ age,            # if age_unit is missing, assume years and return: age
    TRUE           ~ NA_real_))      # leave unchanged</code></pre>
<p>Of note, the last line should remain unchanged. It is best practice
to end a <code>case_when()</code> command with <code>TRUE</code>, that
will catch all rows that have not met any of the previous logical
criteria. We want the <code>age_years</code> for these rows to be set to
<code>NA</code>. In this case we use <code>NA_real_</code> because all
the other right-side values are numeric, so R requires that we use this
special numeric version of <code>NA</code>.</p>
<p>It is important to know that in <code>case_when()</code>, all of the
right-side values must be of the same class (numeric, integer,
character, date, logical, etc). Sometimes, this requires assigning
variations of <code>NA</code> such as <code>NA_character_</code>,
<code>NA_real_</code> (for numeric), and <code>as.Date(NA)</code>. Read
more in the dates chapter of <a
href="https://www.epirhandbook.com/en/working-with-dates.html">the Epi R
Handbook</a>. In this case our new variable will be numeric, so we use
<code>NA_real_</code>.</p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Within the parentheses of <code>case_when()</code>, on the left side
of each ~ you are writing logical criteria that will be assessed for
each row in the dataset, and on the right side of the ~ you write the
resulting value to be returned.</p>
<p>The first logical criteria should be: “is <code>age_unit</code> equal
to”months”? In code, this is written <code>age_unit == "months"</code>
(note the double equals, which asks the question of equivalence). One
the right side of the ~, you would write an equation that would produce
the correct outcome in the new column <code>age_years</code>. In this
case, it would be the value in <code>age</code> divided by 12. In code
this would be written as: <code>age_unit == "months" ~ age / 12</code>.
Don’t forget a comma at the end, and to continue on the next line with
the next logical criteria.</p>
<p>If you happen to encounter this error:
<code>'names' attribute [1] must be the same length as the vector [0]</code>,
then confirm that you converted the <code>age</code> column to class
numeric earlier in the pipe chain. This error is because by dividing by
12, we are introducing decimals, which is not acceptable if the column
is still “integer” class.</p>
</br>
</details>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender)) %&gt;%      # any other value, remain as before
     
  # create age-in-years
  mutate(age_years = case_when(
    age_unit == &quot;months&quot; ~ age/12,    # if age is given in months
    age_unit == &quot;years&quot;  ~ age,       # if age is given in years
    is.na(age_unit)      ~ age,       # if age unit is missing, assume years
    TRUE                 ~ NA_real_)) # any other circumstance, assign missing</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>That was difficult! If the above exercise with
<code>case_when()</code> was very challenging for you, do not despair!
<code>case_when()</code> can be difficult, but will come with practice.
Talk with your facilitator about the errors or difficulties you
encountered. It will come!</p>
</div>
</div>
<div id="section-age-categories" class="section level2">
<h2>Age categories</h2>
<p>Now that we have a valid <code>age_years</code> column, let’s create
a categorical column for “age category”.</p>
<p>There are several ways to do this (see <a
href="https://epirhandbook.com/en/cleaning-data-and-core-functions.html#num_cats">this
chapter of the Epi R Handbook</a> for details), but here we just apply
the most simple method.</p>
<p>The function <code>age_categories()</code> from {epikit} can be used
within <code>mutate()</code> to define a new column <code>age_cat</code>
with 10-year age categories.</p>
<p>The arguments for <code>age_categories</code> are:</p>
<ol style="list-style-type: decimal">
<li>The numeric column to divide into categories
(<code>age_years</code>)<br />
</li>
<li><code>lower =</code> A number that is the lower numeric boundary
(0)<br />
</li>
<li><code>upper =</code> A number that is the upper numeric boundary for
categories (e.g. set this to 70, so that all ages above 70 are put in
the category “70+”)<br />
</li>
<li><code>by =</code> A number for the width of the categories (10)</li>
</ol>
<p><strong>Try adding this command to the pipe chain</strong> If you get
stuck, see the solution code hidden below.</p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender)) %&gt;%      # any other value, remain as before
     
  # create age-in-years
  mutate(age_years = case_when(
    age_unit == &quot;months&quot; ~ age/12,         # if age is given in months
    age_unit == &quot;years&quot;  ~ age,            # if age is given in years
    is.na(age_unit)      ~ age,            # if age unit is missing, assume years
    TRUE                 ~ NA_real_)) %&gt;%  # any other circumstance, assign missing
       
  # create age category column
  mutate(age_cat = age_categories(         # create new column
    age_years,                             # numeric column to make groups from
    lower = 0,
    upper = 70,
    by = 10))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>You can also define your age categories other ways, for example, by
providing a <em>vector</em> of age breaks such as
<code>c(0, 5, 10, 15, 20, 30, 40, 50)</code>. Ask your instructor if you
want to know how to do this. Or read about in the function’s
documentation by entering <code>?age_categories</code> in the R console,
or by searching for <code>age_categories</code> in the Help pane of
RStudio (lower-right).</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<strong>Have you saved your script lately?</strong></p>
</div>
<div id="section-date-differences" class="section level2">
<h2>Date differences</h2>
<p>Now that both of the date columns are correctly classified as “date”,
we can do math on them with simple + and - operators.</p>
<p><strong>Add a <code>mutate()</code> command to the pipe chain, to
create a new column named <code>diff</code></strong>. Define this new
column to equal the number of days between <code>date_onset</code> and
<code>date_report</code> for each case.</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender)) %&gt;%      # any other value, remain as before
     
  # create age-in-years
  mutate(age_years = case_when(
    age_unit == &quot;months&quot; ~ age/12,         # if age is given in months
    age_unit == &quot;years&quot;  ~ age,            # if age is given in years
    is.na(age_unit)      ~ age,            # if age unit is missing, assume years
    TRUE                 ~ NA_real_)) %&gt;%  # any other circumstance, assign missing
       
  # create age category column
  mutate(age_cat = age_categories(         # create new column
    age_years,                             # numeric column to make groups from
    lower = 0,
    upper = 70,
    by = 10)) %&gt;% 
     
  # Make date-difference column  
  mutate(diff = date_report - date_onset)</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p>Check the calculation for a few rows, manually. Is it how you
expect?</p>
<p>Note that this column’s values appear like “4 days” - this is a
special class called “difftime”. If you want the result to be purely
numeric, you have to wrap the result of the calculation in the {base}
function <code>as.numeric()</code>. That would look like this:</p>
<pre class="r"><code>mutate(diff = as.numeric(date_report - date_onset))</code></pre>
<p>Note that currently, a patient with <code>date_onset</code> and
<code>date_report</code> on 9 November 2014 would be recorded with
<code>diff</code> of 0 days. In your work context, you may want to add a
<code>+1</code> after the end of the <code>as.numeric()</code> command,
if you prefer same day admission to be recorded as 1 and not 0.</p>
</div>
<div id="section-location-1" class="section level2">
<h2>Location</h2>
<p>We have two columns that express districts (locations) - of the
cases’s residence, and where they were detected as a case.</p>
<p><strong>How similar are these two columns?</strong></p>
<p>One way to assess how similar the columns are, is to <em>create a new
column</em> that indicates whether the two column’s values in that row
are different. Then, you can tabulate this new column.</p>
<p>The syntax is actually quite simple, using <code>mutate()</code> and
the <code>!=</code> operator (which means NOT EQUAL TO). <strong>Add
this to your pipe chain</strong>.</p>
<pre class="r"><code># New column will be TRUE if the two values are different
mutate(moved = district_res != district_det)</code></pre>
<p>Now try to assess the differences manually in RStudio. <strong>Open
the <code>surv</code> dataset in the viewer</strong> (by clicking on it
in the Environment pane) and click the filter button on the upper-left
to limit the view to rows in which the new column <code>moved</code> is
TRUE. Was the logic for the new column applied correctly? Are TRUE and
FALSE appearing where they should be?</p>
<p><div class="panel-heading tutorial-quiz-title">Quiz - Moving cases</div></p>
<div class="panel panel-default">
<div data-label="quiz-moved-1" class="tutorial-question panel-body">
<div id="quiz-moved-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-moved-1-message_container" class="shiny-html-output"></div>
<div id="quiz-moved-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>You can use R code to find the answer as well, by using the
<code>tabyl()</code> command on the new column:</p>
<pre class="r"><code>surv %&gt;% 
  tabyl(moved)</code></pre>
<div id="section-prioritize-certain-values" class="section level3">
<h3>Prioritize certain values</h3>
<p>Now that you know there is some discrepancy, which of these values
should be prioritized? District of residence, or district of
detection?</p>
<p>This is a question that each outbreak epidemiology team must answer
given their knowledge of the data collection process, and of the
outbreak itself. <strong>For this exercise, we will prioritize location
of detection</strong>, because it might better reflect the nearby
populations who are at higher risk for infection (which can be best
understood by good case investigation).</p>
<p><strong>Create a new column in the data simply named
<code>district</code>.</strong> Create it using the
<code>coalesce()</code> function, which will take its first value if it
is available, else it will take its second value. This function allows
us to “fill-in” missing values by using the first non-missing value
(given a preference order), or to prioritize one value over another if
they differ.</p>
<pre class="r"><code># Add this command to the pipechain
mutate(district = coalesce(district_det, district_res))</code></pre>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender)) %&gt;%      # any other value, remain as before
     
  # create age-in-years
  mutate(age_years = case_when(
    age_unit == &quot;months&quot; ~ age/12,         # if age is given in months
    age_unit == &quot;years&quot;  ~ age,            # if age is given in years
    is.na(age_unit)      ~ age,            # if age unit is missing, assume years
    TRUE                 ~ NA_real_)) %&gt;%  # any other circumstance, assign missing
       
  # create age category column
  mutate(age_cat = age_categories(         # create new column
    age_years,                             # numeric column to make groups from
    lower = 0,
    upper = 70,
    by = 10)) %&gt;% 
     
  # Make date-difference column  
  mutate(diff = date_report - date_onset) %&gt;% 
     
  # create column marking TRUE if district of residence and detection differ
  mutate(moved = district_res != district_det) %&gt;% 
  
  # create new column that prioritizes district of detection
  mutate(district = coalesce(district_det, district_res))</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p><strong>View the dataset in the RStudio viewer again, and verify with
your eye that this code worked as expected</strong></p>
<p>Use the following command to answer the question below:</p>
<pre class="r"><code># cross tabulate &quot;moved&quot; column with &quot;district_res&quot; column
surv %&gt;% 
  tabyl(moved, district_res)</code></pre>
<p><div class="panel-heading tutorial-quiz-title">Quiz - Moving cases origin</div></p>
<div class="panel panel-default">
<div data-label="quiz-moved-home-1" class="tutorial-question panel-body">
<div id="quiz-moved-home-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-moved-home-1-message_container" class="shiny-html-output"></div>
<div id="quiz-moved-home-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg>
<strong>Have you saved your script lately?</strong></p>
</div>
</div>
<div id="section-filter-rows" class="section level2">
<h2>Filter rows</h2>
<p>Sub-setting rows is done with the function <code>filter()</code>.
Inside the parentheses you write logical criteria that are applied to
each row. Rows that meet the criteria are kept.</p>
<div id="section-remove-suspect-cases" class="section level3">
<h3>Remove suspect cases</h3>
<p>For the purposes of this exercise, we will remove any “suspect” cases
from the dataset.</p>
<p>The simplest way of filtering, is to use a logical condition (“==”,
“!=”, “&gt;”, “&lt;”, etc), so that only rows where the logical
statement is <code>TRUE</code> are kept. For example here, we are only
keeping rows where the gender is equal to “female”.</p>
<pre class="r"><code>filter(gender == &quot;female&quot;)</code></pre>
<p>Multiple logical criteria can be combined using &amp; (and), | (or),
and parentheses.</p>
<p><strong>Add a <code>filter()</code> command that restricts the
dataset to only cases where <code>case_def</code> is
“Confirmed”.</strong></p>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>surv &lt;- surv_raw %&gt;% 
  
  # automatically clean column names
  clean_names() %&gt;% 
  
  # manually clean column names   
  rename(
    date_onset = onset_date,
    date_report = date_of_report,
    district_res = adm3_name_res,
    district_det = adm3_name_det) %&gt;%
     
  # remove unnecessary column
  select(-row_num) %&gt;% 

  # de-duplicate rows  
  distinct() %&gt;% 
     
  # convert date_onset to date class
  mutate(date_onset = mdy(date_onset)) %&gt;% 
  mutate(date_report = mdy(date_report)) %&gt;% 

  # convert age to numeric class
  mutate(age = as.numeric(age)) %&gt;% 
  
  # convert &quot;Unknown&quot; gender to NA
  mutate(gender = na_if(gender, &quot;Unknown&quot;)) %&gt;% 
     
  # properly record missing values in many character columns
  mutate(across(.cols = where(is.character), .fns = na_if, &quot;&quot;)) %&gt;% 
  
  # re-code hospital column
  mutate(hospital = recode(hospital,
    # for reference: OLD = NEW
    &quot;Mitilary Hospital&quot;  = &quot;Military Hospital&quot;,
    &quot;Port&quot;               = &quot;Port Hospital&quot;,
    &quot;Port Hopital&quot;       = &quot;Port Hospital&quot;,
    &quot;St. Mark&#39;s Maternity Hospital (SMMH)&quot; = &quot;SMMH&quot;)) %&gt;%
       
  # convert negative weight values to NA
  mutate(wt_kg = ifelse(wt_kg &lt; 0, NA, wt_kg))  %&gt;% 

  # convert gender values to full words
  mutate(gender = case_when(          # re-define gender as: 
    gender == &quot;m&quot; ~ &quot;male&quot;,           # when &quot;m&quot;, change to &quot;male&quot;   
    gender == &quot;f&quot; ~ &quot;female&quot;,         # when &quot;f&quot;, change to &quot;female&quot; 
    TRUE          ~ gender)) %&gt;%      # any other value, remain as before
     
  # create age-in-years
  mutate(age_years = case_when(
    age_unit == &quot;months&quot; ~ age/12,         # if age is given in months
    age_unit == &quot;years&quot;  ~ age,            # if age is given in years
    is.na(age_unit)      ~ age,            # if age unit is missing, assume years
    TRUE                 ~ NA_real_)) %&gt;%  # any other circumstance, assign missing
       
  # create age category column
  mutate(age_cat = age_categories(         # create new column
    age_years,                             # numeric column to make groups from
    lower = 0,
    upper = 70,
    by = 10)) %&gt;% 
     
  # Make date-difference column  
  mutate(diff = date_report - date_onset) %&gt;% 
     
  # create column marking TRUE if district of residence and detection differ
  mutate(moved = district_res != district_det) %&gt;% 
  
  # create new column that prioritizes district of detection
  mutate(district = coalesce(district_det, district_res)) %&gt;% 
     
  # remove suspect cases
  filter(case_def == &quot;Confirmed&quot;)</code></pre>
</br>
</details>
<!--
NOTE: End of solution
-->
<p><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg>
<strong>Now review your cleaning pipe chain, and the one in the solution
above.</strong> Ensure that all the cleaning steps in the solution are
also present in your R script “ebola_analysis.R”.</p>
</div>
</div>
<div id="section-save-as-rds-file" class="section level2">
<h2>Save as RDS file</h2>
<p>Now that we have cleaned this dataset, we should save it in our file
directory for later use.</p>
<p>Because saving as XLSX or CSV can cause to have to re-clean the data
later, we save it as a “.rds” file. RDS is a file format specific to R,
and is very useful if you know you will work with the exported data
again in R.</p>
<p>Most importantly, the classes of columns are stored, so you don’t
have do to cleaning again.</p>
<p>For example, if you work in an epidemiology team and need to send
files to a GIS team for mapping, and they use R as well, just send them
the .rds file! Then all the column classes are retained and they have
less cleaning work to do.</p>
<pre class="r"><code># Export cleaned file  
export(surv, here(&quot;data&quot;, &quot;clean&quot;, &quot;surveillance_linelist_clean_20141201.rds&quot;))</code></pre>
<p>Above, we write the name of the R object (<code>surv</code>), and
then provide the file path and file namethat we want to save it to
(using the same <code>here()</code> syntax that we used to import data).
Note the file extension “.rds”.</p>
<p>If you wanted to export the data as CSV or Excel, you would simply
change the file extension in the command to: .csv or .xlsx</p>
</div>
<div id="section-end" class="section level2">
<h2>End</h2>
<p>Congratulations! You have completed the cleaning exercise! This is a
huge step in your introduction to R. You have now been introduced to
most of the important data management functions in R.</p>
<p>Be sure to save your R script, and check-in with your
facilitator.</p>
<p><strong>In case you did not finish, do not worry.</strong> <em>In the
case that you can not finish, look in the “scripts/backup” folder. You
will find R scripts for the Ebola analysis at every stage of this
course. So you can always us these as a “backup” for later
modules.</em></p>

<script type="application/shiny-prerendered" data-context="server-start">
# load packages ----------------------------------------------------------------
library(gradethis)
library(etude)
library(learnr)
library(dplyr)
library(flair)
library(ggplot2)
library(lubridate)
library(epikit)
library(skimr)  
library(fontawesome)
library(janitor)

# set options for exercises and checking ---------------------------------------
gradethis::gradethis_setup()

learnr::tutorial_options(exercise.timelimit = 60)
    # exercise.checker = gradethis::grade_learnr) 
    # alternatively, submitr::null_code_checker

# event recorder ---------------------------------------------------------------
# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R

tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises

# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {
#     cat(
#       tutorial_id, 
#       " (v", tutorial_version, "); ",
#       format(Sys.time(), "%Y-%M%-%D %H:%M:%S %Z"), "; ",
#       user_id, "; ",
#       event, "; ",
#       data$label, "; ",
#       data$answers, "; ",
#       data$code, "; ",
#       data$correct, "\n", sep = "",
#       
#       file = here::here("event_records", "learnr_basics.txt"),
#       append = TRUE)
# }

#options(tutorial.event_recorder = new_recorder)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>


<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-use-helper-1", 
    question = structure("When should I view the red &#39;helper&#39; code?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_901933c", 
        option = "After trying to write the code myself", value = "After trying to write the code myself", 
        label = structure("After trying to write the code myself", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_283fe7f", 
        option = "Before I try coding", value = "Before I try coding", 
        label = structure("Before I try coding", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Reviewing best-practice code after trying to write yourself can help you improve", html = TRUE, class = c("html", 
    "character")), try_again = structure("Please attempt the exercise yourself, or use the hint, before viewing the answer.", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Please attempt the exercise yourself, or use the hint, before viewing the answer.", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-use-helper-1-answer", question = "quiz-use-helper-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhen should I view the red &#39;helper&#39; code?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 692501767.677529, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-anxious", 
    question = structure("How anxious are you about beginning this tutorial - on a scale from 1 (least anxious) to 10 (most anxious)?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_3de0c13", 
        option = "10", value = 10, label = structure("10", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_691b9aa", 
        option = "9", value = 9, label = structure("9", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_b5a9711", 
        option = "8", value = 8, label = structure("8", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5c62f3f", 
        option = "7", value = 7, label = structure("7", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7576110", 
        option = "6", value = 6, label = structure("6", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Ok, we will get there together", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5b6ae49", 
        option = "5", value = 5, label = structure("5", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Ok, we will get there together", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_36e1ad7", 
        option = "4", value = 4, label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_c2d2681", 
        option = "3", value = 3, label = structure("3", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4b4290c", 
        option = "2", value = 2, label = structure("2", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ddb3877", 
        option = "1", value = 1, label = structure("1", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Thanks for sharing. ", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-anxious-answer", question = "quiz-anxious"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow anxious are you about beginning this tutorial - on a scale from 1 (least anxious) to 10 (most anxious)?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 118960997.444604, options = list(min = 1, max = 10, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz-column-names-1", 
    question = structure("Which of the column names contain non-standard syntax and will need to be cleaned?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_1731661", 
        option = "onset date", value = "onset date", label = structure("onset date", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("This one contains a space", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_db09bb", 
        option = "wt (kg)", value = "wt (kg)", label = structure("wt (kg)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Spaces and parentheses need to be removed", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_25d83f5", 
        option = "hospital", value = "hospital", label = structure("hospital", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("Spaces and parentheses need to be removed", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_6bbffc2", 
        option = "age unit", value = "age unit", label = structure("age unit", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("space needs to be removed", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f1379a2", 
        option = "ht (cm)", value = "ht (cm)", label = structure("ht (cm)", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Spaces and parentheses need to be removed", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_1b344c2", 
        option = "date of report", value = "date of report", 
        label = structure("date of report", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Spaces need to be removed or converted", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-column-names-1-answer", question = "quiz-column-names-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the column names contain non-standard syntax and will need to be cleaned?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 642585979.700773, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-gender-1", 
    question = structure("How many rows are coded as &#39;Unknown&#39; gender?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_bb613ff", 
        option = "26", value = 26, label = structure("26", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct, nice work.", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-gender-1-answer", question = "quiz-gender-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow many rows are coded as &#39;Unknown&#39; gender?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 664952140.690358, options = list(min = 1, max = 700, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-age-distribution-1", 
    question = structure("The median age is:", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_8ce7ade", 
        option = "Below 20", value = "Below 20", label = structure("Below 20", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7b8e641", 
        option = "Above 20", value = "Above 20", label = structure("Above 20", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("The median age can be found in the boxplot", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-age-distribution-1-answer", question = "quiz-age-distribution-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nThe median age is:\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1593179316.75812, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-age-unit-1", 
    question = structure("How many rows contain age recorded in months?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_95e6d9f", 
        option = "5", value = 5, label = structure("5", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct, nice work.", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-age-unit-1-answer", question = "quiz-age-unit-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow many rows contain age recorded in months?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1301038789.39416, options = list(min = 1, max = 700, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-col-class-1", 
    question = structure("What is the class of the column <code>date of report<\u002fcode>?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_40d9f8e", 
        option = "Numeric", value = "Numeric", label = structure("Numeric", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_1e0475d", 
        option = "Character", value = "Character", label = structure("Character", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f33290a", 
        option = "Proletariat", value = "Proletariat", label = structure("Proletariat", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_fcf7ba1", 
        option = "Logical", value = "Logical", label = structure("Logical", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_68021e5", 
        option = "Date", value = "Date", label = structure("Date", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-col-class-1-answer", question = "quiz-col-class-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhat is the class of the column <code>date of report<\u002fcode>?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1280622067.40366, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-residence-1", 
    question = structure("How many cases were residents of Mountain Rural but were detected in Central II?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_b2ead1d", 
        option = "12", value = "12", label = structure("12", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("residence is the rows, and detected is the columns", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ffe4706", 
        option = "4", value = "4", label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("residence is the rows, and detected is the columns", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ea2e6c0", 
        option = "0", value = "0", label = structure("0", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("residence is the rows, and detected is the columns", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_d80691c", 
        option = "209", value = "209", label = structure("209", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = structure("residence is the rows, and detected is the columns", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-residence-1-answer", question = "quiz-residence-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow many cases were residents of Mountain Rural but were detected in Central II?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 787041698.133505, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-clean-names-1", 
    question = structure("How is the column name &#39;ht (cm)&#39; written after using clean_names()?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_ffaf236", 
        option = "height", value = "height", label = structure("height", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_dce29ff", 
        option = "ht_cm", value = "ht_cm", label = structure("ht_cm", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_d1fd45", 
        option = "ht_(cm)", value = "ht_(cm)", label = structure("ht_(cm)", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_c6f1377", 
        option = "HT-CM", value = "HT-CM", label = structure("HT-CM", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-clean-names-1-answer", question = "quiz-clean-names-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow is the column name &#39;ht (cm)&#39; written after using clean_names()?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 2135785330.50545, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-clean-names-2", 
    question = structure("What is the new name of the column that contains date of symptom onset?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_af62920", 
        option = "onset date", value = "onset date", label = structure("onset date", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_265fcef", 
        option = "date-of-onset", value = "date-of-onset", label = structure("date-of-onset", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_75bebd8", 
        option = "onset_date", value = "onset_date", label = structure("onset_date", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_10904be", 
        option = "onset", value = "onset", label = structure("onset", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-clean-names-2-answer", question = "quiz-clean-names-2"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhat is the new name of the column that contains date of symptom onset?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 985164513.041247, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-date-format-raw-1", 
    question = structure("Which format is date_onset??", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_8eb4a70", 
        option = "YYYY-MM-DD", value = "YYYY-MM-DD", label = structure("YYYY-MM-DD", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_f7a419a", 
        option = "DD/MM/YYYY", value = "DD/MM/YYYY", label = structure("DD/MM/YYYY", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_a74c807", 
        option = "MM/DD/YYYY", value = "MM/DD/YYYY", label = structure("MM/DD/YYYY", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-date-format-raw-1-answer", question = "quiz-date-format-raw-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich format is date_onset??\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 740791148.155042, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-date-format-1", 
    question = structure("Which function should be used to convert the column date_onset?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_ca651b6", 
        option = "ymd()", value = "ymd()", label = structure("ymd()", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_27a1ed2", 
        option = "dmy()", value = "dmy()", label = structure("dmy()", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9572353", 
        option = "mdy()", value = "mdy()", label = structure("mdy()", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-date-format-1-answer", question = "quiz-date-format-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich function should be used to convert the column date_onset?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1991646291.57257, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-dates-1", 
    question = structure("In the most recent weeks, what is the apparent trend in the number of reported cases?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_8ff8b27", 
        option = "Increasing", value = "Increasing", label = structure("Increasing", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_39f59b5", 
        option = "Decreasing", value = "Decreasing", label = structure("Decreasing", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-dates-1-answer", question = "quiz-dates-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nIn the most recent weeks, what is the apparent trend in the number of reported cases?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1972668096.5814, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-dates2-1", 
    question = structure("Which column has more missing data?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_58dfbd5", 
        option = "date_onset", value = "date_onset", label = structure("date_onset", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e481868", 
        option = "date_report", value = "date_report", label = structure("date_report", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-dates2-1-answer", question = "quiz-dates2-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich column has more missing data?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 851925165.103291, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-dates2-2", 
    question = structure("Which percent of &#39;date_onset&#39; is missing?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_5e5d1c1", 
        option = "16.4%", value = "16.4%", label = structure("16.4%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_ed58e37", 
        option = "10.2%", value = "10.2%", label = structure("10.2%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_e44e801", 
        option = "1%", value = "1%", label = structure("1%", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7feb9a1", 
        option = "5.3%", value = "5.3%", label = structure("5.3%", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-dates2-2-answer", question = "quiz-dates2-2"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhich percent of &#39;date_onset&#39; is missing?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1252416307.9168, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-moved-1", 
    question = structure("How many cases have different districts of residence and of detection?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_679649c", 
        option = "21", value = 21, label = structure("21", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct, nice work.", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-moved-1-answer", question = "quiz-moved-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow many cases have different districts of residence and of detection?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 51694471.4759279, options = list(min = 1, max = 700, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-moved-home-1", 
    question = structure("Of cases with different residence and detection locations, how many had residence in &#39;Mountain Rural&#39; district?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_30b05c1", 
        option = "4", value = 4, label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Correct, nice work.", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-moved-home-1-answer", question = "quiz-moved-home-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nOf cases with different residence and detection locations, how many had residence in &#39;Mountain Rural&#39; district?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1246201897.41969, options = list(min = 1, max = 700, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/paper.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"<U+CF54><U+B4DC> <U+C2E4><U+D589>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+D78C><U+D2B8>\",\"hint_plural\":\"<U+D78C><U+D2B8><U+B4E4>\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"<U+B2E4><U+C74C> <U+D78C><U+D2B8>\",\"hintprev\":\"<U+C774><U+C804> <U+D78C><U+D2B8>\",\"solution\":\"<U+C194><U+B8E8><U+C158>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+D074><U+B9BD><U+BCF4><U+B4DC><U+C5D0> <U+BCF5><U+C0AC>\",\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"<U+B2E4><U+C74C> <U+D559><U+C2B5><U+C73C><U+B85C>\",\"submitanswer\":\"<U+C815><U+B2F5> <U+C81C><U+CD9C>\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"<U+C774><U+C804> <U+D1A0><U+D53D>\",\"nexttopic\":\"<U+B2E4><U+C74C> <U+D1A0><U+D53D>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+C7AC><U+C2DC><U+B3C4>\"},\"text\":{\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"areyousure\":\"<U+B2E4><U+C2DC> <U+C2DC><U+C791> <U+D558><U+C2DC><U+ACA0><U+C2B5><U+B2C8><U+AE4C>? (<U+BAA8><U+B4E0> <U+C608><U+C81C><U+C758> <U+C9C4><U+D589> <U+C815><U+BCF4><U+AC00> <U+C7AC><U+C124><U+C815><U+B429><U+B2C8><U+B2E4>)\",\"youmustcomplete\":\"<U+B2F9><U+C2E0><U+C740> <U+C644><U+B8CC><U+D574><U+C57C> <U+D569><U+B2C8><U+B2E4>\",\"exercise\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C>\",\"exercise_plural\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C><U+B4E4>\",\"inthissection\":\"<U+C774> <U+C139><U+C158><U+C744> <U+C2E4><U+D589><U+D558><U+AE30> <U+C804><U+C5D0>\",\"code\":\"<U+CF54><U+B4DC>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"<U+D034><U+C988>\",\"blank\":\"<U+ACF5><U+BC31>\",\"blank_plural\":\"<U+ACF5><U+BC31><U+B4E4>\",\"exercisecontainsblank\":\"<U+C774> <U+C5F0><U+C2B5><U+BB38><U+C81C><U+C5D0><U+B294> {{count}}<U+AC1C><U+C758> $t(text.blank)<U+C774> <U+D3EC><U+D568><U+B418><U+C5B4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\",\"pleasereplaceblank\":\"{{blank}}<U+B97C> <U+C720><U+D6A8><U+D55C> <U+CF54><U+B4DC><U+B85C> <U+BC14><U+AFB8><U+C2ED><U+C2DC><U+C624>.\",\"unparsable\":\"<U+C774><U+AC83><U+C740> <U+C720><U+D6A8><U+D55C> R <U+CF54><U+B4DC><U+AC00> <U+C544><U+B2D0> <U+C218> <U+C788><U+C2B5><U+B2C8><U+B2E4>. R<U+C740> <U+D14D><U+C2A4><U+D2B8><U+B97C> <U+C644><U+C804><U+D55C> <U+BA85><U+B839><U+C73C><U+B85C> <U+BCC0><U+D658><U+D558><U+B294> <U+BC29><U+BC95><U+C744> <U+ACB0><U+C815><U+D560> <U+C218> <U+C5C6><U+C2B5><U+B2C8><U+B2E4>. <U+B2F9><U+C2E0><U+C740> <U+ACF5><U+BC31><U+C774><U+B098> <U+BC11><U+C904><U+C744> <U+B300><U+CCB4><U+D558><U+C5EC> <U+CC44><U+C6B0><U+AE30>, <U+C778><U+C218><U+B97C> <U+CEF4><U+B9C8><U+B85C> <U+AD6C><U+BD84><U+D558><U+AE30>, <U+B610><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code><U+B85C> <U+C2DC><U+C791><U+D558><U+B294> <U+AD6C><U+BB38><U+C744> <U+B2EB><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code><U+C744> <U+C78A><U+C5C8><U+C744> <U+C218><U+B3C4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\\n\",\"and\":\"<U+ADF8><U+B9AC><U+ACE0>\",\"or\":\"<U+D639><U+C740>\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","base64enc","bslib","cellranger","checkmate","cli","colorspace","compiler","crayon","curl","data.table","datasets","DBI","digest","dplyr","ellipsis","epikit","etude","evaluate","fansi","fastmap","flair","fontawesome","forcats","foreign","generics","ggplot2","glue","gradethis","graphics","grDevices","grid","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","janitor","jquerylib","jsonlite","knitr","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","munsell","openxlsx","pillar","pkgconfig","promises","purrr","R6","Rcpp","readxl","repr","rio","rlang","rmarkdown","rprojroot","rstudioapi","sass","scales","shiny","skimr","snakecase","stats","stringi","stringr","tibble","tidyr","tidyselect","tools","utf8","utils","vctrs","withr","xfun","xtable","yaml","zip"]},{"type":"character","attributes":{},"value":["0.2.1","1.4.1","4.1.3","0.1-3","0.3.1","1.1.0","2.0.0","3.2.0","2.0-3","4.1.3","1.5.0","4.3.2","1.14.2","4.1.3","1.1.2","0.6.29","1.0.8","0.3.2","0.1.2","0.3.0.9001","0.15","1.0.2","1.1.0","0.0.2","0.2.2","0.5.1","0.8-82","0.1.2","3.3.5","1.6.2","0.2.7.9000","4.1.3","4.1.3","4.1.3","0.3.0","2.4.3","0.9","1.1.1","0.5.2","1.5.4","1.6.5","2.1.0","0.1.4","1.8.0","1.37","1.3.0","0.10.1.9019","1.0.1","1.8.0","2.0.2","1.1","4.1.3","0.12","0.5.0","4.2.5","1.7.0","2.0.3","1.2.0.1","0.3.4","2.5.1","1.0.8.2","1.3.1","1.1.4","0.5.29","1.0.2","2.13","2.0.2","0.13","0.4.0","1.1.1","1.7.1","2.1.3","0.11.0","4.1.3","1.7.6","1.4.0","3.1.6","1.2.0","1.1.2","4.1.3","1.2.2","4.1.3","0.3.8","2.5.0","0.30","1.8-4","2.3.5","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Applied Epi - Data
cleaning</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
