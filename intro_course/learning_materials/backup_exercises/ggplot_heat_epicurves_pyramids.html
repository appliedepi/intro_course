<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />
<meta name="learnr-version-prerender" content="0.10.1.9019" />

<title>Applied Epi - Heat plots, epicurves, pyramids</title>

<!-- header-includes START -->
<!-- HEAD_CONTENT -->
<!-- header-includes END -->
<!-- HEAD_CONTENT -->

<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>


<!-- taken from https://github.com/rstudio/rmarkdown/blob/de8a9c38618903627ca509f5401d50a0876079f7/inst/rmd/h/default.html#L293-L343 -->
<!-- tabsets -->
<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>
<!-- end tabsets -->

<link rel="stylesheet" href="css\css_custom.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<!-- NOTES: To edit images, edit them in the "images" folder that lives NEXT TO THE RMD FILE -->
<!-- Add JavaScript code for making the exercise code larger -->
<script language="JavaScript" src="js/exercise-font-size.js"></script>
<div
id="section-introduction-to-r-for-applied-epidemiology-and-public-health"
class="section level2">
<h2>Introduction to R for Applied Epidemiology and Public Health</h2>
<div id="section-welcome" class="section level3">
<h3>Welcome</h3>
<p>Welcome to the live course “Introduction to R for applied
epidemiologists”, offered by <a href="www.appliedepi.org">Applied
Epi</a> - a nonprofit organisation that offers open-source tools,
training, and support to frontline public health practitioners.</p>
<p><img src="images/logo.png" width="25%" /></p>
</div>
<div id="section-heat-plots-epidemic-curves-and-pyramids"
class="section level3">
<h3>Heat plots, epidemic curves, and pyramids</h3>
<p>This exercise focuses on learning how to code and customize more
advanced plots such as heat plots, epidemic curves and age/sex
demographic pyramids. We will be building on what you have learned
previously from tidyverse and ggplot2 to produce these.</p>
<p>This will involve using previously explored aspects such as:</p>
<ul>
<li><code>ggplot()</code><br />
</li>
<li>Pipe chains <code>%&gt;%</code><br />
</li>
<li>Themes (e.g. <code>theme_minimal()</code>,
<code>theme_bw()</code>)<br />
</li>
<li>Custom axis scales (e.g. <code>scale_y_continuous()</code>)<br />
</li>
<li>New functions such as <code>geom_tile()</code> for heat plots and
<code>geom_histogram()</code> for epidemic curves, and
<code>age_pyramid()</code> (from {apyramid}) for age/sex pyramids</li>
</ul>
</div>
<div id="section-format" class="section level3">
<h3>Format</h3>
<p>This exercise will guide you through a set of tasks.<br />
<em>You should perform these tasks in RStudio and on your local
computer</em>.</p>
<div id="section-getting-help" class="section level4">
<h4>Getting Help</h4>
<p>There are several ways to get help:</p>
<ol style="list-style-type: decimal">
<li>Look for the “helpers” (see below)</li>
<li>Ask your live course instructor/facilitator for help<br />
</li>
<li>Ask a colleague or other participant in the course for tips<br />
</li>
<li>Post a question in <a href="www.community.appliedepi.org">Applied
Epi Community</a> in the category for questions about Applied Epi
Training</li>
</ol>
<p>Here is what those “helpers” will look like:</p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Here you will see a helpful hint!</p>
</br>
</details>
<!--
NOTE: Below is the solution (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>linelist %&gt;% 
  filter(
    age &gt; 25,
    district == &quot;Bolo&quot;
  )</code></pre>
<p>Here is more explanation about why the solution works.</p>
</br>
</details>
<!--
NOTE: End of solution
-->
</div>
<div id="section-quiz-questions" class="section level4">
<h4>Quiz questions</h4>
<p>Please complete the quiz questions that you encounter throughout the
tutorial. <strong>Answering will help you</strong> to comprehend the
material, and will also help us to improve the exercises for future
students.</p>
<p>To practice, please answer the following questions:</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz-use-helper-1" class="tutorial-question panel-body">
<div id="quiz-use-helper-1-answer_container" class="shiny-html-output"></div>
<div id="quiz-use-helper-1-message_container" class="shiny-html-output"></div>
<div id="quiz-use-helper-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz-anxious" class="tutorial-question panel-body">
<div id="quiz-anxious-answer_container" class="shiny-html-output"></div>
<div id="quiz-anxious-message_container" class="shiny-html-output"></div>
<div id="quiz-anxious-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-icons" class="section level4">
<h4>Icons</h4>
<p>You will see these icons throughout the exercises:</p>
<table>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Icon</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg></td>
<td>Observe</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 192 512" style="height:1em;width:0.38em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"/></svg></td>
<td>Alert!</td>
</tr>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:brown;overflow:visible;position:relative;"><path d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"/></svg></td>
<td>An informative note</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg></td>
<td>Time for you to code!</td>
</tr>
<tr class="odd">
<td><svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkgrey;overflow:visible;position:relative;"><path d="M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"/></svg></td>
<td>Change to another window</td>
</tr>
<tr class="even">
<td><svg aria-hidden="true" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:orange;overflow:visible;position:relative;"><path d="M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"/></svg></td>
<td>Remember this for later</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="section-learning-objectives" class="section level2">
<h2>Learning objectives</h2>
<p>In this exercise you will:</p>
<ul>
<li>Practice reading R documentation for functions<br />
</li>
<li>Learn to make heat plots<br />
</li>
<li>Learn to make epidemic curves<br />
</li>
<li>Learn to make age/sex pyramids</li>
</ul>
</div>
<div id="section-refresh-your-memory" class="section level2">
<h2>Refresh your memory</h2>
<p>First, let us refresh ourselves on the basics of
<strong>ggplot2</strong>!</p>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz1-1" class="tutorial-question panel-body">
<div id="quiz1-1-answer_container" class="shiny-html-output"></div>
<div id="quiz1-1-message_container" class="shiny-html-output"></div>
<div id="quiz1-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-2" class="tutorial-question panel-body">
<div id="quiz1-2-answer_container" class="shiny-html-output"></div>
<div id="quiz1-2-message_container" class="shiny-html-output"></div>
<div id="quiz1-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-3" class="tutorial-question panel-body">
<div id="quiz1-3-answer_container" class="shiny-html-output"></div>
<div id="quiz1-3-message_container" class="shiny-html-output"></div>
<div id="quiz1-3-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-4" class="tutorial-question panel-body">
<div id="quiz1-4-answer_container" class="shiny-html-output"></div>
<div id="quiz1-4-message_container" class="shiny-html-output"></div>
<div id="quiz1-4-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-5" class="tutorial-question panel-body">
<div id="quiz1-5-answer_container" class="shiny-html-output"></div>
<div id="quiz1-5-message_container" class="shiny-html-output"></div>
<div id="quiz1-5-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-6" class="tutorial-question panel-body">
<div id="quiz1-6-answer_container" class="shiny-html-output"></div>
<div id="quiz1-6-message_container" class="shiny-html-output"></div>
<div id="quiz1-6-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-7" class="tutorial-question panel-body">
<div id="quiz1-7-answer_container" class="shiny-html-output"></div>
<div id="quiz1-7-message_container" class="shiny-html-output"></div>
<div id="quiz1-7-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Great, now we have refreshed our memory with a quiz, we will start on
our first topic, <em>heat plots</em>.</p>
</div>
<div id="section-preparation" class="section level2">
<h2>Preparation</h2>
<p>Open your R project and run your entire “ebola_analysis.R” script, so
that you are able to use the data frame <code>combined</code>.</p>
<p>This will involve running all the parts of your R script, including
to import data, clean, perform joins, and create the
<code>combined</code> dataset.</p>
<p>If you did not complete the joining exercise, or are seeing errors
when trying to run your script, you can import a “backup”
<code>combined</code> data frame in the “data/clean/backup/” folder
using this command:</p>
<pre class="r"><code>combined &lt;- import(here(&quot;data&quot;, &quot;clean&quot;, &quot;backup&quot;, &quot;linelist_combined_20141201.rds&quot;))</code></pre>
</div>
<div id="section-epiweeks" class="section level2">
<h2>Epiweeks</h2>
<p>Before we proceed, it is worth covering the creation of “weeks”, or
“epiweeks” (epidemiological weeks) in your data frame. You may want to
create a new column that contains the “epiweek”, based on a date such as
<code>date_onset</code>, in order to create tables of the number of
cases by week.</p>
<p>There are many different ways to define what a “week” is. Likewise,
some countries formulate epiweeks differently (e.g. starting on Sundays,
Mondays, or Fridays). Most of the world uses weeks that begin on
Mondays. There are several ways to do this in R. Below we present the
most common approach in detail, and provide you with a reference sheet
for the rest.</p>
<div id="section-tsibble" class="section level3">
<h3>tsibble</h3>
<p>The method that we recommend for creating epidemic weeks (based on a
certain day of the week) is with the {tsibble} package. This package is
often used for time series analysis, and has a variety of useful
time/date functions.</p>
<div id="section-loadinstall-tsibble" class="section level4">
<h4>Load/install {tsibble}</h4>
<p><strong>Add the {tsibble} package to your <code>p_load()</code>
command at the top of your script, and re-run the command to install and
load {tsibble} from CRAN.</strong></p>
</div>
<div id="section-create-epiweek-columns" class="section level4">
<h4>Create epiweek columns</h4>
<p>The function <code>yearweek()</code> conveniently produces weeks from
a provided date column (e.g. <code>date_onset</code> in the
<code>combined</code> data frame). You can also designate the
<code>week_start =</code> argument, where 1 is for Monday, 7 is for
Sunday, etc.</p>
<p>Putting this in a <code>mutate()</code> command will create a new
column <code>week_onset</code> of class “yearweek”, which will display
values like “2014 W44”. Importantly, these can be used to bin the rows
into discrete weeks for an epidemic curve or another table/plot.</p>
<pre class="r"><code># create new column for week of onset
mutate(week_onset = yearweek(date_onset, week_start = 1)) %&gt;% </code></pre>
<p>The values of <code>week_onset</code> will look like this:</p>
<pre><code>## &lt;yearweek[6]&gt;
## [1] &quot;2014 W44&quot; &quot;2014 W33&quot; &quot;2014 W35&quot; &quot;2014 W43&quot; &quot;2014 W44&quot; &quot;2014 W41&quot;
## # Week starts on: Monday</code></pre>
<p>We can then create a <em>second</em> column based on this weeks
column, that will be a normal date class. We can use this column for
adjusting date axis label displays (we will do this in the epicurves
section of this exercise).</p>
<p>We do this by using the new column <code>week_onset</code> (class
“yearweek”) and wrapping it in the {base} function
<code>as.Date()</code>. The “weeks” will be converted to dates. If you
selected a <code>week_start = 1</code> (Mondays), then the date returned
would be the Monday of that week (rounding down). We save this as a new
column, <code>week_onset_date</code>.</p>
<pre class="r"><code># create new column for week of onset
mutate(week_onset_date = as.Date(week_onset)) %&gt;% </code></pre>
<p>The values of <code>week_onset_date</code> will look like this:</p>
<pre><code>## [1] &quot;2014-10-27&quot; &quot;2014-08-11&quot; &quot;2014-08-25&quot; &quot;2014-10-20&quot; &quot;2014-10-27&quot;
## [6] &quot;2014-10-06&quot;</code></pre>
<p><strong>For now, add the below <code>mutate()</code> command just
after the joining section of your script, before <code>combined</code>
is exported as a .rds file.</strong> Later, you may choose to integrate
these commands into the cleaning pipe chain of the surveillance dataset
instead.</p>
<p><code>mutate()</code> actually allows us to place more than one
statement within its parentheses, separated by commas. So we take
advantage of this to add both changes within the same
<code>mutate()</code> command.</p>
<pre class="r"><code>combined &lt;- combined %&gt;% 
  mutate(week_onset      = yearweek(date_onset, week_start = 1), ## create week of onset variable  
         week_onset_date = as.Date(week_onset))                  ## create a date version </code></pre>
<p>Now we have two versions of “epiweek” columns that we can use to make
plots and tables!</p>
<!-- ### {lubridate} floor_date()   -->
<!-- In your code that cleans the `combined` dataset (after the joins are used to create it), add a `mutate()` function to create an `epiweek` column.   -->
<!-- Assign this new column to the function `floor_date()` from the package {lubridate}, with the following argument settings:   -->
<!-- 1) the column of dates to use (`date_onset`)   -->
<!-- 2) `unit = "week"` (this can be set to other values such as "month")   -->
<!-- This `floor_date()` function will return a *date*, that is the Sunday *prior* to the onset date - the "floor" Sunday. In effect, it is "rounding down" the date to previous Sunday.   -->
<!-- For example:   -->
<!-- ```{r, echo=T} -->
<!-- floor_date(ymd("2022-03-25"), unit = "week")   # Returns the Sunday prior to Friday 25 March, 2022   -->
<!-- ``` -->
<!-- If you need to create epiweeks that begin on Monday, you can set the additional argument `week_start = 1` (Sundays are 7, and Mondays are 1).   -->
<!-- ```{r, echo=T} -->
<!-- floor_date(ymd("2022-03-25"), unit = "week", week_start = 1)   # Returns the Monday prior to Friday 25 March, 2022   -->
<!-- ``` -->
<!-- **Now try adding another `mutate()` command that creates epiweek of report, using `date_report`.** But this time, adjust your first `mutate()` command so that you nest the creation of these two columns *within one `mutate()` command*. For example:   -->
<!-- ```{r, echo=T, eval=F} -->
<!-- combined %>%  -->
<!--   mutate(epiweek_onset  = floor_date(___),    # create first new column, followed by a comma -->
<!--          epiweek_report = floor_date(___))    # create second new column, close mutate parentheses -->
<!-- ``` -->
<!-- This is one way to make your code more concise and efficient. Each mutate statement does not require its own `mutate()` command.   -->
<!-- <details> -->
<!-- <summary style='text-decoration: underline; color: red;'>`<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>`{=html}Click to see a solution (try it yourself first!)</summary> -->
<!-- </br> -->
<!-- ```{r, eval = F, echo = T} -->
<!-- mutate(epiweek_onset = floor_date(date_onset, unit = "week", week_start = 1), -->
<!--        epiweek_report = floor_date(date_onset, unit = "week", week_start = 1)) -->
<!-- ``` -->
<!-- </br> -->
<!-- </details> -->
</div>
</div>
</div>
<div id="section-heat-plots" class="section level2">
<h2>Heat plots</h2>
<p>Heat plots, also called “heat tiles”, are useful visualizations when
trying to display <strong>3 variables</strong> (x-axis, y-axis and
fill).</p>
<p>For instance, you may want to look at a breakdown of how many cases
were reported by week across several hospitals, to get an idea of how
the epidemic has progressed in several places. Let’s see how this
works.</p>
<p>Let’s say that we have a data frame called
<code>hospital_weeks</code>, which has the following columns:</p>
<pre class="r"><code>head(hospital_weeks)    # print the first 6 rows</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["hospital"],"name":[1],"type":["chr"],"align":["left"]},{"label":["week_onset"],"name":[2],"type":["week"],"align":["right"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Central Hospital","2":"2014 W30","3":"2","_rn_":"1"},{"1":"Central Hospital","2":"2014 W32","3":"2","_rn_":"2"},{"1":"Central Hospital","2":"2014 W33","3":"3","_rn_":"3"},{"1":"Central Hospital","2":"2014 W35","3":"1","_rn_":"4"},{"1":"Central Hospital","2":"2014 W36","3":"1","_rn_":"5"},{"1":"Central Hospital","2":"2014 W37","3":"2","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This data is in “long” format, and every possible hospital-week has a
row.</p>
<p>Create this data frame in your RStudio using this code below. <em>Do
not try to understand this code (try our advanced course in data
management)</em>. In essence it uses <code>count()</code> to create a
data frame of case counts by week, then creates a data frame with all
possible hospital-weeks, and then joins them together.</p>
<pre class="r"><code># count cases by hospital-week
hospital_weeks_raw &lt;- combined %&gt;%
  count(hospital, week_onset_date) 

# create longer dataset of all possible hospital-weeks
expanded &lt;- hospital_weeks_raw %&gt;% 
  select(hospital, week_onset_date) %&gt;%
  tidyr::expand(., week_onset_date, hospital)

# merge so that all hospital-weeks are represented in the data
hospital_weeks &lt;- hospital_weeks_raw %&gt;%      
  right_join(expanded) %&gt;%                            
  mutate(n = replace_na(n, 0)) %&gt;% 
  filter(week_onset_date &gt;= ymd(&quot;2014-06-15&quot;))</code></pre>
<div id="section-review-documentation" class="section level3">
<h3>Review documentation</h3>
<p><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg>
Take a few minutes to review the documentation for the function
<code>geom_tile()</code>, which is from {ggplot2}. You can access this
by either:</p>
<ol style="list-style-type: decimal">
<li>Entering <code>?geom_tile</code> in the Console, or<br />
</li>
<li>Click to the “Help” pane (lower-right) and entering
<code>geom_tile</code> in the search bar</li>
</ol>
</div>
<div id="section-basic-heat-plot" class="section level3">
<h3>Basic heat plot</h3>
<p>What <code>ggplot()</code> code would you write to create a heat plot
that:</p>
<ul>
<li>Has the week of onset on the x-axis<br />
</li>
<li>Has the hospital name on the y-axis<br />
</li>
<li>Is colored by the number of onsets in that week?</li>
</ul>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>ggplot(data = hospital_weeks,
       mapping = aes(x = week_onset_date, y = hospital, fill = n)) +
  geom_tile()</code></pre>
<img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-13-1.png" width="624" />
</br>
</details>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz1-2-1" class="tutorial-question panel-body">
<div id="quiz1-2-1-answer_container" class="shiny-html-output"></div>
<div id="quiz1-2-1-message_container" class="shiny-html-output"></div>
<div id="quiz1-2-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz1-2-2" class="tutorial-question panel-body">
<div id="quiz1-2-2-answer_container" class="shiny-html-output"></div>
<div id="quiz1-2-2-message_container" class="shiny-html-output"></div>
<div id="quiz1-2-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
</div>
<div id="section-customising-your-heat-plot" class="section level3">
<h3>Customising your heat plot</h3>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
The plot is nice, but let us do a dew more things to refine the
presentation:</p>
<ol style="list-style-type: decimal">
<li>Modify <code>hospital_weeks</code> to create a new data frame:
<code>hospital_weeks_adjusted</code>. In this data frame, ensure
that:<br />
</li>
</ol>
<ul>
<li>The <code>NA</code> values in the column <code>hospital</code> are
re-coded as “Missing” <em>and</em> this column is class “factor” with
the levels in this order : “Central Hospital”, “Military Hospital”,
“Port Hospital”, “SMMH”, “Other”, “Missing”.<br />
</li>
<li>You can convert <code>NA</code> to “(Missing)” using
<code>fct_explicit_na()</code> from {forcats} within
<code>mutate()</code><br />
</li>
<li>You can then use <code>fct_relevel()</code> also from {forcats}, in
a subsequent <code>mutate()</code> to list the desired factor level
order</li>
</ul>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Within <code>mutate()</code> commands, use the {forcats} package and
its function <code>fct_explicit_na()</code> to re-define the column
<code>hospital</code> to convert <code>NA</code> to “(Missing)” (this
also converts the column to class “factor”). In another mutate command,
use the function <code>fct_relevel()</code> to adjust the ordering of
the levels.</p>
<p>If you need a refresher on how to change <code>NA</code> values in
factor columns, and how to reorder, checkout the R Handbook chapter on
<a
href="https://www.epirhandbook.com/en/factors.html?q=factor#factors">factors</a>.</p>
</br>
</details>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>hospital_weeks_adjusted &lt;- hospital_weeks %&gt;% 
  mutate(hospital = fct_explicit_na(hospital),
         hospital = fct_relevel(hospital, &quot;Central Hospital&quot;, &quot;Military Hospital&quot;, &quot;Port Hospital&quot;, &quot;SMMH&quot;, &quot;Other&quot;, &quot;(Missing)&quot;))</code></pre>
</br>
</details>
<ol start="2" style="list-style-type: decimal">
<li>In the ggplot <em>on the new adjusted data frame</em>, change the
color scheme to a diverging color scale. Provide a scale one that
extends from “skyblue” at low values to “tomato” at high values.</li>
</ol>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Add <code>scale_fill_gradient()</code> to the <code>ggplot()</code>
command. See the help documentation with
<code>?scale_fill_gradient</code> to understand the arguments.</p>
</br>
</details>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>ggplot(data = hospital_weeks_adjusted,
       mapping = aes(x = week_onset_date, y = hospital, fill = n)) +
  geom_tile()+
  scale_fill_gradient(low = &quot;skyblue&quot;, high = &quot;tomato&quot;)</code></pre>
<img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-15-1.png" width="624" />
</br>
</details>
<ol start="3" style="list-style-type: decimal">
<li>The default x-axis ticks show each month. Change these to
efficiently show every two weeks (not show any duplicate information).
<ul>
<li>Think about using the <code>date_label_short()</code> function from
{scales}, which you learned in the scales ggplot module.</li>
</ul></li>
</ol>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Add <code>scale_x_date()</code> to the bottom of the ggplot, and
provide the arguments <code>date_breaks = "2 weeks"</code> (for
example), and <code>labels = scales::label_date_short()</code>.</p>
</br>
</details>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>ggplot(data = hospital_weeks_adjusted,
       mapping = aes(x = week_onset_date, y = hospital, fill = n)) +
  geom_tile()+
  scale_fill_gradient(low = &quot;skyblue&quot;, high = &quot;tomato&quot;)+
  scale_x_date(
    date_breaks = &quot;2 weeks&quot;,
    labels = scales::label_date_short()
  )</code></pre>
<img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-16-1.png" width="624" />
</br>
</details>
<ol start="4" style="list-style-type: decimal">
<li>Make the labels for the axes and legend more presentable.</li>
</ol>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>Adjust the <code>labs()</code>. Recall that the legend title in this
case is edited with <code>fill =</code> because it was created by the
fill.</p>
</br>
</details>
<p>Below is all the solution code together:</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code># Edit the dataset
hospital_weeks_adjusted &lt;- hospital_weeks %&gt;% 
  mutate(hospital = fct_explicit_na(hospital),
         hospital = fct_relevel(hospital, &quot;Central Hospital&quot;, &quot;Military Hospital&quot;, &quot;Port Hospital&quot;, &quot;SMMH&quot;, &quot;Other&quot;, &quot;(Missing)&quot;))

# Plot with adjustments
ggplot(data = hospital_weeks_adjusted) +
  geom_tile(aes(x = week_onset_date, y = hospital, fill = n))+
  scale_fill_gradient(low = &quot;skyblue&quot;, high = &quot;tomato&quot;)+
  scale_x_date(date_breaks = &quot;2 weeks&quot;,
               labels = scales::label_date_short())+
  labs(x = &quot;Week of symptom onset&quot;,
       y = &quot;Hospital&quot;,
       fill = &quot;Number of\nweekly cases&quot;)+
  theme_minimal()</code></pre>
</br>
</details>
</div>
<div
id="section-setting-up-the-data-creating-and-customising-a-heat-plot"
class="section level3">
<h3>Setting up the data, creating and customising a heat plot</h3>
<p>Note that to make the heat plot using <code>geom_tile()</code>, you
had to provide a data frame with <em>counts</em> - aggregated data (not
a linelist). There are ways to create heat plots from linelist data (see
<code>geom_density()</code> functions) but those will not be covered
today.</p>
<p>Now that you are familiar with the plotting syntax, we will move to
an exercise where you create the counts data frame and further customize
the plot display.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Try to do the following on your own. It will be challenging, but this is
good exposure to intermediate-level R programming.</p>
<ol style="list-style-type: decimal">
<li>Use <code>combined</code> to create a new data frame named
<code>age_outcome_summary</code>.<br />
</li>
</ol>
<ul>
<li>First, drop any rows with <code>NA</code> values by piping to
<code>drop_na(gender, age_cat)</code>.<br />
</li>
<li>Then, use <code>group_by()</code> and <code>summarise()</code> to
show summary counts for each unique combination (group) of
<code>age_cat</code> and <code>gender</code>.<br />
</li>
<li>In addition to case counts, include a column showing the number of
rows in each group whose <code>outcome</code> is equal to “Death”.<br />
</li>
<li>Finally, include a column calculating with the proportion in each
group equal to “Death”.</li>
</ul>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code># make new data frame summarizing age, gender, and deaths
age_outcome_summary &lt;- combined %&gt;%
  drop_na(gender, age_cat) %&gt;%         # remove any NA values
  group_by(age_cat, gender) %&gt;%        # group rows by age-gender groups
  summarise(                           # begin creating new summary columns
    n = n(),
    n_death = sum(outcome == &quot;Death&quot;,  # sum the number of rows where outcome is Death
                  na.rm = TRUE),
    pct_death = n_death / n)           # create proportion dead in the group</code></pre>
</br>
</details>
<ol start="2" style="list-style-type: decimal">
<li>Now, create a heat plot using this new data frame. Make the tiles be
filled (color) according to the percent of those that have an outcome of
“Death” as broken down by <code>gender</code> and <code>age_cat</code>
in your data frame.</li>
</ol>
<p>If possible, do the following as well:</p>
<ul>
<li>Clean up the axis names to “Age category”, “Gender” and the legend
title to <code>"Percent of\ncases fatal"</code><br />
</li>
<li>Using the <strong>viridis</strong> package
(<code>scale_fill_viridis()</code>) and pick a color scheme option
(e.g. <code>option = "B"</code>), and set the scale
<code>limits = c(0, 1)</code> to align with the proportions.<br />
</li>
<li>Add <code>geom_text()</code> to display the percent on each tile.
Try this first by reading the documentation for <code>geom_text</code>.
<ul>
<li>To display as percents, you will need to edit
<code>labels = scales::percent()</code> within <code>aes()</code>. Round
to one decimal place with <code>accuracy = 0.1</code>.</li>
</ul></li>
</ul>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code># make plot
ggplot(data = age_outcome_summary,            # use new data frame
       mapping = aes(x = gender,              # gender on x-axis
                     y = age_cat,             # age category on y-axis
                     fill = pct_death)) +     # fill (color) is shaded by the proportion dead
  geom_tile() +                               # display data as tiles  
  scale_fill_viridis(                         # adjust colors scale
    option = &quot;B&quot;,                             # pick any option
    limits = c(0, 1)) +                       # set the limits to go from 0 to 1
  geom_text(                                  # add text over the tiles
    mapping = aes(
      label = scales::percent(                # show percents instead of proportions
        pct_death,
        accuracy = 0.1)))+
  labs(x = &quot;Gender&quot;,                          # add labels
       y = &quot;Age categories&quot;,
       fill = &quot;Percent of\ncases fatal&quot;) +
  scale_fill_continuous(                      # adjust the values displayed in the legend
    labels = scales::percent)                 # to be percents (not proportions)</code></pre>
</br>
</details>
</div>
<div id="section-section" class="section level3">
<h3></h3>
<p><div class="panel-heading tutorial-quiz-title"><span data-i18n="text.quiz">Quiz</span></div></p>
<div class="panel panel-default">
<div data-label="quiz2-1" class="tutorial-question panel-body">
<div id="quiz2-1-answer_container" class="shiny-html-output"></div>
<div id="quiz2-1-message_container" class="shiny-html-output"></div>
<div id="quiz2-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<div class="panel panel-default">
<div data-label="quiz2-2" class="tutorial-question panel-body">
<div id="quiz2-2-answer_container" class="shiny-html-output"></div>
<div id="quiz2-2-message_container" class="shiny-html-output"></div>
<div id="quiz2-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div>
<p>Ok, good job! You have managed to build summary datasets for a heat
plot and then customize the plot so that you can analyze the
information.</p>
<p>Even if you did not know how to do all of those edits to the ggplot,
the purpose of that task was to expose you to a new plot and
customization possibilities.</p>
<p>You can always find sample code in the Heat Plots chapter of the <a
href="https://www.epirhandbook.com/en/heat-plots.html?q=heat%20plot#heat-plots">Epi
R Handbook</a>, and become more well-practiced later.</p>
</div>
</div>
<div id="section-epi-curves" class="section level2">
<h2>Epi curves</h2>
<p>An epidemic curve (also known as an “epi curve”) is a core
epidemiological chart typically used to visualize the temporal pattern
of illness onset among a cluster or epidemic of cases.</p>
<p>Analysis of the epicurve can reveal temporal trends, outliers, the
magnitude of the outbreak, the most likely time period of exposure, time
intervals between case generations, and can even help identify the mode
of transmission of an unidentified disease (e.g. point source,
continuous common source, person-to-person propagation).</p>
<p>We are going to build epidemic curves with {ggplot2}, which allows
for advanced customizability. There is another option, the {incidence2}
package as described in the <a
href="https://epirhandbook.com/en/epidemic-curves.html#epicurves-with-incidence2-package">Epi
R Handbook</a>, which is perhaps more simple but less customizeable.</p>
<p>As you have been through several exercises using {ggplot2}, you are
now familiar with the syntax and customization it allows (themes,
labels, axes, etc).</p>
<div id="section-weeks-or-dates" class="section level3">
<h3>Weeks or dates</h3>
<p>When deciding to make an epidemic curve, you must first decide
whether you want to display the “week” on the X-axis (e.g. “2014 W35”)
or some variety of calendar date.</p>
</div>
</div>
<div id="section-epicurves-with-calendar-dates" class="section level2">
<h2>Epicurves with calendar dates</h2>
<p>In its most basic form, plotting epidemic curves in {ggplot2} is a
case of using the ggplot function <code>geom_histogram()</code> to show
the distribution of the date values. However, there are 3 main things to
watch out for:</p>
<ul>
<li>The histogram bins (how the data are grouped by time unit)<br />
</li>
<li>Scales for axes and their labels</li>
<li>Themes for the plot appearance</li>
</ul>
<div id="section-simple-bins" class="section level3">
<h3>Simple bins</h3>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Can you make a simple histogram from the data frame
<code>combined</code> which shows the incidence of
<code>date_onset</code> using 5-day intervals? The histogram “binwidth”
can be specified as a number (a static aesthetic) to
<code>binwidth =</code>. Also, clean up the labels and use
<code>theme_bw()</code>.</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>ggplot(data = combined, mapping = aes(x = date_onset)) +
    geom_histogram(binwidth = 5) +
    labs(x = &quot;Date of onset&quot;, y = &quot;Incidence&quot;) +
    theme_bw()</code></pre>
</br>
</details>
</div>
<div id="section-defining-manual-bins" class="section level3">
<h3>Defining manual bins</h3>
<p>Calculating incidence via binwidths works if we do not care about the
specific days of the week used (the bins will start at the first case),
and if we do not care about months (because months can be 28, 29, 30 or
31 days!).</p>
<p>But as epidemiologists and public health practitioners, we usually
care about the details. We typically need to produce an epidemic curve
that adheres to very particular specifications. For example, cases
binned by month, or by a 7-day week that starts on a particular day.</p>
<p>In these cases, <strong>instead of using <code>binwidth =</code>, we
specify <code>breaks =</code>.</strong></p>
<p>What does <code>breaks =</code> expect as a value? It expects a
<em>vector</em> of dates to use as breaks (cut-points).</p>
<p>How to make a vector of dates? We know that we can create a vector
using <code>c()</code>, for example <code>c(54, 22, 89)</code> or
<code>c("Paris", "Delhi", "Kigali")</code>.</p>
<p>We can even make a vector of dates:
<code>c(ymd("2014-06-15"), ymd("2014-06-22"), ymd("2014-06-29"))</code>
But this would be have to be a very long code to include <em>all</em>
the weekly break points throughout this outbreak!</p>
<p>Instead we can use the {base} function <code>seq.Date()</code> to
automatically create a <em>sequence</em> of dates between a
<code>from =</code> value, to a <code>to =</code> value, and in
increments specified to <code>by =</code>. You can specify
<code>by</code> values such as “day”, “week”, “month”, etc.</p>
<p>The sequence below uses dates of the first and last case onsets.</p>
<pre class="r"><code>seq.Date(from = ymd(&quot;2014-05-06&quot;),
         to = ymd(&quot;2014-11-28&quot;),
         by = &quot;week&quot;)</code></pre>
<pre><code>##  [1] &quot;2014-05-06&quot; &quot;2014-05-13&quot; &quot;2014-05-20&quot; &quot;2014-05-27&quot; &quot;2014-06-03&quot;
##  [6] &quot;2014-06-10&quot; &quot;2014-06-17&quot; &quot;2014-06-24&quot; &quot;2014-07-01&quot; &quot;2014-07-08&quot;
## [11] &quot;2014-07-15&quot; &quot;2014-07-22&quot; &quot;2014-07-29&quot; &quot;2014-08-05&quot; &quot;2014-08-12&quot;
## [16] &quot;2014-08-19&quot; &quot;2014-08-26&quot; &quot;2014-09-02&quot; &quot;2014-09-09&quot; &quot;2014-09-16&quot;
## [21] &quot;2014-09-23&quot; &quot;2014-09-30&quot; &quot;2014-10-07&quot; &quot;2014-10-14&quot; &quot;2014-10-21&quot;
## [26] &quot;2014-10-28&quot; &quot;2014-11-04&quot; &quot;2014-11-11&quot; &quot;2014-11-18&quot; &quot;2014-11-25&quot;</code></pre>
<p>So, we could write an epicurve command like the below:</p>
<pre class="r"><code>ggplot(data = combined, aes(x = date_onset))+
  geom_histogram(
    breaks = seq.Date(
      from = ymd(&quot;2014-05-06&quot;),
      to = ymd(&quot;2014-11-28&quot;),
      by = &quot;week&quot;)) +
  labs(x = &quot;Date of onset&quot;, y = &quot;Incidence&quot;) +
  theme_bw()</code></pre>
<p><img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-22-1.png" width="624" /></p>
<p>Now we are confident that the breaks are using 7-day intervals from
the first case to the last case.</p>
<p>But typically we want the intervals to start on
<strong>Mondays</strong> (or some other day), so we add
<code>floor_date()</code> and it’s companion <code>ceiling_date()</code>
:</p>
<pre class="r"><code># Monday BEFORE the earliest case
floor_date(ymd(&quot;2014-05-06&quot;), unit = &quot;week&quot;, week_start = 1)</code></pre>
<pre><code>## [1] &quot;2014-05-05&quot;</code></pre>
<pre class="r"><code># Monday AFTER the last case
ceiling_date(ymd(&quot;2014-11-28&quot;), unit = &quot;week&quot;, week_start = 1)</code></pre>
<pre><code>## [1] &quot;2014-12-01&quot;</code></pre>
<p>And so now we can create a vector of Mondays from before the earliest
case, to after the latest case.</p>
<pre class="r"><code># Sequence of Mondays from before earliest case, to after latest case
seq.Date(from = floor_date(ymd(&quot;2014-05-06&quot;), unit = &quot;week&quot;, week_start = 1),
         to =   ceiling_date(ymd(&quot;2014-11-28&quot;), unit = &quot;week&quot;, week_start = 1),
         by =   &quot;week&quot;)</code></pre>
<pre><code>##  [1] &quot;2014-05-05&quot; &quot;2014-05-12&quot; &quot;2014-05-19&quot; &quot;2014-05-26&quot; &quot;2014-06-02&quot;
##  [6] &quot;2014-06-09&quot; &quot;2014-06-16&quot; &quot;2014-06-23&quot; &quot;2014-06-30&quot; &quot;2014-07-07&quot;
## [11] &quot;2014-07-14&quot; &quot;2014-07-21&quot; &quot;2014-07-28&quot; &quot;2014-08-04&quot; &quot;2014-08-11&quot;
## [16] &quot;2014-08-18&quot; &quot;2014-08-25&quot; &quot;2014-09-01&quot; &quot;2014-09-08&quot; &quot;2014-09-15&quot;
## [21] &quot;2014-09-22&quot; &quot;2014-09-29&quot; &quot;2014-10-06&quot; &quot;2014-10-13&quot; &quot;2014-10-20&quot;
## [26] &quot;2014-10-27&quot; &quot;2014-11-03&quot; &quot;2014-11-10&quot; &quot;2014-11-17&quot; &quot;2014-11-24&quot;
## [31] &quot;2014-12-01&quot;</code></pre>
<p>Finally, what happens if our data are refreshed or updated with new
data? Those static dates in our code will not be current!</p>
<p>Let’s replace them with <code>min()</code> and <code>max()</code>
applied to the column <code>combined$date_onset</code>.</p>
<p>As this is not a {dplyr} pipe, we need to specify the data frame and
column with the <code>$</code> index operator. Don’t forget that these
two functions need <code>na.rm=TRUE</code> to remove missing values.</p>
<pre class="r"><code>seq.Date(from = floor_date(min(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
         to =   ceiling_date(max(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
         by =   &quot;week&quot;)</code></pre>
<pre><code>##  [1] &quot;2014-05-05&quot; &quot;2014-05-12&quot; &quot;2014-05-19&quot; &quot;2014-05-26&quot; &quot;2014-06-02&quot;
##  [6] &quot;2014-06-09&quot; &quot;2014-06-16&quot; &quot;2014-06-23&quot; &quot;2014-06-30&quot; &quot;2014-07-07&quot;
## [11] &quot;2014-07-14&quot; &quot;2014-07-21&quot; &quot;2014-07-28&quot; &quot;2014-08-04&quot; &quot;2014-08-11&quot;
## [16] &quot;2014-08-18&quot; &quot;2014-08-25&quot; &quot;2014-09-01&quot; &quot;2014-09-08&quot; &quot;2014-09-15&quot;
## [21] &quot;2014-09-22&quot; &quot;2014-09-29&quot; &quot;2014-10-06&quot; &quot;2014-10-13&quot; &quot;2014-10-20&quot;
## [26] &quot;2014-10-27&quot; &quot;2014-11-03&quot; &quot;2014-11-10&quot; &quot;2014-11-17&quot; &quot;2014-11-24&quot;
## [31] &quot;2014-12-01&quot;</code></pre>
<p>In this way, we have made our code more <em>dynamic</em>. Dynamic
code will be important if our dataset is refreshed/updated, so you want
all the plots and tables to update automatically.</p>
<p>Finally, the easiest way to insert this <code>seq.Date()</code>
vector into the <code>ggplot()</code> command is by saving it in
advance, with a name. So the command becomes two separate commands:</p>
<pre class="r"><code># Define and save the vector
ebola_weeks &lt;- seq.Date(
  from = floor_date(min(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
  to =   ceiling_date(max(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
  by =   &quot;week&quot;)</code></pre>
<p>Now if you run just <code>ebola_weeks</code>, the vector is
returned/printed. So we can provide <code>ebola_weeks</code> to the
<code>breaks =</code> argument of <code>geom_histogram()</code>.</p>
<p>One final change before we finish is that we also add
<code>closed = "left"</code> to <code>geom_histogram()</code> which sets
the bars to also count the cases reported on the break days
themselves.</p>
<pre class="r"><code># Define and save the vector
ebola_weeks &lt;- seq.Date(
  from = floor_date(min(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
  to =   ceiling_date(max(combined$date_onset, na.rm=T), unit = &quot;week&quot;, week_start = 1),
  by =   &quot;week&quot;)


# Run the plot, using the vector
ggplot(data = combined, aes(x = date_onset)) +
  geom_histogram(breaks = ebola_weeks, closed = &quot;left&quot;) +
  labs(x = &quot;Date of onset&quot;, y = &quot;Incidence&quot;) +
  theme_bw()</code></pre>
<p>Compare this plot to the histogram printed in the exercise above
(7-days, no specified breaks). Do you see any small differences in how
the cases have been binned? (look at the beginning of the epidemic).</p>
<p>The above can seem like a lot of work to just produce a list of
dates! But think of the control that you have over the output. And, now
that you have this code it will be easy to modify. (Also this is all in
the Epi R Handbook chapter on Epidemic Curves).</p>
</div>
<div id="section-monthly-epidemic-curve" class="section level3">
<h3>Monthly epidemic curve</h3>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Now it is your turn. Copy the code and make a new epidemic curve in
which the histogram bin breaks are by <em>month</em> from the
month-start prior to the first case, until the month-start after the
last case.</p>
<p>Once you have done this, adjust the code so that the
<code>fill</code> in the bars is by hospital, and the x-axis labels
appear every month.</p>
<!--
NOTE: Below is the hint (all within details tags collapsed)
-->
<details>
<summary style="text-decoration: underline; color: darkgreen;">
<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:gold;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg>
Click to read a hint
</summary>
<p></br></p>
<p>As we want the values to be aggregated by calendar month, do the
following:</p>
<ul>
<li><p>Set the <code>unit =</code> to “month” in the two {lubridate}
functions <code>floor_date()</code> and <code>ceiling_date()</code> and
remove the <code>week_start</code> arguments (check
<code>?floor_date</code> for details).<br />
</p></li>
<li><p>Change the <code>by =</code> argument of <code>seq.Date()</code>
to “month”<br />
</p></li>
<li><p>Change the name of the vector <code>ebola_weeks</code> to
<code>ebola_months</code>, and change it in the <code>ggplot()</code>
command too.</p></li>
<li><p>To set the fill, put <code>fill = hospital</code> in the
aesthetic mappings<br />
</p></li>
<li><p>To adjust the x-axis labels, do the following within
<code>scale_x_date()</code>:</p>
<ul>
<li>set <code>labels = date_label_easy()</code><br />
</li>
<li>set <code>date_breaks = "months"</code></li>
</ul></li>
</ul>
</br>
</details>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code># define and save the vector (by month)
ebola_months &lt;- seq.Date(
  from = floor_date(min(combined$date_onset, na.rm=T), unit = &quot;month&quot;),
  to =   ceiling_date(max(combined$date_onset, na.rm=T), unit = &quot;month&quot;),
  by =   &quot;month&quot;)

# run the plot with monthly breaks, and fill
ggplot(data = combined, aes(x = date_onset, fill = hospital)) +
  geom_histogram(breaks = ebola_months, closed = &quot;left&quot;) +
  scale_x_date(
    date_breaks = &quot;months&quot;,
    labels = scales::label_date_short())+
  labs(x = &quot;Date of onset&quot;, y = &quot;Incidence&quot;) +
  theme_bw()</code></pre>
</br>
</details>
</div>
<div id="section-facets" class="section level3">
<h3>Facets</h3>
<p>It may be difficult to read this epicurve and to understand the case
trends from each hospital.</p>
<p><em>Faceting</em> the plots means creating “small-multiple” (mini
plots) for each unique value in a column
(e.g. <code>hospital</code>).</p>
<p>You create facets by adding <code>facet_wrap()</code> to the ggplot.
Within this function, write a tilde ~ and then the name of the column,
for example:</p>
<pre class="r"><code>facet_wrap(~gender)</code></pre>
<p><strong>Now, create facets based on <code>hospital</code> for your
epidemic curve.</strong></p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>ggplot(data = combined, aes(x = date_onset, fill = hospital)) +
  geom_histogram(breaks = ebola_months, closed = &quot;left&quot;) +
  scale_x_date(
    date_breaks = &quot;months&quot;,
    labels = scales::label_date_short())+
  labs(x = &quot;Date of onset&quot;, y = &quot;Incidence&quot;) +
  theme_bw()+
  facet_wrap(~hospital)</code></pre>
</br>
</details>
<p>There are MANY other adjustments that you can make to your epidemic
curve made with {ggplot2}. Many of them are outlined in the <a
href="https://epirhandbook.com/en/epidemic-curves.html#epidemic-curves">Epidemic
curves chapter of the Epi R Handbook</a>.</p>
</div>
</div>
<div id="section-week-number-epicurves" class="section level2">
<h2>Week number epicurves</h2>
<p>If you want to display “week numbers”, you can leverage the fact that
you created the column <code>week_onset</code> at the beginning of this
module. Still, there will be several steps:</p>
<ol style="list-style-type: decimal">
<li>Create a vector of epiweek values (similar to what we created in the
previous section, but written like “2014 W35”)<br />
</li>
<li>Create a second vector of date values, from the epiweek values<br />
</li>
<li>Use <code>count()</code> on the discrete “yearweek” column
(e.g. <code>week_onset</code>) to get counts by week<br />
</li>
<li>Plot with <code>geom_col()</code> as shown below</li>
</ol>
<p>Below, we create a vector using <code>seq()</code> (not
<code>seq.Date()</code>, because these values are <em>weeks</em> not
dates)</p>
<pre class="r"><code>## create vector of the unique weeks which occur
all_weeks &lt;- seq(min(combined$week_onset, na.rm = TRUE),
                 max(combined$week_onset, na.rm = TRUE),
                 by = 1) 

all_weeks</code></pre>
<pre><code>## &lt;yearweek[30]&gt;
##  [1] &quot;2014 W19&quot; &quot;2014 W20&quot; &quot;2014 W21&quot; &quot;2014 W22&quot; &quot;2014 W23&quot; &quot;2014 W24&quot;
##  [7] &quot;2014 W25&quot; &quot;2014 W26&quot; &quot;2014 W27&quot; &quot;2014 W28&quot; &quot;2014 W29&quot; &quot;2014 W30&quot;
## [13] &quot;2014 W31&quot; &quot;2014 W32&quot; &quot;2014 W33&quot; &quot;2014 W34&quot; &quot;2014 W35&quot; &quot;2014 W36&quot;
## [19] &quot;2014 W37&quot; &quot;2014 W38&quot; &quot;2014 W39&quot; &quot;2014 W40&quot; &quot;2014 W41&quot; &quot;2014 W42&quot;
## [25] &quot;2014 W43&quot; &quot;2014 W44&quot; &quot;2014 W45&quot; &quot;2014 W46&quot; &quot;2014 W47&quot; &quot;2014 W48&quot;
## # Week starts on: Monday</code></pre>
<p>Then we make a second vector with these weeks transformed to
dates:</p>
<pre class="r"><code>## change weeks to dates
all_weeks_date &lt;-  as.Date(all_weeks)  

all_weeks_date</code></pre>
<pre><code>##  [1] &quot;2014-05-05&quot; &quot;2014-05-12&quot; &quot;2014-05-19&quot; &quot;2014-05-26&quot; &quot;2014-06-02&quot;
##  [6] &quot;2014-06-09&quot; &quot;2014-06-16&quot; &quot;2014-06-23&quot; &quot;2014-06-30&quot; &quot;2014-07-07&quot;
## [11] &quot;2014-07-14&quot; &quot;2014-07-21&quot; &quot;2014-07-28&quot; &quot;2014-08-04&quot; &quot;2014-08-11&quot;
## [16] &quot;2014-08-18&quot; &quot;2014-08-25&quot; &quot;2014-09-01&quot; &quot;2014-09-08&quot; &quot;2014-09-15&quot;
## [21] &quot;2014-09-22&quot; &quot;2014-09-29&quot; &quot;2014-10-06&quot; &quot;2014-10-13&quot; &quot;2014-10-20&quot;
## [26] &quot;2014-10-27&quot; &quot;2014-11-03&quot; &quot;2014-11-10&quot; &quot;2014-11-17&quot; &quot;2014-11-24&quot;</code></pre>
<p>Then we use <code>count()</code> to get counts by epiweek. The
<code>as_tibble()</code> and <code>fill_gaps(n = 0)</code> are from the
{tsibble} package and ensure that weeks with no cases are represented by
0, not dropped.</p>
<pre class="r"><code>counts &lt;- combined %&gt;%
  filter(!is.na(week_onset_date)) %&gt;%
  count(week_onset_date) %&gt;%
  ## ensure that all weeks are present in the table, filled in with 0 as necessary
  as_tsibble() %&gt;% 
  fill_gaps(n = 0)</code></pre>
<pre><code>## Using `week_onset_date` as index variable.</code></pre>
<p>Finally, we plot the counts using <code>geom_col()</code>. In the
<code>scale_x_date()</code>, the breaks are defined as the vector of
dates, and the visible labels are defined as the vector of weeks.</p>
<pre class="r"><code>## plot 
counts %&gt;%
  ggplot(aes(x = week_onset_date, y = n)) +        # n is the counts 
  geom_col(width = 7) +                            # for full-width weekly columns                             
  theme(axis.text.x = element_text(angle = 90)) +  # pivot the labels 90 degrees
  scale_x_date(
    breaks = all_weeks_date,
    labels = all_weeks)</code></pre>
<p><img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-34-1.png" width="624" /></p>
</div>
<div id="section-age-pyramids" class="section level2">
<h2>Age pyramids</h2>
<p>Age pyramids are a useful way of illustrating demographics, and can
be customised in a variety of different ways. For our purposes, we will
be using the function <code>age_pyramid()</code> from the
<strong>apyramid</strong> package.</p>
<div id="section-apyramid" class="section level3">
<h3><strong>apyramid</strong></h3>
<p>The function <code>age_pyramid()</code> is fairly simple, in that it
produces high quality age pyramids with relatively few arguments.</p>
<p>It is good to practice trying to use a function by reading the
documentation and trying to write the command yourself.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"/></svg>
Look up the documentation for the function (<code>?age_pyramid</code>).
Review the arguments, and the examples.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Now create an age pyramid using the <code>combined</code> data frame and
the <code>age_cat</code> categories, that is split by
<code>gender</code>.</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>age_pyramid(data = combined,
            age_group = &quot;age_cat&quot;, #note that the column must be enclosed in quotation marks (&quot; &quot;)
            split_by = &quot;gender&quot;)  #note that the column must be enclosed in quotation marks (&quot; &quot;)</code></pre>
</br>
</details>
<p>You can also plot the values by proportion, rather than count, and
include a column for missing data.</p>
<p><svg aria-hidden="true" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"/></svg>
Can you now, after reading the instructions, create an age pyramid of
gender that includes missing (<code>NA</code>) values and plots the
proportion?</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>age_pyramid(data = combined,
            age_group = &quot;age_cat&quot;, #note that the column must be enclosed in quotation marks (&quot; &quot;)
            split_by = &quot;gender&quot;,
            proportional = TRUE,
            na.rm = FALSE) </code></pre>
</br>
</details>
</div>
<div id="section-counts" class="section level3">
<h3>Counts</h3>
<p>In the previous example, the data is in a linelist format, where each
row is a unique observation. However, you may be given data that is
already aggregated into counts.</p>
<p>Just to practice, create this dataset <code>demo_wide_counts</code>
in your RStudio by running the following command:</p>
<pre class="r"><code># Creates the object demo_agg
#############################
demo_wide_counts &lt;- structure(list(
  age_cat = structure(c(1L, 2L, 3L, 4L, 5L, 6L, 7L, 8L, NA),
                      .Label = c(&quot;0-9&quot;, &quot;10-19&quot;, &quot;20-29&quot;, &quot;30-39&quot;, &quot;40-49&quot;, &quot;50-59&quot;, &quot;60-69&quot;, &quot;70+&quot;), class = &quot;factor&quot;),
  female = c(149L, 104L, 55L, 15L, 4L, 1L, NA, NA, NA),
  male = c(96L, 80L, 65L, 39L, 19L, 5L, 5L, 1L, NA),
  missing_gender = c(5L, 4L, 4L, 2L, NA, NA, 1L, NA, 26L)),
  row.names = c(NA, -9L),
  class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))</code></pre>
<p>It should look like this:</p>
<pre class="r"><code>demo_wide_counts</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["female"],"name":[2],"type":["int"],"align":["right"]},{"label":["male"],"name":[3],"type":["int"],"align":["right"]},{"label":["missing_gender"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"0-9","2":"149","3":"96","4":"5"},{"1":"10-19","2":"104","3":"80","4":"4"},{"1":"20-29","2":"55","3":"65","4":"4"},{"1":"30-39","2":"15","3":"39","4":"2"},{"1":"40-49","2":"4","3":"19","4":"NA"},{"1":"50-59","2":"1","3":"5","4":"NA"},{"1":"60-69","2":"NA","3":"5","4":"1"},{"1":"70+","2":"NA","3":"1","4":"NA"},{"1":"NA","2":"NA","3":"NA","4":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>To be acceptable to <code>age_pyramid()</code> the data must be in
“long” format, so first, you would need to <em>pivot longer</em> so that
the gender information is in one column (remember tidy data!) and the
counts are in one column.</p>
<p>You could use this command:</p>
<pre class="r"><code>demo_long_counts &lt;- demo_wide_counts %&gt;% 
  pivot_longer(
    col = c(female, male, missing_gender),    # cols to elongate
    names_to = &quot;gender&quot;,                      # name for new col of categories
    values_to = &quot;counts&quot;) %&gt;%                 # name for new col of counts
  mutate(
    gender = na_if(gender, &quot;missing_gender&quot;)) # convert &quot;missing_gender&quot; to NA</code></pre>
<p>Which results in:</p>
<pre class="r"><code>demo_long_counts</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["age_cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["gender"],"name":[2],"type":["chr"],"align":["left"]},{"label":["counts"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"0-9","2":"female","3":"149"},{"1":"0-9","2":"male","3":"96"},{"1":"0-9","2":"NA","3":"5"},{"1":"10-19","2":"female","3":"104"},{"1":"10-19","2":"male","3":"80"},{"1":"10-19","2":"NA","3":"4"},{"1":"20-29","2":"female","3":"55"},{"1":"20-29","2":"male","3":"65"},{"1":"20-29","2":"NA","3":"4"},{"1":"30-39","2":"female","3":"15"},{"1":"30-39","2":"male","3":"39"},{"1":"30-39","2":"NA","3":"2"},{"1":"40-49","2":"female","3":"4"},{"1":"40-49","2":"male","3":"19"},{"1":"40-49","2":"NA","3":"NA"},{"1":"50-59","2":"female","3":"1"},{"1":"50-59","2":"male","3":"5"},{"1":"50-59","2":"NA","3":"NA"},{"1":"60-69","2":"female","3":"NA"},{"1":"60-69","2":"male","3":"5"},{"1":"60-69","2":"NA","3":"1"},{"1":"70+","2":"female","3":"NA"},{"1":"70+","2":"male","3":"1"},{"1":"70+","2":"NA","3":"NA"},{"1":"NA","2":"female","3":"NA"},{"1":"NA","2":"male","3":"NA"},{"1":"NA","2":"NA","3":"26"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Now, use your knowledge of the <code>age_pyramid()</code>
documentation to adjust the plotting command to accept counts.</p>
<details>
<summary style="text-decoration: underline; color: red;">
<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>Click
to see a solution (try it yourself first!)
</summary>
<p></br></p>
<pre class="r"><code>age_pyramid(data = demo_long_counts,
            age_group = &quot;age_cat&quot;, 
            split_by = &quot;gender&quot;,
            count = &quot;counts&quot;)</code></pre>
</br>
</details>
</div>
<div id="section-adding-ggplot-to-age-pyramids" class="section level3">
<h3>Adding ggplot to age pyramids</h3>
<p>Finally, you can add ( + ) ggplot commands to {apyramid} age
pyramids. For example, the code below adds labels and adjusts the color
scale:</p>
<pre class="r"><code># Age pyramid with ggplot modifications
age_pyramid(
     data = combined,
     age_group = &quot;age_cat&quot;,
     split_by = &quot;gender&quot;,
     proportional = TRUE,
     show_midpoint = FALSE)+
     
  theme_minimal()+
     
  scale_fill_brewer(type = &quot;qual&quot;, palette = 2)+
  
  labs(title = &quot;Age and gender of confirmed cases&quot;,
       x = &quot;Proportion of all cases&quot;,
       y = &quot;Age group&quot;,
       caption = &quot;Ebola outbreak&quot;,
       fill = &quot;Gender&quot;)</code></pre>
<p><img src="ggplot_heat_epicurves_pyramids_files/figure-html/unnamed-chunk-42-1.png" width="624" /></p>
</div>
</div>
<div id="section-end" class="section level2">
<h2>End</h2>
<p>Congratulations! You have finished the exercise on heat plots,
epidemic curves, and age/sex pyramids! These are some challenging plots
that you have been making!</p>
<!-- ### **ggplot2** -->
<!-- Using `ggplot()` to build the age pyramid allows for much more flexibility, but requires more effort and an understanding of how `ggplot()` works. -->
<!-- There are several steps to constructing the age pyramid: -->
<!-- 1) Within the ggplot(), we need to create **two** histograms using the numeric age column. -->
<!-- 2) We generate the incidence values through the specifying `y = ..count..` -->
<!-- 3) One of these must have its counts converted to _negative_ values. This creates the "pyramid" with the value of 0 in the middle. Negative values are created by multiplying the column by -1. -->
<!-- 4) The command `coord_flip()` switches the X and Y axes is required to flip the axes and create the pyramid. -->
<!-- 5) Finally, the count-axis value labels must be altered so they appear as "positive" on both sides of the pyramid, despite the underlying values on one side being negative. -->
<!-- Considering you have already practiced using `geom_histogram()` for the epi curves, and given the instructions above. Can you re-create the a simple age pyramid, with age breaks ever 5 years, below? -->
<!-- ```{r, echo = F, eval = T} -->
<!-- # begin ggplot -->
<!--   ggplot(mapping = aes(x = age, fill = gender)) + -->
<!--   # female histogram -->
<!--   geom_histogram(data = combined %>% filter(gender == "female"), -->
<!--                  breaks = seq(0, 85, 5), -->
<!--                  colour = "white") + -->
<!--   # male histogram (values converted to negative) -->
<!--   geom_histogram(data = combined %>% filter(gender == "male"), -->
<!--                  breaks = seq(0,85,5), -->
<!--                  mapping = aes(y = ..count..*(-1)), -->
<!--                  colour = "white") + -->
<!--   # flip the X and Y axes -->
<!--   coord_flip() + -->
<!--   # adjust counts-axis scale -->
<!--   scale_y_continuous(limits = c(-100, 100), -->
<!--                      breaks = seq(-100,100,25), -->
<!--                      labels = abs(seq(-100, 100, 25)))+ -->
<!--   labs(y = "Count", x = "Age", fill = "Gender") -->
<!-- ``` -->
<!-- <details> -->
<!-- <summary style='text-decoration: underline; color: red;'>`<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>`{=html}Click to see a solution (try it yourself first!)</summary> -->
<!-- </br> -->
<!-- ```{r, eval = F, echo = T} -->
<!-- # begin ggplot -->
<!--   ggplot(mapping = aes(x = age, fill = gender)) + -->
<!--   # female histogram -->
<!--   geom_histogram(data = combined %>% filter(gender == "female"), -->
<!--                  breaks = seq(0, 85, 5), -->
<!--                  colour = "white") + -->
<!--   # male histogram (values converted to negative) -->
<!--   geom_histogram(data = combined %>% filter(gender == "male"), -->
<!--                  breaks = seq(0,85,5), -->
<!--                  mapping = aes(y = ..count..*(-1)), -->
<!--                  colour = "white") + -->
<!--   # flip the X and Y axes -->
<!--   coord_flip() + -->
<!--   # adjust counts-axis scale -->
<!--   scale_y_continuous(limits = c(-100, 100), -->
<!--                      breaks = seq(-100,100,25), -->
<!--                      labels = abs(seq(-100, 100, 25)))+ -->
<!--   labs(y = "Count", x = "Age", fill = "Gender") -->
<!-- ``` -->
<!-- </br> -->
<!-- </details> -->
<!-- Great, now what if we want to produce the percentages? In order to do this, we will need to group the data and use `mutate()` in order to produce new columns. -->
<!-- This part is a a lot more complicated than if we were using the **apyramid** function `age_pyramid()` -->
<!-- In order to create the percent values, we need to employ `mutate()` and the tidyselect helper function `case_when`. For example, this would be the command to generate the percent -->
<!-- ```{r, eval = F, echo = T} -->
<!--  mutate(percent = round(100*(counts / sum(counts, na.rm=T)), digits = 1),  -->
<!--          percent = case_when( -->
<!--             gender == "f" ~ percent, -->
<!--             gender == "m" ~ -percent,     # convert male to negative -->
<!--             TRUE          ~ NA_real_))    # NA val must by numeric as well -->
<!-- ``` -->
<!-- Can you add in the parts before this to assign aggregate values to an object called `pyramid_data` from `combined`? Once you've done this, can you produce the previous age pyramid, but showing percentages instead of counts, adjust axis scale and labels as necessary? -->
<!-- Remember, as in when creating an epi curve that has already been aggregated, you should use `geom_bar()` or `geom_col()` rather than `geom_histogram()` -->
<!-- <details> -->
<!-- <summary style='text-decoration: underline; color: red;'>`<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:red;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg>`{=html}Click to see a solution (try it yourself first!)</summary> -->
<!-- </br> -->
<!-- ```{r, eval = F, echo = T} -->
<!-- # create dataset with proportion of total -->
<!-- pyramid_data <- combined %>% -->
<!--   count(age_cat, -->
<!--         gender, -->
<!--         name = "counts") %>%  -->
<!--   ungroup() %>%                 # ungroup so percents are not by group -->
<!--   mutate(percent = round(100*(counts / sum(counts, na.rm=T)), digits = 1),  -->
<!--          percent = case_when( -->
<!--             gender == "female" ~ percent, -->
<!--             gender == "male" ~ -percent,     # convert male to negative -->
<!--             TRUE          ~ NA_real_))    # NA val must by numeric as well -->
<!-- # begin ggplot -->
<!--   ggplot() + -->
<!--   # histogram -->
<!--   geom_col(data = pyramid_data, -->
<!--            mapping = aes( -->
<!--              x = age_cat, -->
<!--              y = percent, -->
<!--              fill = gender),          -->
<!--            colour = "white") +       # white around each bar -->
<!--   # flip the X and Y axes -->
<!--   coord_flip() + -->
<!--   # adjust counts-axis scale -->
<!--   scale_y_continuous(limits = c(-25, 25), -->
<!--                      breaks = seq(-25,25,25), -->
<!--                      labels = abs(seq(-25, 25, 25)))+ -->
<!--   labs(y = "Percent (%)", x = "Age", fill = "Gender") -->
<!-- ``` -->
<!-- </br> -->
<!-- </details> -->

<script type="application/shiny-prerendered" data-context="server-start">
library(gradethis)
library(etude)
library(learnr)
library(dplyr)
library(flair)
library(ggplot2)
library(lubridate)
library(forcats)
library(fontawesome)
library(scales)
library(stringr)
library(apyramid)
library(incidence2)
library(viridis)
library(janitor)
library(tsibble)
library(tidyr)

# set options for exercises and checking ---------------------------------------
gradethis::gradethis_setup()

learnr::tutorial_options(exercise.timelimit = 60)
    # exercise.checker = gradethis::grade_learnr) 
    # alternatively, submitr::null_code_checker

# event recorder ---------------------------------------------------------------
# see https://github.com/dtkaplan/submitr/blob/master/R/make_a_recorder.R

tutorial_options(exercise.eval = FALSE)  # pre-evaluate exercises

# new_recorder <- function(tutorial_id, tutorial_version, user_id, event, data) {
#     cat(
#       tutorial_id, 
#       " (v", tutorial_version, "); ",
#       format(Sys.time(), "%Y-%M%-%D %H:%M:%S %Z"), "; ",
#       user_id, "; ",
#       event, "; ",
#       data$label, "; ",
#       data$answers, "; ",
#       data$code, "; ",
#       data$correct, "\n", sep = "",
#       
#       file = here::here("event_records", "learnr_basics.txt"),
#       append = TRUE)
# }

#options(tutorial.event_recorder = new_recorder)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::prepare_tutorial_state(session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::i18n_observe_tutorial_language(input, session)
</script>


<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::event_trigger(session, "session_stop")
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz-use-helper-1", 
    question = structure("When should I view the red &#39;helper&#39; code?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_c2a3e8b", 
        option = "After trying to write the code myself", value = "After trying to write the code myself", 
        label = structure("After trying to write the code myself", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9bd5fae", 
        option = "Before I try coding", value = "Before I try coding", 
        label = structure("Before I try coding", html = TRUE, class = c("html", 
        "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Reviewing best-practice code after trying to write yourself can help you improve", html = TRUE, class = c("html", 
    "character")), try_again = structure("Please attempt the exercise yourself, or use the hint, before viewing the answer.", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Please attempt the exercise yourself, or use the hint, before viewing the answer.", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-use-helper-1-answer", question = "quiz-use-helper-1"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nWhen should I view the red &#39;helper&#39; code?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 1981248808.07741, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_numeric", label = "quiz-anxious", 
    question = structure("How anxious are you about beginning this tutorial - on a scale from 1 (least anxious) to 10 (most anxious)?", html = TRUE, class = c("html", 
    "character")), answers = list(structure(list(id = "lnr_ans_1a4945a", 
        option = "10", value = 10, label = structure("10", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_282b5d6", 
        option = "9", value = 9, label = structure("9", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_906d736", 
        option = "8", value = 8, label = structure("8", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_a356007", 
        option = "7", value = 7, label = structure("7", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Try not to worry, we will help you succeed!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_a7aad92", 
        option = "6", value = 6, label = structure("6", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Ok, we will get there together", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_1779dba", 
        option = "5", value = 5, label = structure("5", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("Ok, we will get there together", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4af209e", 
        option = "4", value = 4, label = structure("4", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_7bfdbab", 
        option = "3", value = 3, label = structure("3", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_cb21dfb", 
        option = "2", value = 2, label = structure("2", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer")), structure(list(id = "lnr_ans_249fa24", 
        option = "1", value = 1, label = structure("1", html = TRUE, class = c("html", 
        "character")), correct = TRUE, message = structure("I like your confidence!", html = TRUE, class = c("html", 
        "character")), type = "literal"), class = c("tutorial_question_answer", 
    "tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
    "character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
    "character"))), messages = list(correct = structure("Thanks for sharing. ", html = TRUE, class = c("html", 
    "character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
    "character")), message = NULL, post_message = NULL), ids = list(
        answer = "quiz-anxious-answer", question = "quiz-anxious"), 
    loading = structure("<strong>Loading:<\u002fstrong> \nHow anxious are you about beginning this tutorial - on a scale from 1 (least anxious) to 10 (most anxious)?\n<br/><br/><br/>", html = TRUE, class = c("html", 
    "character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1961712405.58651, options = list(min = 1, max = 10, 
        step = 1, tolerance = 1.5e-08)), class = c("learnr_numeric", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-1", question = structure("Where are dynamic aesthetics placed in ggplot code?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_9cef9ff", 
    option = "inside aes()", value = "inside aes()", label = structure("inside aes()", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_87293ac", 
    option = "outside aes()", value = "outside aes()", label = structure("outside aes()", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("dynamic assignments means the aesthetic is mapped to a column in the data, and the presentation can vary for each row. These must be done inside &#39;mapping = aes()&#39;", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-1-answer", question = "quiz1-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhere are dynamic aesthetics placed in ggplot code?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1517324333.29344, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-2", question = structure("Are static aesthetics in the initial ggplot() call inherited by subsequent geoms?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_9ea1f48", 
    option = "No", value = "No", label = structure("No", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_cb6eb89", 
    option = "Yes", value = "Yes", label = structure("Yes", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("No, for example if you set the size of points equal to 3, the lines will not be size 3 as well.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-2-answer", question = "quiz1-2"), loading = structure("<strong>Loading:<\u002fstrong> \nAre static aesthetics in the initial ggplot() call inherited by subsequent geoms?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 260868094.378524, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-3", question = structure("Are dynamic aesthetics in the initial ggplot() call inherited by subsequent geoms?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_70ad544", 
    option = "No", value = "No", label = structure("No", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("Yes they are, for example, assigning wt_kg to the X-axis is inherited by all the subsequent geoms.", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_c54ad8b", 
    option = "Yes", value = "Yes", label = structure("Yes", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-3-answer", question = "quiz1-3"), loading = structure("<strong>Loading:<\u002fstrong> \nAre dynamic aesthetics in the initial ggplot() call inherited by subsequent geoms?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 267616001.375382, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-4", question = structure("Should adjustments to the theme be made before or after setting one of the default themes?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_5a97068", 
    option = "before", value = "before", label = structure("before", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("A complete/default theme will override all previous micro adjustments to the theme", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_de4eb08", 
    option = "after", value = "after", label = structure("after", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-4-answer", question = "quiz1-4"), loading = structure("<strong>Loading:<\u002fstrong> \nShould adjustments to the theme be made before or after setting one of the default themes?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 500468854.266951, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "quiz1-5", question = structure("Which of the following are prebuilt themes in ggplot", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_8f3bc0b", 
    option = "theme_bw()", value = "theme_bw()", label = structure("theme_bw()", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_ee361b0", 
    option = "theme_classic()", value = "theme_classic()", label = structure("theme_classic()", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_56b73ae", 
    option = "theme_red()", value = "theme_red()", label = structure("theme_red()", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_e6e373b", 
    option = "scale_color_brewer()", value = "scale_color_brewer()", 
    label = structure("scale_color_brewer()", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-5-answer", question = "quiz1-5"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following are prebuilt themes in ggplot\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1731380959.19376, options = list()), class = c("learnr_checkbox", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-6", question = structure("How would you hide a legend in ggplot?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_eab4f65", 
    option = "theme(legend.title = 'element.blank()')", value = "theme(legend.title = 'element.blank()')", 
    label = structure("theme(legend.title = &#39;element.blank()&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_f821a92", 
    option = "theme(legend.position = 'right')", value = "theme(legend.position = 'right')", 
    label = structure("theme(legend.position = &#39;right&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_f257a42", 
    option = "theme(legend.position(none))", value = "theme(legend.position(none))", 
    label = structure("theme(legend.position(none))", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_7652194", 
    option = "theme(legend.position = 'none')", value = "theme(legend.position = 'none')", 
    label = structure("theme(legend.position = &#39;none&#39;)", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-6-answer", question = "quiz1-6"), loading = structure("<strong>Loading:<\u002fstrong> \nHow would you hide a legend in ggplot?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 80185490.4626607, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-7", question = structure("How would you set your legend to appear in the centre of your graph?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_db1e3b4", 
    option = "theme(legend.position = 'middle')", value = "theme(legend.position = 'middle')", 
    label = structure("theme(legend.position = &#39;middle&#39;)", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_2e3a696", 
    option = "theme(legend.position =  c(0.5,0.5))", value = "theme(legend.position =  c(0.5,0.5))", 
    label = structure("theme(legend.position =  c(0.5,0.5))", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-7-answer", question = "quiz1-7"), loading = structure("<strong>Loading:<\u002fstrong> \nHow would you set your legend to appear in the centre of your graph?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 771921779.640546, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-2-1", question = structure("Which hospital reported the most cases with onset September?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_bd3c67d", 
    option = "SMMH", value = "SMMH", label = structure("SMMH", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_980b06d", 
    option = "Port Hospital", value = "Port Hospital", label = structure("Port Hospital", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_987aca0", 
    option = "Military Hospital", value = "Military Hospital", 
    label = structure("Military Hospital", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_4c3130a", 
    option = "Central Hospital", value = "Central Hospital", 
    label = structure("Central Hospital", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_ac24f65", 
    option = "Unknown", value = "Unknown", label = structure("Unknown", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-2-1-answer", question = "quiz1-2-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich hospital reported the most cases with onset September?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 252811328.882276, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz1-2-2", question = structure("Which hospital reported the highest case fatality ratio?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_4cc145", 
    option = "SMMH", value = "SMMH", label = structure("SMMH", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("It is not possible to know the case fatality ratio from this plot", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_4c6f8c9", 
    option = "Port Hospital", value = "Port Hospital", label = structure("Port Hospital", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("It is not possible to know the case fatality ratio from this plot", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_d43f551", 
    option = "Military Hospital", value = "Military Hospital", 
    label = structure("Military Hospital", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("It is not possible to know the case fatality ratio from this plot", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_d6d1bf3", 
    option = "Central Hospital", value = "Central Hospital", 
    label = structure("Central Hospital", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = structure("It is not possible to know the case fatality ratio from this plot", html = TRUE, class = c("html", 
    "character")), type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_60aae31", 
    option = "Unknown", value = "Unknown", label = structure("Unknown", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz1-2-2-answer", question = "quiz1-2-2"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich hospital reported the highest case fatality ratio?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = TRUE, 
    seed = 1831353458.64721, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>


<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz2-1", question = structure("Who has the highest proportion of &#39;Death&#39; as a gender and age category?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_5a5f1ff", 
    option = "Male and 20-29", value = "Male and 20-29", label = structure("Male and 20-29", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_db18654", 
    option = "Female and 20-29", value = "Female and 20-29", 
    label = structure("Female and 20-29", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_1fb38d3", 
    option = "Male and 50-59", value = "Male and 50-59", label = structure("Male and 50-59", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_ed6af85", 
    option = "Female and 40-49", value = "Female and 40-49", 
    label = structure("Female and 40-49", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz2-1-answer", question = "quiz2-1"), loading = structure("<strong>Loading:<\u002fstrong> \nWho has the highest proportion of &#39;Death&#39; as a gender and age category?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 49816070.4768026, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "quiz2-2", question = structure("Which gender has the oldest ages?", html = TRUE, class = c("html", 
"character")), answers = list(structure(list(id = "lnr_ans_721b93c", 
    option = "Female", value = "Female", label = structure("Female", html = TRUE, class = c("html", 
    "character")), correct = FALSE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer")), structure(list(id = "lnr_ans_ae6b7e", 
    option = "Male", value = "Male", label = structure("Male", html = TRUE, class = c("html", 
    "character")), correct = TRUE, message = NULL, type = "literal"), class = c("tutorial_question_answer", 
"tutorial_quiz_answer"))), button_labels = list(submit = structure("<span data-i18n=\"button.questionsubmit\">Submit Answer<\u002fspan>", html = TRUE, class = c("html", 
"character")), try_again = structure("<span data-i18n=\"button.questiontryagain\">Try Again<\u002fspan>", html = TRUE, class = c("html", 
"character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html", 
"character")), try_again = structure("Incorrect", html = TRUE, class = c("html", 
"character")), incorrect = structure("Incorrect", html = TRUE, class = c("html", 
"character")), message = NULL, post_message = NULL), ids = list(
    answer = "quiz2-2-answer", question = "quiz2-2"), loading = structure("<strong>Loading:<\u002fstrong> \nWhich gender has the oldest ages?\n<br/><br/><br/>", html = TRUE, class = c("html", 
"character")), random_answer_order = FALSE, allow_retry = FALSE, 
    seed = 1093006641.49103, options = list()), class = c("learnr_radio", 
"tutorial_question")), session = session)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["header-attrs"]},{"type":"character","attributes":{},"value":["2.13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pandoc"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["header-attrs.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/paper.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["i18n"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/i18n"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["i18next.min.js","tutorial-i18n-init.js"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["<script id=\"i18n-cstm-trns\" type=\"application/json\">{\"language\":\"en\",\"resources\":{\"en\":{\"translation\":{\"button\":{\"runcode\":\"Run Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Hint\",\"hint_plural\":\"Hints\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Next Hint\",\"hintprev\":\"Previous Hint\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copy to Clipboard\",\"startover\":\"Start Over\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continue\",\"submitanswer\":\"Submit Answer\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Previous Topic\",\"nexttopic\":\"Next Topic\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Try Again\"},\"text\":{\"startover\":\"Start Over\",\"areyousure\":\"Are you sure you want to start over? (all exercise progress will be reset)\",\"youmustcomplete\":\"You must complete the\",\"exercise\":\"exercise\",\"exercise_plural\":\"exercises\",\"inthissection\":\"in this section before continuing.\",\"code\":\"Code\",\"enginecap\":\"{{engine}} $t(text.code)\",\"quiz\":\"Quiz\",\"blank\":\"blank\",\"blank_plural\":\"blanks\",\"exercisecontainsblank\":\"This exercise contains {{count}} $t(text.blank).\",\"pleasereplaceblank\":\"Please replace {{blank}} with valid code.\",\"unparsable\":\"It looks like this might not be valid R code. R cannot determine how to turn your text into a complete command. You may have forgotten to fill in a blank, to remove an underscore, to include a comma between arguments, or to close an opening <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> or <code>{<\\/code> with a matching <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> or <code>}<\\/code>.\\n\",\"unparsablequotes\":\"<p>It looks like your R code contains specially formatted quotation marks or &quot;curly&quot; quotes (<code>{{character}}<\\/code>) around character strings, making your code invalid. R requires character values to be contained in straight quotation marks (<code>&quot;<\\/code> or <code>'<\\/code>).<\\/p> {{code}} <p>Don't worry, this is a common source of errors when you copy code from another app that applies its own formatting to text. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"unparsableunicode\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. Try deleting the special character from your code and retyping it manually.<\\/p>\\n\",\"unparsableunicodesuggestion\":\"<p>It looks like your R code contains an unexpected special character (<code>{{character}}<\\/code>) that makes your code invalid.<\\/p> {{code}} <p>Sometimes your code may contain a special character that looks like a regular character, especially if you copy and paste the code from another app. You can try replacing the code on that line with the following. There may be other places that need to be fixed, too.<\\/p> {{suggestion}}\\n\",\"and\":\"and\",\"or\":\"or\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"fr\":{\"translation\":{\"button\":{\"runcode\":\"Lancer le Code\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Indication\",\"hint_plural\":\"Indications\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Indication Suivante\",\"hintprev\":\"Indication Précédente\",\"solution\":\"Solution\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copier dans le Presse-papier\",\"startover\":\"Recommencer\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuer\",\"submitanswer\":\"Soumettre\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Chapitre Précédent\",\"nexttopic\":\"Chapitre Suivant\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Réessayer\"},\"text\":{\"startover\":\"Recommencer\",\"areyousure\":\"Êtes-vous certains de vouloir recommencer? (La progression sera remise à zéro)\",\"youmustcomplete\":\"Vous devez d'abord compléter\",\"exercise\":\"l'exercice\",\"exercise_plural\":\"des exercices\",\"inthissection\":\"de cette section avec de continuer.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"et\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"es\":{\"translation\":{\"button\":{\"runcode\":\"Ejecutar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Pista\",\"hint_plural\":\"Pistas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Siguiente pista\",\"hintprev\":\"Pista anterior\",\"solution\":\"Solución\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar al portapapeles\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar respuesta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tema anterior\",\"nexttopic\":\"Tema siguiente\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Volver a intentar\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"¿De verdad quieres empezar de nuevo? (todo el progreso del ejercicio se perderá)\",\"youmustcomplete\":\"Debes completar\",\"exercise\":\"el ejercicio\",\"exercise_plural\":\"los ejercicios\",\"inthissection\":\"en esta sección antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Cuestionario\",\"and\":\"y\",\"or\":\"o\",\"oxfordcomma\":\"\"}}},\"pt\":{\"translation\":{\"button\":{\"runcode\":\"Executar código\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Dica\",\"hint_plural\":\"Dicas\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Próxima dica\",\"hintprev\":\"Dica anterior\",\"solution\":\"Solução\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Copiar para a área de transferência\",\"startover\":\"Reiniciar\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Continuar\",\"submitanswer\":\"Enviar resposta\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Tópico anterior\",\"nexttopic\":\"Próximo tópico\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tentar novamente\"},\"text\":{\"startover\":\"Reiniciar\",\"areyousure\":\"Tem certeza que deseja começar novamente? (todo o progresso feito será perdido)\",\"youmustcomplete\":\"Você deve completar\",\"exercise\":\"o exercício\",\"exercise_plural\":\"os exercícios\",\"inthissection\":\"nesta seção antes de continuar.\",\"code\":\"Código\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"and\":\"e\",\"or\":\"ou\",\"oxfordcomma\":\"\"}}},\"tr\":{\"translation\":{\"button\":{\"runcode\":\"Çalistirma Kodu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Ipucu\",\"hint_plural\":\"Ipuçlari\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Sonraki Ipucu\",\"hintprev\":\"Önceki Ipucu\",\"solution\":\"Çözüm\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Pano'ya Kopyala\",\"startover\":\"Bastan Baslamak\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Devam et\",\"submitanswer\":\"Cevabi onayla\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Önceki Konu\",\"nexttopic\":\"Sonraki Konu\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Tekrar Deneyin\"},\"text\":{\"startover\":\"Bastan Baslamak\",\"areyousure\":\"Bastan baslamak istediginizden emin misiniz? (tüm egzersiz ilerlemesi kaybolacak)\",\"youmustcomplete\":\"Tamamlamalisin\",\"exercise\":\"egzersiz\",\"exercise_plural\":\"egzersizler\",\"inthissection\":\"devam etmeden önce bu bölümde\",\"code\":\"Kod\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Sinav\",\"oxfordcomma\":\"\"}}},\"emo\":{\"translation\":{\"button\":{\"runcode\":\"<U+0001F3C3>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+0001F4A1>\",\"hint_plural\":\"$t(button.hint)\",\"hinttitle\":\"$t(button.hint)\",\"solution\":\"<U+0001F3AF>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+0001F4CB>\",\"startover\":\"<U+23EE>\",\"startovertitle\":\"Start Over\",\"continue\":\"<U+2705>\",\"submitanswer\":\"<U+0001F197>\",\"submitanswertitle\":\"Submit Answer\",\"previoustopic\":\"<U+2B05>\",\"nexttopic\":\"<U+27A1>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+0001F501>\"},\"text\":{\"startover\":\"<U+23EE>\",\"areyousure\":\"<U+0001F914>\",\"youmustcomplete\":\"<U+26A0><U+FE0F> <U+0001F449> <U+0001F9D1><U+200D><U+0001F4BB>\",\"exercise\":\"\",\"exercise_plural\":\"\",\"inthissection\":\"\",\"code\":\"<U+0001F4BB>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"oxfordcomma\":\"\"}}},\"eu\":{\"translation\":{\"button\":{\"runcode\":\"Kodea egikaritu\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Laguntza\",\"hint_plural\":\"Laguntza\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Aurreko laguntza\",\"hintprev\":\"Hurrengo laguntza\",\"solution\":\"Ebazpena\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"Arbelean kopiatu\",\"startover\":\"Berrabiarazi\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Jarraitu\",\"submitanswer\":\"Erantzuna bidali\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Aurreko atala\",\"nexttopic\":\"Hurrengo atala\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Berriro saiatu\"},\"text\":{\"startover\":\"Berrabiarazi\",\"areyousure\":\"Berriro hasi nahi duzu? (egindako lana galdu egingo da)\",\"youmustcomplete\":\"Aurrera egin baino lehen atal honetako\",\"exercise\":\"ariketa egin behar duzu.\",\"exercise_plural\":\"ariketak egin behar dituzu.\",\"inthissection\":\"\",\"code\":\"Kodea\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Galdetegia\",\"oxfordcomma\":\"\"}}},\"de\":{\"translation\":{\"button\":{\"runcode\":\"Code ausführen\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"Tipp\",\"hint_plural\":\"Tipps\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"Nächster Tipp\",\"hintprev\":\"Vorheriger Tipp\",\"solution\":\"Lösung\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"In die Zwischenablage kopieren\",\"startover\":\"Neustart\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"Weiter\",\"submitanswer\":\"Antwort einreichen\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"Vorheriges Kapitel\",\"nexttopic\":\"Nächstes Kapitel\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"Nochmal versuchen\"},\"text\":{\"startover\":\"Neustart\",\"areyousure\":\"Bist du sicher, dass du neustarten willst? (der gesamte Lernfortschritt wird gelöscht)\",\"youmustcomplete\":\"Vervollstädinge\",\"exercise\":\"die Übung\",\"exercise_plural\":\"die Übungen\",\"inthissection\":\"in diesem Kapitel, bevor du fortfährst.\",\"code\":\"Code\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"Quiz\",\"blank\":\"Lücke\",\"blank_plural\":\"Lücken\",\"pleasereplaceblank\":\"Bitte ersetze {{blank}} mit gültigem Code.\",\"unparsable\":\"Dies scheint kein gültiger R Code zu sein. R kann deinen Text nicht in einen gültigen Befehl übersetzen. Du hast vielleicht vergessen, die Lücke zu füllen, einen Unterstrich zu entfernen, ein Komma zwischen Argumente zu setzen oder ein eröffnendes <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> oder <code>{<\\/code> mit einem zugehörigen <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code> oder <code>}<\\/code> zu schließen.\\n\",\"and\":\"und\",\"or\":\"oder\",\"listcomma\":\", \",\"oxfordcomma\":\",\"}}},\"ko\":{\"translation\":{\"button\":{\"runcode\":\"<U+CF54><U+B4DC> <U+C2E4><U+D589>\",\"runcodetitle\":\"$t(button.runcode) ({{kbd}})\",\"hint\":\"<U+D78C><U+D2B8>\",\"hint_plural\":\"<U+D78C><U+D2B8><U+B4E4>\",\"hinttitle\":\"$t(button.hint)\",\"hintnext\":\"<U+B2E4><U+C74C> <U+D78C><U+D2B8>\",\"hintprev\":\"<U+C774><U+C804> <U+D78C><U+D2B8>\",\"solution\":\"<U+C194><U+B8E8><U+C158>\",\"solutiontitle\":\"$t(button.solution)\",\"copyclipboard\":\"<U+D074><U+B9BD><U+BCF4><U+B4DC><U+C5D0> <U+BCF5><U+C0AC>\",\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"startovertitle\":\"$t(button.startover)\",\"continue\":\"<U+B2E4><U+C74C> <U+D559><U+C2B5><U+C73C><U+B85C>\",\"submitanswer\":\"<U+C815><U+B2F5> <U+C81C><U+CD9C>\",\"submitanswertitle\":\"$t(button.submitanswer)\",\"previoustopic\":\"<U+C774><U+C804> <U+D1A0><U+D53D>\",\"nexttopic\":\"<U+B2E4><U+C74C> <U+D1A0><U+D53D>\",\"questionsubmit\":\"$t(button.submitanswer)\",\"questiontryagain\":\"<U+C7AC><U+C2DC><U+B3C4>\"},\"text\":{\"startover\":\"<U+C7AC><U+D559><U+C2B5>\",\"areyousure\":\"<U+B2E4><U+C2DC> <U+C2DC><U+C791> <U+D558><U+C2DC><U+ACA0><U+C2B5><U+B2C8><U+AE4C>? (<U+BAA8><U+B4E0> <U+C608><U+C81C><U+C758> <U+C9C4><U+D589> <U+C815><U+BCF4><U+AC00> <U+C7AC><U+C124><U+C815><U+B429><U+B2C8><U+B2E4>)\",\"youmustcomplete\":\"<U+B2F9><U+C2E0><U+C740> <U+C644><U+B8CC><U+D574><U+C57C> <U+D569><U+B2C8><U+B2E4>\",\"exercise\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C>\",\"exercise_plural\":\"<U+C5F0><U+C2B5><U+BB38><U+C81C><U+B4E4>\",\"inthissection\":\"<U+C774> <U+C139><U+C158><U+C744> <U+C2E4><U+D589><U+D558><U+AE30> <U+C804><U+C5D0>\",\"code\":\"<U+CF54><U+B4DC>\",\"enginecap\":\"$t(text.code) {{engine}}\",\"quiz\":\"<U+D034><U+C988>\",\"blank\":\"<U+ACF5><U+BC31>\",\"blank_plural\":\"<U+ACF5><U+BC31><U+B4E4>\",\"exercisecontainsblank\":\"<U+C774> <U+C5F0><U+C2B5><U+BB38><U+C81C><U+C5D0><U+B294> {{count}}<U+AC1C><U+C758> $t(text.blank)<U+C774> <U+D3EC><U+D568><U+B418><U+C5B4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\",\"pleasereplaceblank\":\"{{blank}}<U+B97C> <U+C720><U+D6A8><U+D55C> <U+CF54><U+B4DC><U+B85C> <U+BC14><U+AFB8><U+C2ED><U+C2DC><U+C624>.\",\"unparsable\":\"<U+C774><U+AC83><U+C740> <U+C720><U+D6A8><U+D55C> R <U+CF54><U+B4DC><U+AC00> <U+C544><U+B2D0> <U+C218> <U+C788><U+C2B5><U+B2C8><U+B2E4>. R<U+C740> <U+D14D><U+C2A4><U+D2B8><U+B97C> <U+C644><U+C804><U+D55C> <U+BA85><U+B839><U+C73C><U+B85C> <U+BCC0><U+D658><U+D558><U+B294> <U+BC29><U+BC95><U+C744> <U+ACB0><U+C815><U+D560> <U+C218> <U+C5C6><U+C2B5><U+B2C8><U+B2E4>. <U+B2F9><U+C2E0><U+C740> <U+ACF5><U+BC31><U+C774><U+B098> <U+BC11><U+C904><U+C744> <U+B300><U+CCB4><U+D558><U+C5EC> <U+CC44><U+C6B0><U+AE30>, <U+C778><U+C218><U+B97C> <U+CEF4><U+B9C8><U+B85C> <U+AD6C><U+BD84><U+D558><U+AE30>, <U+B610><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>(<\\/code> , <code>{<\\/code><U+B85C> <U+C2DC><U+C791><U+D558><U+B294> <U+AD6C><U+BB38><U+C744> <U+B2EB><U+B294> <code>&quot;<\\/code>, <code>'<\\/code>, <code>)<\\/code>, <code>}<\\/code><U+C744> <U+C78A><U+C5C8><U+C744> <U+C218><U+B3C4> <U+C788><U+C2B5><U+B2C8><U+B2E4>.\\n\",\"and\":\"<U+ADF8><U+B9AC><U+ACE0>\",\"or\":\"<U+D639><U+C740>\",\"listcomma\":\", \",\"oxfordcomma\":\"\"}}}}}<\/script>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.13"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1.9019"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1.9019"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]}},"value":[{"type":"character","attributes":{},"value":["anytime","apyramid","assertthat","backports","base","bslib","cellranger","checkmate","cli","clock","colorspace","compiler","crayon","curl","data.table","datasets","DBI","digest","dplyr","ellipsis","etude","evaluate","fansi","farver","fastmap","flair","fontawesome","forcats","foreign","generics","ggplot2","glue","gradethis","graphics","grates","grDevices","grid","gridExtra","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","incidence2","janitor","jquerylib","jsonlite","knitr","labeling","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","munsell","openxlsx","pillar","pkgconfig","promises","purrr","R6","RColorBrewer","Rcpp","readxl","rio","rlang","rmarkdown","rprojroot","rstudioapi","sass","scales","shiny","snakecase","stats","stringi","stringr","tibble","tidyr","tidyselect","tools","tsibble","tzdb","utf8","utils","vctrs","viridis","viridisLite","withr","xfun","xtable","yaml","zip"]},{"type":"character","attributes":{},"value":["0.3.9","0.1.2","0.2.1","1.4.1","4.1.3","0.3.1","1.1.0","2.0.0","3.2.0","0.6.0","2.0-3","4.1.3","1.5.0","4.3.2","1.14.2","4.1.3","1.1.2","0.6.29","1.0.8","0.3.2","0.3.0.9001","0.15","1.0.2","2.1.0","1.1.0","0.0.2","0.2.2","0.5.1","0.8-82","0.1.2","3.3.5","1.6.2","0.2.7.9000","4.1.3","0.3.0","4.1.3","4.1.3","2.3","0.3.0","2.4.3","0.9","1.1.1","0.5.2","1.5.4","1.6.5","1.2.3","2.1.0","0.1.4","1.8.0","1.37","0.4.2","1.3.0","0.10.1.9019","1.0.1","1.8.0","2.0.2","1.1","4.1.3","0.12","0.5.0","4.2.5","1.7.0","2.0.3","1.2.0.1","0.3.4","2.5.1","1.1-2","1.0.8.2","1.3.1","0.5.29","1.0.2","2.13","2.0.2","0.13","0.4.0","1.1.1","1.7.1","0.11.0","4.1.3","1.7.6","1.4.0","3.1.6","1.2.0","1.1.2","4.1.3","1.1.1","0.2.0","1.2.2","4.1.3","0.3.8","0.6.2","0.4.0","2.5.0","0.30","1.8-4","2.3.5","2.2.0"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Applied Epi - Heat
plots, epicurves, pyramids</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->



<!-- Build Tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
